<!doctype html>
<html lang="zh-CN">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=0">
    <meta name="format-detection" content="telephone=no">
    <meta name="description" content="F2Pool支持比特币、以太坊、莱特币、大零币、门罗币、达世币、以太经典、古灵币等40多个币种的挖矿服务，目前是全球比特币算力排名第一的矿池。f2pool.cf创立于2013年，服务全球数十万矿工，接入矿机数量超过百万台，是全球领先的综合性矿池。矿池币种多、收益高、更稳定。支持ASIC矿机、显卡矿机、FPGA矿机挖矿。矿池技术持续保持领先，收益公开透明，支持PPS+/PPS多种收益分配模式，保证矿工利益最大化。">
    <meta name="baidu-site-verification" content="code-t0pgjhgFfQ" />
    <title>0x4602526044e69a6da5fd7baa25db4e05db8a7230 - F2Pool</title>
    <link rel="shortcut icon" href="https://static.f2pool.cf/static/images/favicon.ico?v=0355bdb49a472ebaefc3e899bac14d32" type="image/x-icon" />
    <link href="https://static.f2pool.cf/static/images/apple-icon-114.png?v=5b18823b70e70c2063ac8381c5164776" rel="apple-touch-icon-precomposed" />
    <link rel="stylesheet" href="https://static.f2pool.cf/static/css/bootstrap-4.6.0.min.css?v=c851740a49ffe876d8c338ec13fffcda" type="text/css">
    <link rel="stylesheet" href="https://static.f2pool.cf/static/css/fontawesome-all.min.css?v=ec709ded21f873fe093dd71a0803b8b5" type="text/css">
    <link rel="stylesheet" href="https://static.f2pool.cf/static/css/docs_v3.css?v=4246c298048b46d0f1d36d07bdd5dd1d" type="text/css">
    <link rel="alternate" hreflang="zh-CN" href="https://www.f2pool.cf/eth/0x4602526044e69a6da5fd7baa25db4e05db8a7230" />
    <link rel="alternate" hreflang="zh-TW" href="https://www.f2pool.cf/eth/0x4602526044e69a6da5fd7baa25db4e05db8a7230" />
    <link rel="alternate" hreflang="en-US" href="https://www.f2pool.cf/eth/0x4602526044e69a6da5fd7baa25db4e05db8a7230" />
    <link rel="alternate" hreflang="es-ES" href="https://www.f2pool.cf/eth/0x4602526044e69a6da5fd7baa25db4e05db8a7230" />
    <link rel="alternate" hreflang="uk-UK" href="https://www.f2pool.cf/eth/0x4602526044e69a6da5fd7baa25db4e05db8a7230" />
    <!--[if lt IE 9]><script src="https://static.f2pool.cf/static/js/html5.js?v=69431f1ec831bacf31013dff2872cba0"></script><![endif]-->
    <link rel="stylesheet" type="text/css" href="https://static.f2pool.cf/static/js/pickadate/themes/classic.css?v=d5a69ef9c02961478777c45afd243a55">
    <link rel="stylesheet" type="text/css" href="https://static.f2pool.cf/static/js/pickadate/themes/classic.date.css?v=5d12b0288eb4ec17386e670d90bf0509">
    <link rel="stylesheet" href="https://static.f2pool.cf/static/css/address-sep.css?v=750f23dd169c1bf1e387366aaa82525f" type="text/css">
    <link rel="stylesheet" type="text/css" href="https://static.f2pool.cf/static/css/fixedHeader.dataTables.min.css?v=446a1fe52d8ce74449ab8199e1134f6c">

    <script type="0b9f0d70b1d5891d63923dd3-text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PH8KKCQ');
</script>

<script type="0b9f0d70b1d5891d63923dd3-text/javascript">
if (window.top !== window.self){ window.top.location = window.location; }
var ieVer = msieversion();
if (ieVer && ieVer < 10) {
    alert('浏览器版本过低，请使用Chrome、Firefox等浏览器访问F2Pool。');
}
function msieversion() {
    var ua = window.navigator.userAgent;
    var msie = ua.indexOf("MSIE ");
    if (msie > -1 || !!navigator.userAgent.match(/Trident.*rv\:11\./)) {
        return parseInt(ua.substring(msie + 5, ua.indexOf(".", msie)));
    }
    return false;
}
</script>
<script src="https://static.f2pool.cf/static/js/docs.js?v=8200cb6e79d4bbc544c7a46f5e625d94" type="0b9f0d70b1d5891d63923dd3-text/javascript"></script>
    </head>
    <body outouchstart="" class=" lang-zh_CN">

    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PH8KKCQ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<div class="page-wrapper  lang-zh_CN">
    <header class="header  header-white header-fix-top header-no-banner header-address show-address">
    <nav class="navbar navbar-expand-lg navbar-dark justify-content-between">
    <div class="navbar-brand-container d-flex align-items-center">
    <div class="navbar-brand logo">
    <a href="https://www.f2pool.cf/"></a>
    </div>
    </div>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <div class="navbar-collapse-inner d-block d-lg-flex">
    <div class="navbar-nav mr-auto ml-auto order-lg-1">
    <a class="nav-item nav-link d-block d-lg-none active" href="/eth/0x4602526044e69a6da5fd7baa25db4e05db8a7230">
    <i class="far fa-wallet"></i> 0x46…7230
    </a>
    <a class="nav-item nav-link " href="/coins">
    PoW排行榜
    </a>
    <a class="nav-item nav-link " href="/miners">
    热门矿机
    </a>
    <a class="nav-item nav-link halving-link d-block d-lg-none " href="/halving">
    <span class="fire-icon"></span>减产倒计时
    </a>
    <div class="nav-item nav-link dropdown dropdown-global-more">
    <a class="dropdown-toggle" style="position: relative" data-toggle="dropdown">
    更多 <i class="far fa-angle-down"></i>

    </a>
    <div class="dropdown-menu">
    <a class="dropdown-item " href="/download">
    App
    </a>
    <a class="dropdown-item " href="/tools">
    工具

    </a>
    <a class="dropdown-item " href="/farms">
    全球矿场
    </a>
    <a class="dropdown-item d-none d-lg-inline-block " href="/halving">
    减产倒计时
    </a>
    <a class="dropdown-item " href="/zendesk/help">
    帮助中心
    </a>
    </div>
    </div>
    <a class="nav-item nav-link d-none d-lg-block active" href="/eth/0x4602526044e69a6da5fd7baa25db4e05db8a7230">
    <i class="far fa-wallet"></i> 0x46…7230
    </a>
    </div>
    <div class="d-block d-lg-inline-block order-lg-0 global-lang-container">
    <div class="dropdown dropdown-global-lang ">
    <span class="dropdown-toggle" data-toggle="dropdown">
    <span class="language-toggle-text">简体中文</span> <i class="far fa-angle-down"></i>
    </span>
    <div class="dropdown-menu">
    <a class="dropdown-item change-lang" href="#" data-lang="zh_TW">繁體中文</a>
    <a class="dropdown-item change-lang" href="#" data-lang="en_US">English</a>
    <a class="dropdown-item change-lang" href="#" data-lang="es_ES">Español</a>
    <a class="dropdown-item change-lang" href="#" data-lang="uk_UK">Українська</a>
    </div>
    </div>
    </div>
    <div class="sign-container d-flex d-lg-block justify-content-center order-lg-11">
    <a class="btn-signup" href="/user/signup">注册</a>
    <a class="btn-signin" href="/user/signin">登录</a>
    </div>
    </div>
    </div>
    <span class="icon-form-search-toggle" data-toggle="modal" data-target="#global-search-modal">
    <i class="fa fa-search"></i>
    </span>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fa fa-bars"></span>
    </button>
    </nav>
    </header>
    <div class="page-main">
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript">
if (window.innerWidth <= 991) document.querySelector('header.header').className += ' header-white header-fix-top header-no-banner';
</script>
<div class="page-address page-address-page container-fluid">



    <section class="section-statistic row justify-content-center">
    <div class="container col-12">
    <section class="revenue-part">
    <div class="address-item text-left  d-inline-block">
    <div class="content">
    <i class="far fa-wallet"></i>&nbsp;
0x4602526044e69a6da5fd7baa25db4e05db8a7230
</div>
</div>
<div class="main-item row justify-content-center">
    <div class="col-12 col-lg-11 col-xl-10">
    <div class="row first-row d-flex justify-content-between">
    <div class="item">
    <div class="content">
    <div class="item-val">
    <div class="title">总收入<span class="code"> (ETH)</span></div>
<div class="num">31.67080140</div>
    </div>
    </div>
    </div>
    <div class="line d-none d-lg-block"></div>
    <div class="item">
    <div class="content">
    <div class="item-val">
    <div class="title">总支出<span class="code"> (ETH)</span></div>
<div class="num">31.67080140</div>
    </div>
    </div>
    </div>
    <div class="line d-none d-lg-block"></div>
    <div class="item">
    <div class="content">
    <div class="item-val">
    <div class="title">
    昨日收益
    <span class="code"> (ETH)</span>
    <span class="icon-about" data-toggle="tooltip" data-container=".revenue-part" title="当日00:00 UTC前24小时收益。">
    </span>
    </div>
    <div class="num">
    0.50934410
    </div>
    </div>
    </div>
    </div>
    <div class="line d-none d-lg-block"></div>
    <div class="item">
    <div class="content">
    <div class="item-val">
    <div class="title">
    今日已挖（预估）
<span class="code"> (ETH)</span>
    <span class="icon-about" data-toggle="tooltip" data-container=".revenue-part" title="
包含PPS挖矿收益+预估矿工费奖励两部分，预估矿工费奖励参照前1日的奖励金额，可能与您的实际收益存在偏差。
">
</span>
</div>
<div class="num">
    0.14202448
    </div>
    </div>
    </div>
    </div>
    </div>
    <div class="row second-row d-flex justify-content-between">
    <div class="item">
    <div class="content">
    <div class="item-val">
    <div class="title">
    帐户余额
    <span class="code"> (ETH)</span>
    <span class="icon-about" data-toggle="tooltip" data-container=".revenue-part" title="如收益不足起付额，收益将存放在矿池内，并以余额显示。 ">
    </span>
    </div>
    <div class="num">
    0.00000000
    </div>
    </div>
    <div class="item-action">
    <div class="small-withdrawal-container">
    <div class="apply disabled" style="display: none">
    <div class="d-flex align-items-center">
    <span class="btn-frame btn-small-withdrawal-frame d-inline-block">
    <button class="btn btn-small-withdrawal" type="button" disabled="disabled">小额提币</button>
    </span>
    <span class="icon-about" data-toggle="tooltip" data-container=".revenue-part" title="如果您已停止挖矿且账户余额小于最小起付额，可申请小额提币。申请后，矿池将支付账户余额到您已绑定的钱包。小额提币 30 天内只能申请 1 次。">
    </span>
    </div>
    </div>
    <div class="applied" style="display: none">
    <button class="btn btn-success-applied" type="button" data-toggle="modal" data-target="#applySmallWithdrawalSuccessModal">
    已申请小额提币
    </button>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    <div class="workers-item text-center">
    <div class="status-bar d-inline-flex">
    <div class="status-item all d-block d-lg-flex align-items-lg-center">
    <div class="d-flex align-items-center justify-content-center">
    <span class="dot"></span>
    <span class="item-title d-flex d-lg-inline align-items-center justify-content-center">全部
    <i class="icon-about blue d-inline-block d-lg-none" data-toggle="tooltip" data-placement="bottom" title="全部 = 在线 + 离线"></i>
    </span>
    </div>
    <span class="item-val">-</span>
    <i class="icon-about blue d-none d-lg-inline-block" data-toggle="tooltip" data-placement="bottom" title="全部 = 在线 + 离线"></i>
    </div>
    <div class="status-item online d-block d-lg-flex align-items-lg-center">
    <div class="d-flex align-items-center justify-content-center">
    <span class="dot"></span>
    <span class="item-title d-flex d-lg-inline align-items-center justify-content-center">在线</span>
    </div>
    <span class="item-val">-</span>
    </div>
    <div class="status-item offline d-block d-lg-flex align-items-lg-center">
    <div class="d-flex align-items-center justify-content-center">
    <span class="dot"></span>
    <span class="item-title d-flex d-lg-inline align-items-center justify-content-center">离线</span>
    </div>
    <span class="item-val">-</span>
    </div>
    </div>
    </div>
    </section>
    </div>
    </section>
    <section class="section-ann row justify-content-center">
    <div class="col-12 col-lg-11 col-xl-10">
    <div class="ann-modal modal">
    <div class="modal-dialog row justify-content-center" role="document">
    <div class="modal-content">
    <div class="modal-header">
    <h5 class="modal-title">通知公告</h5>
    </div>
    <div class="modal-body">
    <ul class="">
    <li>每日00:00 UTC达到起付额（默认0.1 ETH，可设置为0.2/0.5/1/5/10 ETH）自动结算，并于当日00:00–08:00 UTC自动付款，每日付款一次。
请加f2pool官方社群获取矿池最新动态：<strong><a href="https://t.me/f2poolreal ">Telegram社群</a></strong>；<strong><a href="https://discord.gg/fhjeWrmdK9">Discord社群</a></strong>。</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="section-hashrate row justify-content-center">
    <div class="toggle-control-container col-12 col-lg-11 col-xl-10">
    <div class="d-flex align-items-center justify-content-between title">
    <h4>ETH - 过去24小时算力</h4>
    <div class="period-toggle btn-group btn-group-toggle" data-toggle="buttons">
    <label class="btn active">
    <input type="radio" name="period_toggle" data-val="30min" autocomplete="off" checked />30分钟
</label>
<label class="btn">
    <input type="radio" name="period_toggle" data-val="1d" autocomplete="off" />1天
</label>
</div>
</div>
<div id="chart" style="width: 100%;"></div>
    </div>
    </section>
    <section class="section-tables row justify-content-center">
    <div class="col-12 col-lg-11 col-xl-10">
    <div class="list-head d-flex justify-content-between align-items-center" id="list-head">
    <div class="tabs-container d-flex justify-content-left align-items-center">
    <div class="line-decoration">
    </div>
    <h2>
    ETH
    </h2>
    <ul class="nav nav-tabs d-none d-lg-flex align-items-start" id="historyTab" role="tablist">
    <li class="nav-item" role="presentation">
    <a class="nav-link" id="workers-tab" data-toggle="tab" data-currency="eth-address" data-type="workers" href="#workers" role="tab">矿工管理</a>
    </li>
    <li class="nav-item" role="presentation">
    <a class="nav-link" id="income-tab" data-toggle="tab" data-currency="eth-address" data-type="income" href="#income" role="tab">收入记录</a>
    </li>
    <li class="nav-item" role="presentation">
    <a class="nav-link" id="payout-tab" data-toggle="tab" data-currency="eth-address" data-type="payout" href="#payout" role="tab">支出记录</a>
    </li>
    </ul>
    <ul class="nav nav-tabs d-block d-lg-none" id="m-historyTab" role="tablist">
    <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false"></a>
    <div class="dropdown-menu">
    <a class="dropdown-item" id="m-workers-tab" data-currency="eth-address" data-type="workers" data-toggle="tab" href="#workers" role="tab">矿工管理</a>
    <a class="dropdown-item" id="m-income-tab" data-currency="eth-address" data-type="income" data-toggle="tab" href="#income" role="tab">收入记录</a>
    <a class="dropdown-item" id="m-payout-tab" data-currency="eth-address" data-type="payout" data-toggle="tab" href="#payout" role="tab">支出记录</a>
    </div>
    </li>
    </ul>
    </div>
    <div class="actions-container">
    <div class="worker-filter" style="display: none">
    <div class="search-input-container d-none d-lg-inline-block">
    <input type="text" class="form-control d-inline-block search-worker-name" placeholder="请输入要搜索的矿工 " />
    <i class="fa fa-search"></i>
    <i class="fa fa-times-circle icon-clear-search"></i>
    <button class="btn-normal" type="button">搜索</button>
    </div>
    </div>
    <div class="export-container" style="display: none">
    <button class="d-none d-lg-block btn btn-normal btn-export main-btn-export eth-address" disabled="disabled" type="button" data-toggle="modal" data-target="#modalExport" data-currency="eth-address" data-type="income" data-display-code="ETH">
    导出<i class="icon-export"></i>
    </button>
    </div>
    </div>
    </div>
    <div class="tab-content">
    <div class="tab-pane fade workers-tab-pane" id="workers" role="tabpanel" aria-labelledby="workers-tab">
    <div class="worker-main-content">
    <div class="side-container">
    <div class="inner">
    <div class="list-group-container">
    <ul id="tags-list" class="list-group justify-content-center">
    <li class="list-group-item item J-tag-all active" data-tag="all">
    <div class="tag-title">全部</div>
    </li>
    <li class="list-group-item item J-tag-ungrouped" data-tag="-1">
    <div class="tag-title">未分组</div>
    </li>
    </ul>
    </div>
    </div>
    </div>
    <div class="content-container">
    <div class="list-sort-container d-block d-lg-none" id="listSortContainer">
    <div class="list-sort d-flex">
    <div class="list-sort-btn tag">
    <button class="btn collapsed" type="button" data-toggle="collapse" data-target="#listSortContent1" aria-expanded="false" aria-controls="listSortContent1">
    <span>全部</span>
    <i class="fa"></i>
    </button>
    </div>
    <div class="list-sort-btn sort">
    <button class="btn collapsed" type="button" data-toggle="collapse" data-target="#listSortContent2" aria-expanded="false" aria-controls="listSortContent2">
    <span>矿工名（正序）</span>
<i class="fa"></i>
    </button>
    </div>
    <div class="search-dropdown-container d-flex justify-content-center align-items-center collapsed" data-toggle="collapse" href="#workerFilterContainer" role="button">
    <i class="fa fa-search"></i>
    </div>
    </div>
    <div class="list-sort-content-container">
    <div class="list-sort-content collapse-tag collapse" id="listSortContent1">
    <div class="inner">
    <a class="list-group-item item J-tag-all active" data-tag="all">
    <div class="tag-title">全部</div>
    </a>
    <a class="list-group-item item J-tag-ungrouped" data-tag="-1">
    <div class="tag-title">未分组</div>
    </a>
    </div>
    </div>
    <div class="list-sort-content collapse-table-sort collapse" id="listSortContent2">
    <div class="item active" data-sort="worker_name" data-type="asc">矿工名（正序）</div>
<div class="item" data-sort="worker_name" data-type="desc">矿工名（倒序）</div>
<div class="item" data-sort="hashrate" data-type="asc">15分钟平均算力（低到高）</div>
<div class="item" data-sort="hashrate" data-type="desc">15分钟平均算力（高到低）</div>
<div class="item" data-sort="hashrate_last_day" data-type="asc">24小时平均算力（低到高）</div>
<div class="item" data-sort="hashrate_last_day" data-type="desc">24小时平均算力（高到低）</div>
<div class="item" data-sort="delayrate" data-type="asc">延迟率（低到高）</div>
<div class="item" data-sort="delayrate" data-type="desc">延迟率（高到低）</div>
<div class="item" data-sort="stalerate" data-type="asc">拒绝率（低到高）</div>
<div class="item" data-sort="stalerate" data-type="desc">拒绝率（高到低）</div>
<div class="item" data-sort="last_share" data-type="asc" style="display: none;">最近提交时间（正序）</div>
<div class="item" data-sort="last_share" data-type="desc" style="display: none;">最近提交时间（倒序）</div>
</div>
</div>
<div class="worker-filter-container collapse" id="workerFilterContainer">
    <div class="worker-filter justify-content-between align-items-start">
    <div class="search-input-container d-block d-lg-inline-block">
    <input type="text" class="form-control d-inline-block search-worker-name" placeholder="请输入要搜索的矿工 " />
    <i class="fa fa-search"></i>
    <i class="fa fa-times-circle icon-clear-search"></i>
    <button class="btn-normal" type="button">搜索</button>
    </div>
    </div>
    </div>
    </div>
    <div class="worker-grid-header">
    <div class="worker-status-filter">
    <ul class="nav nav-tabs">
    <li class="nav-item">
    <a class="nav-link nav-status-all active" href="#" data-status="all">
    <div class="text-nowrap d-block d-lg-inline-block">
    全部
    </div>
    <span class="status-count"></span>
    <span class="icon-about grey d-none d-lg-inline-block" data-toggle="tooltip" title="全部 = 在线 + 离线"></span>
    </a>
    </li>
    <li class="nav-item">
    <a class="nav-link nav-status-online" href="#" data-status="0">
    <div class="text-nowrap d-block d-lg-inline-block">
    <span class="status-dot online"></span>在线
    </div>
    <span class="status-count"></span>
    </a>
    </li>
    <li class="nav-item">
    <a class="nav-link nav-status-offline" href="#" data-status="1">
    <div class="text-nowrap d-block d-lg-inline-block">
    <span class="status-dot offline"></span>离线
    </div>
    <span class="status-count"></span>
    <span class="icon-about grey d-none d-lg-inline-block" data-toggle="tooltip" title="超过10分钟未提交share的矿工"></span>
    </a>
    </li>
    </ul>
    </div>
    </div>
    <div class="worker-table" style="width: 100%;">
    <table id="worker-table" class="table table-worker responsive">
    <thead>
    <tr>
    <th class="worker-name">矿工&nbsp;</th>
<th class="d-none d-lg-table-cell hash-local">
    <span class="d-inline d-lg-none">本地算力</span>
    <span class="d-none d-lg-inline">本地算力</span>
    </th>
    <th class="hash-15m">
    <span class="d-none d-xl-inline">15分钟算力</span>
<span class="d-none d-sm-inline d-xl-none">15分钟</span>
<span class="d-inline d-sm-none">15分钟</span>
</th>
<th class="hash-24h">
    <span class="d-none d-xl-inline">24小时算力</span>
<span class="d-none d-sm-inline d-xl-none">24小时</span>
<span class="d-inline d-sm-none">24小时</span>
</th>
<th class="delayed d-lg-table-cell">
    <span class="d-none d-lg-inline">延迟率</span>
    <span class="d-inline d-lg-none switch">
    延迟率&nbsp;<img class="switch-icon" src="https://static.f2pool.cf/static/images/switch.png?v=746542b868df063a66c36cdcfd8fb8a8" style="width: 14px" />
    </span>
    </th>
    <th class="rejected">
    <span class="d-none d-lg-inline">拒绝率</span>
    <span class="d-inline d-lg-none switch">
    拒绝率&nbsp;<img class="switch-icon" src="https://static.f2pool.cf/static/images/switch.png?v=746542b868df063a66c36cdcfd8fb8a8" style="width: 14px" />
    </span>
    </th>
    <th class="last-share">最近提交时间</th>
    <th class="d-none  group">组名</th>
    <th class="d-none d-lg-table-cell"></th>
    </tr>
    <tr id="head-row-total">
    <td class="worker-name"><span class="status-dot all"></span> 汇总</td>
<td class="d-none d-lg-table-cell hash-local">
    </td>
    <td class="hash-15m">
    </td>
    <td class="hash-24h">
    </td>
    <td class="delayed"></td>
    <td class="rejected"></td>
    <td class="last-share">-</td>
    <td class="d-none tag"></td>
    <td class="d-none status"></td>
    <td class="d-none  group">-</td>
    <td class="d-none d-lg-table-cell"></td>
    </tr>
    </thead>
    <tbody>
    </tbody>
    </table>
    </div>
    </div>
    </div>
    </div>
    <div class="tab-pane fade" id="income" role="tabpanel" aria-labelledby="income-tab">
    <table id="income-table" class="table table-revenue table-income" data-currency="eth-address" data-type="income" style="width: 100%;">
    <thead>
    <tr>
    <th>结算时间
    <span class="icon-about grey" data-toggle="tooltip" data-container="#income-table" data-html="true" title='<div class="white-space-normal">
每日00:00 UTC结算过去24小时收益。</div>'>
</span>
<div class="d-block d-lg-none text-secondary">日均算力
    <span class="icon-about grey" data-toggle="tooltip" data-container="#income-table" data-html="true" title='<div class="white-space-normal">
结算时点前24小时的平均算力。</div>'>
</span>
</div>
</th>
<th class="d-none d-lg-table-cell">日均算力
    <span class="icon-about grey" data-toggle="tooltip" data-container="#income-table" data-html="true" title='<div class="white-space-normal">
结算时点前24小时的平均算力。</div>'>
</span>
</th>
<th>金额
<span class="icon-about grey" data-toggle="tooltip" data-container="#income-table" data-html="true" title='<div class="white-space-normal">
PPS+收益模式：包含PPS挖矿收益+矿工费奖励两部分，矿工费奖励已包含在金额中。</div>'>
</span>
</th>
<th class="d-none ">难度</th>
    <th class="d-none d-lg-table-cell">备注</th>
    </tr>
    </thead>
    <tbody></tbody>
    </table>
    </div>
    <div class="tab-pane fade" id="payout" role="tabpanel" aria-labelledby="payout-tab">
    <table id="payout-table" class="table table-revenue table-payout" data-currency="eth-address" data-type="payout" style="width: 100%;">
    <thead>
    <tr>
    <th>日期
    </th>
    <th>
    到帐金额
    <div class="d-block d-lg-none text-secondary">支付状态</div>
    </th>
    <th class="d-none d-lg-table-cell">地址</th>
    <th class="d-none d-lg-table-cell">支付状态</th>
    </tr>
    </thead>
    <tbody></tbody>
    </table>
    </div>
    </div>
    </div>
    </section>
    <div class="btn-global-help d-none d-lg-block" data-toggle="modal" data-target="#modal-worker-help">
    <div class="inner"><i class="fas fa-question"></i></div>
<div class="text">&nbsp;挖矿帮助&nbsp;&nbsp;&nbsp;</div>
</div>


<div class="modal fade modal-confirm" id="applySmallWithdrawalModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
    <div class="modal-body">
    <span class="close" data-dismiss="modal" aria-label="Close"></span>
    <h3 class="modal-title">小额提币</h3>
    <div class="item">
    <div class="title">提币金额</div>
    <div class="info info-amount-transfer"></div>
    </div>
    <div class="item">
    <div class="title">转帐费</div>
    <div class="info info-transfer-fee"></div>
    </div>
    <div class="item">
    <div class="title">收币地址</div>
    <div class="info info-address text-break"></div>
    <div class="remind">*&nbsp;点击“确定”之前，请先确认该钱包地址是否能充值到账。</div>
</div>
<div class="item d-flex justify-content-between">
    <div class="title">到帐金额</div>
    <div class="info info-amount-received text-blue"></div>
    </div>
    <div class="item d-flex justify-content-between">
    <div class="title">支付时间</div>
    <div class="info info-time text-blue"></div>
    </div>
    <div class="actions">
    <button type="button" class="btn btn-submit btn-bar">确定</button>
    </div>
    </div>
    </div>
    </div>
    </div>
    <div class="modal fade modal-confirm" id="applySmallWithdrawalSuccessModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
    <div class="modal-body">
    <span class="close" data-dismiss="modal" aria-label="Close"></span>
    <h3 class="modal-title">您已成功申请小额提币</h3>
    <div class="eth-amount-transfer-container hide">
    <div class="title d-flex align-items-center">
    <div class="icon d-flex align-items-center justify-content-center"><i class="fas fa-coins"></i></div>
<div>到帐金额</div>
</div>
<div class="info info-amount-received"></div>
    </div>
    <div class="title d-flex align-items-center">
    <div class="icon d-flex align-items-center justify-content-center">
    <i class="fal fa-alarm-clock"></i>
    </div>
    <div>支付时间</div>
    </div>
    <div class="info info-date"></div>
    <div class="title d-flex align-items-center">
    <div class="icon d-flex align-items-center justify-content-center">
    <i class="far fa-wallet"></i>
    </div>
    <div>支付到钱包</div>
    </div>
    <div class="info info-wallet text-break"></div>
    </div>
    </div>
    </div>
    </div>
    <div class="modal fade modal-confirm" id="smallWithdrawalRemindModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
    <div class="modal-body">
    <span class="close" data-dismiss="modal" aria-label="Close"></span>
    <h3 class="modal-title">提示</h3>
    <div class="content"></div>
    </div>
    </div>
    </div>
    </div>


    <div class="modal fade modal-confirm" id="applySmallWithdrawalAnonymousModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
    <div class="modal-body">
    <span class="close" data-dismiss="modal" aria-label="Close"></span>
    <h3 class="modal-title">小额提币</h3>
    <div class="content">请打开 <a class="highlight" href="/zendesk/help" target="_black">提交工单</a> 页面，将以下内容分别复制到对应的输入框中，然后提交，等待人工审核。</div>
<label for="apply-title">标题</label>
    <div class="input-group mb-3">
    <input type="text" class="form-control" id="apply-title" placeholder="">
    <div class="input-group-append">
    <button class="btn btn-outline-secondary btn-copy-input" type="button">复制</button>
    </div>
    </div>
    <label for="apply-description">备注</label>
    <div class="input-group mb-3">
    <textarea class="form-control" id="apply-description" placeholder=""></textarea>
    <div class="input-group-append">
    <button class="btn btn-outline-secondary btn-copy-input" type="button">复制</button>
    </div>
    </div>
    <label for="apply-type">问题种类</label>
    <div class="input-group mb-3">
    <input type="text" class="form-control" id="apply-type" placeholder="" value="小额提币">
    <div class="input-group-append">
    <span class="input-group-text" id="apply-type-icon"><i class="fas fa-caret-down"></i></span>
</div>
</div>
<div class="secondary">有疑问？&nbsp;<a href="/zendesk/help" target="_black">提交工单</a></div>
</div>
</div>
</div>
</div>
<div class="modal fade" id="modalExport" tabindex="-1" role="dialog" aria-labelledby="label-export">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <form class="modal-content">
    <div class="modal-body">
    <span class="close" data-dismiss="modal" aria-label="Close"></span>
    <div class="alert alert-danger" style="display: none;"></div>
    <h3>导出时间</h3>
    <div class="row">
    <div class="col-12 col-lg-6 form-group">
    <label>开始日期</label>
    <div class="input-group">
    <input type="text" id="ipt-start-date" class="form-control" placeholder="开始日期">
    <div class="input-group-append">
    <span class="input-group-text justify-content-center" id="basic-addon2" style="color: #5d5d84;"><i class="far fa-clock"></i></span>
</div>
</div>
</div>
<div class="col-12 col-lg-6 form-group">
    <label>结束日期</label>
    <div class="input-group">
    <input type="text" id="ipt-end-date" class="form-control" placeholder="结束日期">
    <div class="input-group-append">
    <span class="input-group-text justify-content-center" id="basic-addon2" style="color: #5d5d84;"><i class="far fa-clock"></i></span>
</div>
</div>
</div>
</div>
<div class="export-accounts form-group" style="display: none">
    <h3 class="mt-40">请选择挖矿帐户</h3>
    <select class="select-picker" multiple required></select>
</div>
<h3 class="mt-40">导出格式</h3>
    <div class="comment"></div>
    <div class="check-format-container d-flex flex-wrap justify-content-start"></div>
    <div class="text-right">
    <button type="button" class="btn btn-submit btn-bar">确定</button>
    </div>
    </div>
    </form>
    </div>
    </div>
    <div class="excel-container" style="display: none">
    <table id="export-income-table-excel" class="table table-bordered table-striped" style="width: 100%;">
    <thead>
    <tr>
    <th>日期</th>
    <th>日均算力</th>
    <th>单位</th>
    <th>金额（PPS）</th>
<th>金额（奖励）</th>
<th>合计</th>
<th>兑换比例</th>
<th>备注</th>
</tr>
</thead>
<tbody></tbody>
</table>
</div>
<div class="excel-container" style="display: none">
    <table id="export-payout-table-excel" class="table table-bordered table-striped" style="width: 100%;">
    <thead>
    <tr>
    <th>日期</th>
    <th>金额</th>
    <th>转帐费</th>
    <th>地址</th>
    <th>支付状态</th>
    <th>交易ID</th>
    </tr>
    </thead>
    <tbody></tbody>
    </table>
    </div>
    <div class="excel-container" style="display: none">
    <table id="export-dividends-table-excel" class="table table-bordered table-striped" style="width: 100%;">
    <thead>
    <tr>
    <th>日期</th>
    <th>日均算力</th>
    <th>单位</th>
    <th>金额（PPS）</th>
<th>金额（奖励）</th>
<th>合计</th>
<th>地址</th>
<th>备注</th>
</tr>
</thead>
<tbody></tbody>
</table>
</div>
<div class="modal fade modal-page modal-worker-detail" id="modal-worker-detail">
    <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
    <div class="modal-content">
    <div class="modal-body">
    <div class="modal-page-header d-flex justify-content-start align-items-center">
    <a href="javascript:void(0);" class="btn-back d-flex flex-column justify-content-center align-items-center"><i class="fa fa-chevron-left"></i></a>
<span></span>
</div>
<div class="modal-page-body">
    <div class="container-worker-chart" style="width: 100%; height: 280px;"></div>
    <div class="container-info"></div>
    </div>
    </div>
    </div>
    </div>
    </div>
    <div class="modal fade modal-help" id="modal-worker-help" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
    <div class="modal-body">
    <span class="close" data-dismiss="modal" aria-label="Close"></span>
    <h3 class="modal-title">挖矿帮助</h3>
    <h4>
    <span class="title-icon"><i class="fa fa-fw fa-wrench"></i></span>
挖矿地址
</h4>
<div class="item-content pool-address">
    <div class="copy-container">
    <div class="line d-flex justify-content-between align-items-start">
    <div>
    <span class="copy-content">stratum+tcp://eth.f2pool.cf:6688</span>
</div>
<button type="button" class="btn btn-normal btn-copy">复制</button>
    </div>
    </div>
    <div class="copy-container">
    <div class="line d-flex justify-content-between align-items-start">
    <div>
    <span class="copy-content">stratum+tcp://eth-backup.f2pool.cf:6688</span>
</div>
<button type="button" class="btn btn-normal btn-copy">复制</button>
    </div>
    </div>
    <div class="copy-container">
    <div class="line d-flex justify-content-between align-items-start">
    <div>
    <span class="copy-content">stratum+ssl://ethssl-asia.f2pool.cf:6698</span>
<span>（备用端口：6699）</span>
</div>
<button type="button" class="btn btn-normal btn-copy">复制</button>
    </div>
    </div>
    <div class="copy-container">
    <div class="line d-flex justify-content-between align-items-start">
    <div>
    <span class="copy-content">stratum+ssl://ethssl-euro.f2pool.cf:6698</span>
<span>（备用端口：6699）</span>
</div>
<button type="button" class="btn btn-normal btn-copy">复制</button>
    </div>
    </div>
    <div class="copy-container">
    <div class="line d-flex justify-content-between align-items-start">
    <div>
    <span class="copy-content">stratum+ssl://ethssl-na.f2pool.cf:6698</span>
<span>（备用端口：6699）</span>
</div>
<button type="button" class="btn btn-normal btn-copy">复制</button>
    </div>
    </div>
    </div>
    <h4>
    <span class="title-icon"><i class="fas fa-fw fa-wallet"></i></span>
支付规则
</h4>
<div class="item-content">
    每日08:00达到起付标准自动结算，08:00之前未支付的收益，不足起付标准则当日不能结算。
</div>
<h4>
<span class="title-icon"><i class="fas fa-fw fa-credit-card"></i></span>
起付额
</h4>
<div class="item-content">
    0.1 ETH
</div>
<h4>
<span class="title-icon"><i class="fab fa-fw fa-discord"></i></span>
Discord
</h4>
<div class="item-content">
    <div class="copy-container">
    <span class="copy-content">https://t.me/f2poolreal</span>
<button type="button" class="btn btn-normal btn-copy">复制</button>
    </div>
    </div>
    <div class="btn-container text-center">
    <a href="https://blog.f2pool.cf/zh/help/mining-tutorial/start-mining/eth" target="_blank" class="btn-bar">查看详细挖矿教程</a>
    </div>
    </div>
    </div>
    </div>
    </div>
    <div class="modal fade modal-feature" id="modal-feature-dead-miner" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
    <div class="modal-body">
    <div class="icon-tips d-flex justify-content-center align-items-center"><i class="fa fa-lightbulb"></i></div>
<div class="content">To improve website performance, workers that have not submitted shares for more than 90 days from May to October will be automatically deleted, and workers who have not submitted shares for more than 180 days from November to April will be automatically deleted.</div>
<div class="text-right" style="margin-top: 20px; margin-bottom: -20px; font-size: 15px; font-weight: bold;">
    <a class="btn-got-it" href="javascript:void(0)" data-dismiss="modal" aria-label="Close">我知道了</a>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    <footer class="footer container-fluid">
    <div class="row justify-content-center">
    <div class="col-12 col-md-11 col-xl-10 main-info">
    <div class="row no-gutters">
    <div class="col-12 col-lg-4 order-1 order-sm-0 d-flex flex-column align-items-center footer-main">
    <div class="left-part d-flex flex-column text-center text-lg-left">
    <div class="footer-social-media order-sm-2">
    <h3 class="d-block d-sm-none">社交媒体</h3>
    <ul class="footer-social text-left text-sm-center text-lg-left">
    <li>
    <a href="https://www.youtube.com/channel/UCpOxf600N5n8HpyVejvEJMg" target="_blank" rel="nofollow noopener noreferrer">
    <span class="social-icon youtube"><i class="fab fa-youtube"></i></span>
</a>
</li>
<li>
<a href="https://twitter.com/F2Pool_Official" target="_blank" rel="nofollow noopener noreferrer">
    <span class="social-icon twitter"><i class="fab fa-twitter"></i></span>
</a>
</li>
<li>
<a href="https://www.reddit.com/r/f2pool" target="_blank" rel="nofollow noopener noreferrer">
    <span class="social-icon reddit"><i class="fab fa-reddit"></i></span>
</a>
</li>
<li>
<a href="https://discord.gg/fhjeWrmdK9" target="_blank" rel="nofollow noopener noreferrer">
    <span class="social-icon discord"><i class="fab fa-discord"></i></span>
</a>
</li>
<li>
<a href="https://t.me/f2poolreal" target="_blank" rel="nofollow noopener noreferrer">
    <span class="social-icon telegram"><i class="fab fa-telegram-plane"></i></i></span>
    </a>
    </li>
    </ul>
    </div>
    <div class="footer-info order-sm-1">
    <div>© 2013–2022 F2Pool 版权所有</div>
</div>
<a class="footer-logo d-none d-sm-block order-sm-0" href="/">
    <img src="https://static.f2pool.cf/static/images/icon-logo-blue.png?v=61203ce4a88d7b74b63d8614c410b5a1">
    </a>
    </div>
    </div>
    <div class="col-12 col-lg-8 order-0 order-sm-1 container-links">
    <div class="row no-gutters">
    <div class="col-12 col-sm-3 text-center">
    <div class="footer-link-item">
    <h3>F2Pool产品</h3>
    <div class="footer-link-item-content">
    <a href="/download" target="_blank">App 下载</a>
<a href="/coins" target="_blank">PoW排行榜</a>
    <a href="/miners" target="_blank">热门矿机</a>
    <a href="/farms" target="_blank">全球矿场</a>
    </div>
    </div>
    </div>
    <div class="col-12 col-sm-3 text-center">
    <div class="footer-link-item">
    <h3>提供服务</h3>
    <div class="footer-link-item-content">
    <a href="/developer/api" target="_blank">API 文档</a>
<a href="https://blog.f2pool.cf/zh/mining-tutorial/app-guide" target="_blank">App 教程</a>
<a href="https://blog.f2pool.cf/zh/faq/threshold" target="_blank">费率</a>
    </div>
    </div>
    </div>
    <div class="col-12 col-sm-3 text-center">
    <div class="footer-link-item">
    <h3>用户帮助</h3>
    <div class="footer-link-item-content">
    <a href="https://blog.f2pool.cf/zh/help/mining-tutorial" target="_blank">挖矿教程</a>
    <a href="https://blog.f2pool.cf/zh/help/announcement" target="_blank">历史公告</a>
    <a href="https://f2pool.zendesk.com/hc/zh-cn/categories/4406716616461-FAQ" target="_blank">常见问题</a>
    <a href="/zendesk/help" target="_blank">提交工单</a>
    </div>
    </div>
    </div>
    <div class="col-12 col-sm-3 text-center">
    <div class="footer-link-item">
    <h3>关于我们</h3>
    <div class="footer-link-item-content">
    <a href="/joinus" target="_blank">加入我们</a>
    <a href="/terms" target="_blank">服务条款</a>
    <a href="/cdn-cgi/l/email-protection#1e7c6b6d77707b6d6d5e782c6e717172307d7173">商务合作</a>
    <a href="/cdn-cgi/l/email-protection#b3c0c6c3c3dcc1c7f3d581c3dcdcdf9dd0dcde">客服邮箱</a>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </footer>
    <div class="btn-global-to-top"></div>
    </div>
    <div class="modal fade modal-global-search" id="global-search-modal">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
    <div class="modal-body">
    <span class="close" data-dismiss="modal" aria-label="Close"></span>
    <div class="global-search-form-container text-center">
    <img class="d-none d-lg-inline-block" src="https://static.f2pool.cf/static/images/icon-global-search-form.png?v=74a74b5b18b8c1078643d28cea8c7214" style="width: 176px;" />
    <h2 class="d-none d-lg-block">地址查询</h2>
    <form action="/jump" id="addressSearchForm" class="form-nav-search form-inline">
    <input type="hidden" name="currency" id="input-currency">
    <div class="input-group">
    <div class="input-group-prepend collapsed" id="currency-toggle" data-toggle="collapse" data-target="#currencyListMenu" aria-haspopup="true" aria-expanded="false">
    <button class="btn btn-prepend" type="button">币种</button>
    <i class="fa fa-caret-up icon-toggle"></i>
    </div>
    <input id="input-address" class="input-md form-control" type="text" name="miner-address" placeholder="请输入地址">
    <i class="fa fa-times-circle icon-clear-search"></i>
    <div class="d-none d-lg-flex input-group-append">
    <button class="btn" type="submit">查看</button>
    </div>
    </div>
    <div class="search-btn-container d-inline-block d-lg-none">
    <button class="btn" type="submit">查看</button>
    </div>
    <div class="currency-list-menu collapse" id="currencyListMenu" data-parent="#currency-toggle">

    <a class="currency-item bch" href="#" data-key="bch" data-urlname="bch" data-display-code="BCH">
    <img src="https://static.f2pool.cf/static/images/currency-bch.png?v=d7bd77476e51896095c8bb9a9632928c" />
    BCH
    </a>
    <a class="currency-item chi" href="#" data-key="chi" data-urlname="chi" data-display-code="CHI">
    <img src="https://static.f2pool.cf/static/images/currency-chi.png?v=424ff46999d65851de326c77bf9aaa15" />
    CHI
    </a>
    <a class="currency-item ckb" href="#" data-key="ckb" data-urlname="nervos" data-display-code="CKB">
    <img src="https://static.f2pool.cf/static/images/currency-ckb.png?v=4961326854f80ebf3c0d2e0c9cf67680" />
    CKB
    </a>
    <a class="currency-item dash" href="#" data-key="dash" data-urlname="dash" data-display-code="DASH">
    <img src="https://static.f2pool.cf/static/images/currency-dash.png?v=250d4154a67b3012a68896ab67ec3755" />
    DASH
    </a>
    <a class="currency-item dcr" href="#" data-key="dcr" data-urlname="decred" data-display-code="DCR">
    <img src="https://static.f2pool.cf/static/images/currency-dcr.png?v=5f6226a668290c88374b28373ce6e2e9" />
    DCR
    </a>
    <a class="currency-item dgb-odocrypt" href="#" data-key="dgb-odocrypt" data-urlname="digibyte-odocrypt" data-display-code="DGB-ODOCRYPT">
    <img src="https://static.f2pool.cf/static/images/currency-dgb.png?v=12232409baab6f6d087d0b821486712a" />
    DGB-ODOCRYPT
    </a>
    <a class="currency-item dgb-qubit" href="#" data-key="dgb-qubit" data-urlname="digibyte-qubit" data-display-code="DGB-QUBIT">
    <img src="https://static.f2pool.cf/static/images/currency-dgb.png?v=12232409baab6f6d087d0b821486712a" />
    DGB-QUBIT
    </a>
    <a class="currency-item dgb-scrypt" href="#" data-key="dgb-scrypt" data-urlname="digibyte-scrypt" data-display-code="DGB-SCRYPT">
    <img src="https://static.f2pool.cf/static/images/currency-dgb.png?v=12232409baab6f6d087d0b821486712a" />
    DGB-SCRYPT
    </a>
    <a class="currency-item dgb-sha256d" href="#" data-key="dgb-sha256d" data-urlname="digibyte-sha256d" data-display-code="DGB-SHA256D">
    <img src="https://static.f2pool.cf/static/images/currency-dgb.png?v=12232409baab6f6d087d0b821486712a" />
    DGB-SHA256D
    </a>
    <a class="currency-item dgb-skein" href="#" data-key="dgb-skein" data-urlname="digibyte-skein" data-display-code="DGB-SKEIN">
    <img src="https://static.f2pool.cf/static/images/currency-dgb.png?v=12232409baab6f6d087d0b821486712a" />
    DGB-SKEIN
    </a>
    <a class="currency-item etc" href="#" data-key="etc" data-urlname="etc" data-display-code="ETC">
    <img src="https://static.f2pool.cf/static/images/currency-etc.png?v=9b4290a230369854c01c6792fa9b1ad1" />
    ETC
    </a>
    <a class="currency-item eth-address" href="#" data-key="eth-address" data-urlname="eth" data-display-code="ETH">
    <img src="https://static.f2pool.cf/static/images/currency-eth-address.png?v=fc87d3cefdd43e8e37d0675434df117b" />
    ETH
    </a>
    <a class="currency-item hns" href="#" data-key="hns" data-urlname="hns" data-display-code="HNS">
    <img src="https://static.f2pool.cf/static/images/currency-hns.png?v=da88a4552327372b2ad8459c2385bbb3" />
    HNS
    </a>
    <a class="currency-item kda" href="#" data-key="kda" data-urlname="kda" data-display-code="KDA">
    <img src="https://static.f2pool.cf/static/images/currency-kda.png?v=0e120a678ed4c19aea1d5e1a76312694" />
    KDA
    </a>
    <a class="currency-item rvn" href="#" data-key="rvn" data-urlname="raven" data-display-code="RVN">
    <img src="https://static.f2pool.cf/static/images/currency-rvn.png?v=528b83c502e4f991bf9f3cf271a7fa53" />
    RVN
    </a>
    <a class="currency-item sc" href="#" data-key="sc" data-urlname="sia" data-display-code="SC">
    <img src="https://static.f2pool.cf/static/images/currency-sc.png?v=f0363ad0f7aba7d629241496d8834a12" />
    SC
    </a>
    <a class="currency-item xvg-blake2s" href="#" data-key="xvg-blake2s" data-urlname="verge" data-display-code="XVG-BLACK2S">
    <img src="https://static.f2pool.cf/static/images/currency-xvg.png?v=8cfdb1d3252ee59d62717c4175f7364e" />
    XVG-BLACK2S
    </a>
    <a class="currency-item xvg-groestl" href="#" data-key="xvg-groestl" data-urlname="verge-groestl" data-display-code="XVG-GROESTL">
    <img src="https://static.f2pool.cf/static/images/currency-xvg.png?v=8cfdb1d3252ee59d62717c4175f7364e" />
    XVG-GROESTL
    </a>
    <a class="currency-item xvg-lyra" href="#" data-key="xvg-lyra" data-urlname="verge-lyra" data-display-code="XVG-LYRA2REV2">
    <img src="https://static.f2pool.cf/static/images/currency-xvg.png?v=8cfdb1d3252ee59d62717c4175f7364e" />
    XVG-LYRA2REV2
    </a>
    <a class="currency-item xvg-scrypt" href="#" data-key="xvg-scrypt" data-urlname="verge-scrypt" data-display-code="XVG-SCRYPT">
    <img src="https://static.f2pool.cf/static/images/currency-xvg.png?v=8cfdb1d3252ee59d62717c4175f7364e" />
    XVG-SCRYPT
    </a>
    <a class="currency-item xvg-x17" href="#" data-key="xvg-x17" data-urlname="verge-x17" data-display-code="XVG-X17">
    <img src="https://static.f2pool.cf/static/images/currency-xvg.png?v=8cfdb1d3252ee59d62717c4175f7364e" />
    XVG-X17
    </a>
    <a class="currency-item xzc" href="#" data-key="xzc" data-urlname="zcoin" data-display-code="FIRO">
    <img src="https://static.f2pool.cf/static/images/currency-xzc.png?v=626bedcfcc17d8531a883555241081c5" />
    FIRO
    </a>
    <a class="currency-item zec" href="#" data-key="zec" data-urlname="zec" data-display-code="ZEC">
    <img src="https://static.f2pool.cf/static/images/currency-zec.png?v=97ebd809e90f7492f5d5d59c6df1cfaa" />
    ZEC
    </a>
    <a class="currency-item zen" href="#" data-key="zen" data-urlname="zen" data-display-code="ZEN">
    <img src="https://static.f2pool.cf/static/images/currency-zen.png?v=a68f022cff828111abc1692ba08fd55d" />
    ZEN
    </a>
    </div>
    </form>
    </div>
    </div>
    </div>
    </div>
    </div>
    <div class="modal fade modal-global-calculator" id="modalGlobalCalculator" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered modal-xl">
    <div class="modal-content">
    <div class="modal-body">
    <span class="close" data-dismiss="modal" aria-label="Close"></span>
    <section class="section-calculator container-fluid">
    <div class="row justify-content-center">
    <div class="title col-12 d-flex align-items-end justify-content-start justify-content-lg-between">
    <h3>收益计算器</h3>
    <div class="link-advanced-calc d-none">
    <div class="link-icon"></div>
    <a href="/calculator?miner_id=231&currency=btc">全功能计算器</a>
    </div>
    </div>
    <div class="comment d-flex col-12">
    <div>*</div>
    <div class="comment-pps">
    温馨提示： <span class="comment-content">收益计算器采用当前难度估算PPS理论收益，可能与您的实际收益存在偏差，仅供参考。</span>
</div>
<div class="comment-pps-plus" style="display: none;">
    温馨提示： <span class="comment-content">收益计算器采用当前难度估算理论收益，可能与您的实际收益存在偏差，仅供参考。</span>
</div>
</div>
<div class="calculator-main row no-gutters justify-content-start col-12">
    <div class="col-12 col-xl-2 container-dropdown">
    <div class="calc-title calc-title-in">有效算力</div>
    <div class="calc-input dropdown dropdown-currency">
    <button class="form-control dropdown-toggle" type="button" data-toggle="dropdown" disabled style="cursor: inherit;" aria-haspopup="true" aria-expanded="false">
    <img data-s="/static/images/currency-{}.png" /> <span class="currency-name"></span>
    </button>
    </div>
    </div>
    <div class="calc-item col-12 col-xl-3 container-in">
    <div class="calc-title mb-10"></div>
    <div class="calc-input input-group convert-container">
    <input type="text" class="input-hashrate form-control" value="1" />
    <div class="input-group-append">
    <span class="hashrate-unit input-group-text hashrate-append"></span>
    </div>
    </div>
    </div>
    <div class="convert-block col-12 col-xl-1 d-flex text-center justify-content-center">
    <div class="line left-line d-lg-none"></div>
    <div class="convert"></div>
    <div class="line right-line d-lg-none"></div>
    </div>
    <div class="calc-item col-12 col-xl-6 container-out">
    <div class="calc-title-out">
    <span class="calc-title">
    收益
    </span>
    <span class="doge-check-calc hash-title-addition reward-addition">
    <input type="checkbox" class="form-check-input" id="dogeCheckInCalc" checked onClick="if (!window.__cfRLUnblockHandlers) return false; return false;" data-cf-modified-0b9f0d70b1d5891d63923dd3-="">
    <label class="form-check-label" for="dogeCheckInCalc">计入DOGE收益</label>
    </span>
    </div>
    <div class="profit-input-group convert-container">
    <div class="calc-input-group d-block d-lg-flex">
    <div class="calc-input main-calc-input input-group">
    <input type="text" class="form-control input-profit main-input-profit" value="" disabled />
<div class="input-group-append">
    <span class="input-group-text profit-append">/天</span>
    </div>
    </div>
    <div class="reward-addition">
    <div class="d-block d-lg-flex align-items-center">
    <div class="add-symbol">+</div>
    <div class="calc-input doge-calc-input input-group">
    <input type="text" class="form-control input-profit reward-input-profit" value="" disabled />
<div class="input-group-append">
    <span class="input-group-text profit-append">/天</span>
    </div>
    </div>
    </div>
    </div>
    </div>
    <div class="to-fiat-money">
≈ <span class="money-symbol">$</span><span class="money-val"></span>
</div>
</div>
</div>
</div>
</div>
<div class="d-none d-lg-block btn-setup-collapse collapsed" data-toggle="collapse" data-target="#calcSetupCollapse">
    <span class="btn-collapse"><i class="far fa-angle-down"></i> 更多设置</span>
</div>
<div class="setup-collapse collapse" id="calcSetupCollapse">
    <div class="row">
    <div class="col-12 col-xl setup setup-price">
    <div class="calc-title mb-10"><span class="calc-code"></span>币价</div>
<div class="calc-input input-group">
    <input type="text" class="form-control money-val main-money-val" data-rule="formatPriceWithoutSeparator" value="" />
    <div class="input-group-append">
    <span class="unit money-symbol input-group-text">$</span>
    </div>
    </div>
    </div>
    <div class="col-12 col-xl setup setup-price reward-addition">
    <div class="calc-title mb-10">DOGE 币价</div>
<div class="calc-input input-group">
    <input type="text" class="form-control money-val reward-money-val" data-rule="formatPriceWithoutSeparator" value="" />
    <div class="input-group-append">
    <span class="unit money-symbol input-group-text">$</span>
    </div>
    </div>
    </div>
    <div class="col-12 col-xl setup setup-difficulty">
    <div class="calc-title mb-10">当前难度</div>
    <div class="calc-input input-group">
    <input type="text" class="form-control" value="" />
    <div class="input-group-append">
    <span class="unit input-group-text">
    <i class="fa fa-sort"></i>
    </span>
    </div>
    </div>
    </div>
    <div class="col-12 col-xl setup setup-rate">
    <div class="calc-title mb-10">费率</div>
    <div class="calc-input input-group">
    <input type="text" class="form-control" value="" />
    <div class="input-group-append">
    <span class="unit input-group-text">%</span>
    </div>
    </div>
    </div>
    <div class="col-12">
    <div class="miner-table-container">
    <table class="table miner-table">
    <thead>
    <tr>
    <th>主流矿机</th>
    <th>算力</th>
    <th>矿机功耗</th>
    <th>日产值<i class="icon-about" data-toggle="tooltip" data-placement="top" title="未扣除电费"></i></th>
<th>日电费 <span class="money-symbol">$</span><input type="text" class="form-control ipt-elec money-val" data-usd="0.06" data-rmb="0.4" data-rule="formatPrice_elec" value="" />/度
    </th>
    <th>单台价格</th>
    <th>回本天数</th>
    </tr>
    </thead>
    <tbody></tbody>
    </table>
    </div>
    </div>
    </div>
    </div>
    </section>
    </div>
    </div>
    </div>
    </div>
    <div class="modal fade modal-global-footer" id="globalFooterModal">
    <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
    <div class="modal-body">
    <span class="close" data-dismiss="modal" aria-label="Close"></span>
    <div class="container">
    </div>
    </div>
    </div>
    </div>
    </div>
    <div class="modal fade modal-ver-remind" id="verRemindModal" tabindex="-1" role="dialog" aria-labelledby="vipModalTitle" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
    <div class="modal-body">
    <p>由于您所在地区的法律法规变化，我们将不能继续为您提供矿池服务，您未结算的余额是安全的，并将自动完成支付，如您尚未填写支付地址，请务必在2021年12月30日前填写。我们计划于2021年12月31日16:00 UTC前，完成对访问IP地址为中国（不含港澳台）的用户的有序清退。如果系统误判了您的IP地址的归属地，请您及时提交身份证明资料。我们将切实保障用户服务体验，并坚持合规经营的一贯原则，在全球范围内遵守各属地法律与政策的规定开展业务。</p>
<div class="actions">
    <button class="btn btn-bar btn-submit" type="submit">去认证</button>
    </div>
    </div>
    </div>
    </div>
    </div>
    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/v652eace1692a40cfa3763df669d7439c1639079717194" integrity="sha512-Gi7xpJR8tSkrpF7aordPZQlW2DLtzUlZcumS8dMQjwDHEnw9I7ZLyiOj/6tZStRBGtGgN6ceN6cMH8z7etPGlw==" data-cf-beacon='{"rayId":"7035cebbec1ba7d2","token":"721305da1c9442eeaf0f485d9a99178a","version":"2021.12.0","si":100}' crossorigin="anonymous" type="0b9f0d70b1d5891d63923dd3-text/javascript"></script>
<script src="/cdn-cgi/scripts/7d0fa10a/cloudflare-static/rocket-loader.min.js" data-cf-settings="0b9f0d70b1d5891d63923dd3-|49" defer=""></script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/v652eace1692a40cfa3763df669d7439c1639079717194" integrity="sha512-Gi7xpJR8tSkrpF7aordPZQlW2DLtzUlZcumS8dMQjwDHEnw9I7ZLyiOj/6tZStRBGtGgN6ceN6cMH8z7etPGlw==" data-cf-beacon='{"rayId":"7035cebb0fd4123e","version":"2021.12.0","r":1,"token":"8a3d4cd511ef41cc9f2bf97ae5b39b05","si":100}' crossorigin="anonymous"></script>
</body>
<script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/jquery-3.2.1.min.js?v=a09e13ee94d51c524b7e2a728c7d4039"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/popper-1.16.1.min.js?v=1db8fd79ce2e5d14918726b61342318e"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/bootstrap-4.6.0.min.js?v=f0c2bcf5ef0c4476508d79ec9cdcce07"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/cookie.js?v=73509ade1f1d955b40d3fb9eaee6b53b"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/jquery.simpleTicker.js?v=16c884c8134213e9ee32345e015a7331"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/big.min.js?v=2fe037677bd86cdc19c4c92546609184"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/currency.js?v=b80f73f9f4a98863c32e2b61ff73696c"></script>
    <script id="__ada" data-lazy data-handle="f2pool" src="https://static.ada.support/embed2.js" type="0b9f0d70b1d5891d63923dd3-text/javascript"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript">
    $(function() {
        CURRENCY_CONF.language = 'zh_CN';
        CURRENCY_CONF.usd_cny = Number('6.364' || 6.3);
        Big.DP = 40;
// header-tip
        $.simpleTicker($('#headerTips'), {
            effectType: 'roll',
            delay: 5000,
            speed: 1000
        });
        $('[data-toggle="tooltip"]').tooltip();
//kyc status

        updateHeaderTheme();
// address search
        updateAddressSearch();
        bindAddressSearch();

        getMiningUserHashrate();

        bindNavbarCollapse();
        bindDropdownClose();
        bindChangeLanguage();
        bindFooter();
        bindScrollToTop();
        setCalculator();
        bindInputGroupEffect();

        bindAppDownload();
        bindAndroidDownload();


        setWidget();
        bindLoginFree();
        bindUserSearch();
        if($(window).width()< 541) {
            $('.dropdown-global-currency .dropdown-menu.dropdown-menu-mobile').css('width', $(window).width()-16);
        }
        function bindAddressSearch() {
            var $container = $('.global-search-form-container');
            $('#input-address').on('input', updateAddressSearch);
            $container.find('.currency-list-menu a').on('click', function(e) {
                e.preventDefault();
                var currency = $(this).text();
                var urlName = $(this).data('urlname');
                $('#addressSearchForm button[type="submit"]').prop('disabled', $('#input-address').val() === '');
                $('#currency-toggle .btn').text(currency);
                $('#input-currency').val(urlName.toUpperCase());
            });
            $container.find('.icon-clear-search').on('click', function() {
                $('#input-address').val('');
                $(this).hide();
                updateAddressSearch();
            });
        }
// click outside to close dropdown
        function bindDropdownClose() {
            $(document).on('click touchstart', function (e) {
                var $toggle = $('.footer-pop, .btn-app-download-ios, .btn-app-download-android');
                if (!$toggle.is(e.target) && $toggle.has(e.target).length === 0 && $('.popover').has(e.target).length === 0) {
                    (($toggle.popover('hide').data('bs.popover')||{}).inState||{}).click = false;
                }
            });
        }
        function bindNavbarCollapse() {
            $('.page-wrapper > .header .navbar-collapse').on('show.bs.collapse', function(e) {
                $(this).parents('.header').addClass('collapse-show');
            }).on('hidden.bs.collapse', function(e) {
                $(this).parents('.header').removeClass('collapse-show');
                updateHeaderClass();
            });
        }
        function updateHeaderTheme() {
            var $headerIn = $('.layout-header-in');
            var $header = $('header.header');
            if ($headerIn.length > 0) {
                $(window).on('scroll', function() {
                    if ($header.hasClass('collapse-show')) return;
                    updateHeaderClass();
                });
            }
        }
        function updateHeaderClass() {
            var $headerIn = $('.layout-header-in');
            var $header = $('header.header');
            if ($(document).scrollTop() >= $headerIn.innerHeight() - ($(window).width() > 991 ? ($('.page-index').length > 0 ? 120 : 10) : 0)) {
                if (!$header.hasClass('header-white')) {
                    $header.addClass('header-white header-fix-top animate');
                    $header.trigger('header.fixtop.on');
                }
            } else {
                if ($header.hasClass('header-white') && !$header.hasClass('header-no-banner')) {
                    $header.removeClass('header-white header-fix-top animate');
                    $header.trigger('header.fixtop.off');
                }
            }
        }
        function updateAddressSearch() {
            var currencyArr = [], urlName, displayCode;
            var regxArr = {"bch": "(q[a-zA-Z0-9]{27,60}|[13][a-zA-Z0-9]{27,34})", "etc": "(?:0[Xx])?[0-9A-Fa-f]{40}", "eth-address": "(0[xX])?[0-9A-Fa-f]{40}", "zec": "t[13][1-9A-HJ-NP-Za-km-z]{33}|zc[1-9A-HJ-NP-Za-km-z]{93}", "zen": "z[nst][1-9A-HJ-NP-Za-km-z]{33}|zc[1-9A-HJ-NP-Za-km-z]{93}", "sc": "[0-9A-Fa-f]{76}", "dash": "[7X][1-9A-HJ-NP-Za-km-z]{27,35}", "dcr": "D[1-9A-HJ-NP-Za-km-z]{27,35}", "xzc": "[Za][1-9A-HJ-NP-Za-km-z]{27,35}", "hns": "hs1[qpzry9x8gf2tvdw0s3jn54khce6mua7l]{39,59}", "kda": "(k:)?[0-9a-z]{64}", "chi": "C[a-zA-Z0-9]{27,35}", "ckb": "ck[0-9a-zA-Z]+", "dgb-sha256d": "[DS][0-9A-Za-z]{27,35}", "dgb-scrypt": "[DS][0-9A-Za-z]{27,35}", "dgb-skein": "[DS][0-9A-Za-z]{27,35}", "dgb-qubit": "[DS][0-9A-Za-z]{27,35}", "dgb-odocrypt": "[DS][0-9A-Za-z]{27,35}", "xvg-blake2s": "[DE][1-9A-HJ-NP-Za-km-z]{27,35}", "xvg-scrypt": "[DE][1-9A-HJ-NP-Za-km-z]{27,35}", "xvg-x17": "[DE][1-9A-HJ-NP-Za-km-z]{27,35}", "xvg-lyra": "[DE][1-9A-HJ-NP-Za-km-z]{27,35}", "xvg-groestl": "[DE][1-9A-HJ-NP-Za-km-z]{27,35}", "rvn": "[Rr][1-9A-HJ-NP-Za-km-z]{33}", "rvn-pri": "[Rr][1-9A-HJ-NP-Za-km-z]{33}"};
            var $container = $('.global-search-form-container');
            var $btnCurrencyToggle = $("#currency-toggle .btn");
            var $inputAddress = $('#input-address');
            var $inputCurrency = $('#input-currency');
            var $btnSearchSubmit = $('#addressSearchForm button[type="submit"]');
            var $listMenu = $container.find('.currency-list-menu');
            var $btnClearSearch = $container.find('.icon-clear-search');
            var txt = $inputAddress.val().replace(/\s/g, '');
            $inputAddress.val(txt);
            if (!txt) {
                $btnCurrencyToggle.text('币种');
                $btnSearchSubmit.prop('disabled', true);
                $btnClearSearch.hide();
                $listMenu.find('.currency-item').show();
                return;
            } else {
                $btnClearSearch.show();
            }
            Object.keys(regxArr).forEach(function(key) {
                if (RegExp('^' + regxArr[key] + '$').test(txt)) {
                    var $item = $('.currency-list-menu .' + key);
                    currencyArr.push(key);
                    urlName = $item.data('urlname');
                    displayCode = $item.data('displayCode');
                }
            });
            if (currencyArr.length == 1) {
                $btnCurrencyToggle.text(displayCode);
                $btnSearchSubmit.prop('disabled', false);
                $inputCurrency.val(urlName && urlName.toUpperCase() || '');
                $listMenu.removeClass('show');
            } else if (currencyArr.length > 1) {
                $btnCurrencyToggle.text('币种');
                $btnSearchSubmit.prop('disabled', true);
                $container.find('.currency-list-menu .currency-item').filter(function() {
                    var isMatch = $.inArray($(this).data('key'), currencyArr) > -1;
                    if (isMatch) $(this).show();
                    return !isMatch;
                }).hide();
                $listMenu.addClass('show');
            } else if (txt) {
                $btnCurrencyToggle.text('币种');
                $btnSearchSubmit.prop('disabled', true);
                $container.find('.currency-list-menu .currency-item').show();
                $listMenu.addClass('show');
            }
        }
// change language
        function bindChangeLanguage() {
            $('body').on('click', '.change-lang', function(e) {
                e.preventDefault();
                Cookies.remove('lang');
                Cookies.set('lang', $(this).data('lang'), {domain: ".f2pool.cf"});
                location.reload();
            });
        }
// footer popover
        function bindFooter() {
            if ($(window).width() > 991) {
                $('.footer-pop').each(function() {
                    $(this).popover({
                        html: true,
                        trigger: 'hover click',
                        placement: 'top',
                        container: $(this),
                        template: '<div class="popover footer-popover"><div class="popover-body"></div></div>',
                        content: function() {
                            return $(this).find('.footer-pop-content').prop('outerHTML');
                        }
                    }).on('show.bs.popover', function() {
                        $(this).addClass('active');
                    }).on('hide.bs.popover', function() {
                        $(this).removeClass('active');
                    });
                });
            } else {
                var $modal = $('#globalFooterModal');
                $('.footer-pop').on('click', function() {
                    $modal.find('.container').html($(this).find('.footer-pop-content').clone().css('display', 'block'));
                    $modal.modal({ show: true });
                });
            }
        }
////////////////////calculator//////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////
        function setCalculator () {
            var $calcModal = $('#modalGlobalCalculator');
            var $iptProfit = $calcModal.find('.input-profit.main-input-profit');
            var $rewardIptProfit = $calcModal.find('.input-profit.reward-input-profit');
            var $iptHashrate = $calcModal.find('.input-hashrate');
            var calcMode = 'hash-to-profit';
            var minerData;
            var config;
            $calcModal.on('show.bs.modal', function(e) {
                var $target = $(e.relatedTarget);
                config = $target.data('config');
                initCalcModal();
            }).on('hide.bs.modal', function() {
                $('#calcSetupCollapse').collapse('hide');
            });
// change currency
            $calcModal.find('.dropdown-currency .dropdown-item').on('click', function(e) {
                e.preventDefault();
                config = $(this).data('config');
                initCalcModal();
            });
// hashrate input event
            $iptHashrate.on('change', function() {
                if (calcMode === 'profit-to-hash') return;
                hashToProfitAndFiat($(this).val());
            });
// profit input event
            $iptProfit.on('change', function() {
                if (calcMode === 'hash-to-profit') return;
                var hash = getResult(config, $(this).val(), 'toHashrate');
                $iptHashrate.val(hash);
                toFiatMoney($(this).val());
            });
// convert button click event
            $calcModal.find('.convert').on('click', function() {
                var oldMode = calcMode;
                var $in = $calcModal.find('.container-in');
                var $out = $calcModal.find('.container-out');
                var $title1 = $calcModal.find('.container-dropdown .calc-title');
                var $title2 = $out.find('.calc-title');
                var temp = $title1.text();
                var hasReward = $calcModal.hasClass('has-reward');
                if (calcMode === 'hash-to-profit') {
                    calcMode = 'profit-to-hash';
                } else {
                    calcMode = 'hash-to-profit';
                }
                $in.append($out.find('.convert-container'));
                $out.append($in.find('.convert-container').eq(0));
                $in.find('input.form-control').prop('disabled', false);
                $out.find('input.form-control').prop('disabled', true);
                $title1.text($title2.text());
                $title2.text(temp);
                $calcModal.removeClass(oldMode).addClass(calcMode);
                if(calcMode === 'hash-to-profit' && hasReward ){
                    $('.calculator-main').find('.reward-addition').each(function(){
                        $(this).show();
                    });
                    hashToProfitAndFiat($iptHashrate.val());
                }else if (calcMode === 'profit-to-hash' && hasReward){
                    $('.calculator-main').find('.reward-addition').each(function(){
                        $(this).hide();
                    })
                    toFiatMoney($iptProfit.val());
                }
            });
// collapse toggle
            $('#calcSetupCollapse').on('show.bs.collapse', function() {
                var currency = $(this).parents('.section-calculator').find('.dropdown-toggle .currency-name').text();
                $('.modal-global-calculator .btn-collapse').html('<i class="far fa-angle-up"></i> 收起设置');
            }).on('hide.bs.collapse', function() {
                $('.modal-global-calculator .btn-collapse').html('<i class="far fa-angle-down"></i> 更多设置');
            });
// setup
            $calcModal.find('.setup .form-control, .miner-table .ipt-elec').on('change', function() {
                var res;
//var $iptHashrate = $calcModal.find('.input-hashrate');
//var $iptProfit= $calcModal.find('.main-input-profit');
//var $rewardIptProfit= $calcModal.find('.reward-input-profit');
                var hasReward = $calcModal.hasClass('has-reward')
                updateCalcMiners(config);
                if (calcMode === 'hash-to-profit') {
                    res = getResultfromCustomConf(config, $iptHashrate.val(), 'toProfit');
                    $iptProfit.val(res);
                    if(hasReward) {
                        res = getResultfromCustomConf(config, $iptHashrate.val(), 'toProfit', true);
                        $rewardIptProfit.val(res);
                    }
                } else {
                    res = getResultfromCustomConf(config, $iptProfit.val(), 'toHashrate');
                    $iptHashrate.val(res);
                }
                if (calcMode === 'hash-to-profit' && hasReward){
                    toFiatMoney($iptProfit.val(), $rewardIptProfit.val());
                } else {
                    toFiatMoney($iptProfit.val());
                }
            });
            $calcModal.find('.miner-table').on('change', '.ipt-miner-price', function() {
                var $row = $(this).parents('tr');
                var minerId = $row.data('id');
                var rowId = $row.attr('id');
                var data;
                if (minerId && minerData) {
                    data = minerData.find(function(item) {
                        return item.id === minerId;
                    });
                    if (data) {
                        $(this).data('usd', CURRENCY_FUNC.toUSD($(this).val()));
                        $row.replaceWith(getSingleMinerTpl(data, config));
                        CURRENCY_FUNC.updateMoney($('#' + rowId), 'formatPriceWithoutSeparator');
                    }
                }
            });
            function initCalcModal() {
                var currency = config.currency;
                var display_currency_code = config.display_currency_code;
                var $btnToggle = $calcModal.find('.dropdown-currency .dropdown-toggle');
                var $toggleImg = $btnToggle.find('img');
                var $setupCollapse = $calcModal.find('.setup-collapse');
                var imgName = (currency === 'eth-address') ? currency : currency.split('-')[0];
                var profit, reward_profit;
                if(currency === 'ltc') {
                    $calcModal.addClass('has-reward');
                    if(calcMode === 'hash-to-profit') {
                        $calcModal.find('.reward-addition').each(function(){
                            $(this).show();
                        });
                    }else{
                        $('.calculator-main').find('.reward-addition').each(function(){
                            $(this).hide();
                        });
                        $calcModal.find('.setup-collapse').find('.reward-addition').each(function(){
                            $(this).show();
                        });
                    }
                }else {
                    $calcModal.removeClass('has-reward').find('.reward-addition').each(function(){
                        $(this).hide();
                    });
                }
                $calcModal.find('.calc-code').text(display_currency_code + ' ');
// unit profit without rate
                config.unitProfit = Big(config.estimatedProfit).div(CURRENCY_CONF.scales[config.scale || 1]).div((100 - (config.rate || 0)) / 100).toFixed();
                if(currency === 'ltc'){
                    config.reward_unitProfit = Big(config.rewardEstimatedProfit).div(CURRENCY_CONF.scales[config.scale || 1]).div((100 - (config.rate || 0)) / 100).toFixed();
                }
                if (currency === 'btc') {
                    var ppsUnitProfit = Big(1).div(config.difficulty).times(6.25 * 86400 / Math.pow(2, 32)).toFixed();
                    config.gasFee = (Big(config.unitProfit).div(ppsUnitProfit).minus(1)).times(100).toFixed();
                }
                $iptHashrate.val(1);
                $calcModal.find('.hashrate-unit').text(config.scale + config.unit + '/s');
                $calcModal.find('.profit-append').eq(0).text(display_currency_code.split('-')[0] + '/天');
                if( currency === 'ltc') {
                    $calcModal.find('.doge-calc-input .profit-append').text('DOGE' + '/天');
                }
                $toggleImg.attr('src', $toggleImg.data('s').replace('{}', imgName));
                $btnToggle.find('.currency-name').text(display_currency_code);
// add linker to advanced calculator for btc
                if(currency!=='btc'){
                    $calcModal.find('.link-advanced-calc').addClass("d-none").removeClass("d-flex align-items-center")
                }else{
                    $calcModal.find('.link-advanced-calc').removeClass("d-none").addClass("d-flex align-items-center")
                }
                if (currency === 'btc' || currency === 'eth') {
                    $calcModal.find('.comment-pps').hide();
                    $calcModal.find('.comment-pps-plus').show();
                } else {
                    $calcModal.find('.comment-pps').show();
                    $calcModal.find('.comment-pps-plus').hide();
                }
//难度
                $setupCollapse.find('.setup-difficulty').toggle(config.currency === 'btc').find('.form-control').val(config.difficulty);
                if (!config.price) config.price = 0;
//币价
                $setupCollapse.find('.setup-price .form-control.main-money-val').val(parseFloat(config.price.toFixed(2))).data('usd', config.price);
                if(currency == 'ltc'){
                    $setupCollapse.find('.setup-price .form-control.reward-money-val').val(parseFloat(config.reward_price.toFixed(2))).data('usd', config.reward_price);
                }
//费率
                $setupCollapse.find('.setup-rate .form-control').val(config.rate);
                updateCalcMiners(config);
                CURRENCY_FUNC.updateMoney($calcModal);
                hashToProfitAndFiat(1);
            }
            function updateCalcMiners(config) {
                var $calcContainer = $('#modalGlobalCalculator');
                var $minerTable = $calcContainer.find('.miner-table');
                if ($minerTable.data('currency') === config.currency && minerData) {
                    updateTable(minerData);
                } else {
                    $.post({
                        url: '/miners/bycoin',
                        data: {
                            currency_code: config.currency.split('-')[0],
                            limit: 5
                        }
                    }, function(res) {
                        var data = res.data;
                        minerData = res.data;
                        $minerTable.data('currency', config.currency);
                        updateTable(data);
                    }).fail(function() {
                        $('.miner-table-container').hide();
                    });
                }
            }
            function updateTable(data) {
                var tpl = [];
                var $calcContainer = $('#modalGlobalCalculator');
                var $minerTable = $calcContainer.find('.miner-table');
                if ($.isArray(data) && data.length > 0) {
                    data.forEach(function(item) {
                        tpl.push(getSingleMinerTpl(item, config));
                    });
                    $('.miner-table-container').show();
                    $minerTable.find('tbody').html(tpl.join(''));
                } else {
                    $('.miner-table-container').hide();
                }
                CURRENCY_FUNC.updateMoney($minerTable.find('tbody'), 'formatPriceWithoutSeparator');
            }
            function hashToProfitAndFiat(hash){
                var profit = getResult(config, hash, 'toProfit');
                $iptProfit.val(profit);
                var reward_profit;
                if($calcModal.hasClass('has-reward')){
                    reward_profit = getResult(config, hash, 'toProfit', true);
                    $calcModal.find('.input-profit.reward-input-profit').val(reward_profit);
                }
                if(calcMode === "hash-to-profit") {
                    toFiatMoney(profit, reward_profit);
                }else{
                    toFiatMoney(profit);
                }
            }
        }
//计算算力对应的的币数+得到对应的币需要多少算力
        function getResult(config, val, type, isReward = false) {
            var ret;
            var scale = CURRENCY_CONF.scales[config.scale || 1];
            var customConf = getCustomVal();
            var base = Big(isReward ? config.reward_unitProfit : config.unitProfit).times(scale).times((100 - (customConf.rate || 0)) / 100);
            val = Number(val);
            if (isNaN(val) || val <= 0 || !config.unitProfit) {
                ret = '';
            } else {
                ret = type === 'toProfit' ? Big(val).times(base) : Big(val).div(base);
                ret = ret.toFixed(ret.gte(1e6) ? 2 : (ret.gte(100) ? 4 : 8));
            }
            return ret;
        }
//计算算力得到的币数+得到对应的币需要多少算力
        function getResultfromCustomConf(config, val, type, isReward = false) {
            var customConf = getCustomVal();
            var unitProfit;
            var estimatedProfit;
            if (config.currency === 'btc') {
                if (customConf.difficulty && customConf.price_usd && customConf.rate) {
                    unitProfit = Big(1).div(customConf.difficulty).times(6.25 * 86400 / Math.pow(2, 32)).times(Big(1).plus(Big(config.gasFee).div(100))).toFixed();
                } else {
                    unitProfit = Big(config.estimatedProfit).div(CURRENCY_CONF.scales[config.scale || 1]).div((100 - (config.rate || 0)) / 100).toFixed()
                }
            }
            if (unitProfit) config.unitProfit = unitProfit;
            return getResult(config, val, type, isReward);
        }
        function toFiatMoney(val, reward_val) {
            var $toFiatMoney = $('.to-fiat-money');
            var coinPrice = getCustomVal().price_usd;
            var fiat = Big(val || 0).times(coinPrice);
            var reward_coinPrice, reward_fiat = 0;
            if(reward_val){
                reward_coinPrice = getCustomVal().reward_price_usd || 0;
                reward_fiat = Big(reward_val || 0).times(reward_coinPrice);
            }
            var all_fiat = Big(fiat).add(reward_fiat);
            $toFiatMoney.find('.money-val').data('usd', all_fiat).text(Big(CURRENCY_FUNC.exchange(all_fiat.toFixed())).toFixed(2));
        }
// by USD
        function getSingleMinerTpl(minerData, coinConfig) {
            var temp = [];
            var rowId = 'miner-' + minerData.id + '-' + coinConfig.currency;
            var $row = $('#' + rowId);
            var minerPrice, mixedCoinData, mixedMinerData, profitData;
            var customConf = getCustomVal();
            mixedCoinData = $.extend({}, coinConfig, {
                rate: customConf.rate,
                price: customConf.price_usd,
                difficulty: customConf.difficulty,
                reward_price: customConf.reward_price_usd,
            });
            if ($row.length) {
                minerPrice = $row.find('.ipt-miner-price').data('usd') || 0;
                mixedMinerData = $.extend({}, minerData, { price: isNaN(minerPrice) ? 0 : minerPrice });
            } else {
                mixedMinerData = $.extend({}, minerData, { price: minerData.price < 0 ? 1000 : minerData.price });
            }
            profitData = computeProfit(mixedCoinData, mixedMinerData, customConf.elecFee_usd);
            temp.push(minerData.name,
                CURRENCY_FUNC.formatHashrate(minerData.hashrate),
                minerData.power + '<span class="unit unit-right">W</span>',
                '<span class="money-symbol unit unit-left">$</span><span class="money-val" data-usd="' + profitData.revenue_24h + '"></span>',
                '<span class="money-symbol unit unit-left">$</span><span class="money-val" data-usd="' + profitData.elec_24h + '"></span>',
                '<span class="money-symbol unit unit-left">$</span><input class="money-val ipt-miner-price form-control" data-usd="' + mixedMinerData.price + '" value="" />',
                profitData.recoupDays >= 0 ? profitData.recoupDays : ('<span class="text-danger">无法回本</span>'));
            return '<tr id="' + rowId+ '" data-id="' + minerData.id + '"><td>' + temp.join('</td><td>') + '</td></tr>';
        }
        function getCustomVal() {
            var $calcContainer = $('#modalGlobalCalculator');
            var ret = {
                price_usd: CURRENCY_FUNC.toUSD($calcContainer.find('.setup-price .form-control.main-money-val').val() || 0),
                rate: $calcContainer.find('.setup-rate .form-control').val() || 0,
                difficulty: $calcContainer.find('.setup-difficulty .form-control').val(),
                elecFee_usd: CURRENCY_FUNC.toUSD($calcContainer.find('.ipt-elec').val() || 0),
            };
            if($('#modalGlobalCalculator').hasClass('has-reward')){
                ret.reward_price_usd = CURRENCY_FUNC.toUSD($calcContainer.find('.setup-price .form-control.reward-money-val').val() || 0);
            }
            return ret;
        }
// by USD
        function computeProfit(coinData, minerData, elecFee) {
            var coins_24h, revenue_24h, elec_24h, profit_24h, recoupDays;
            var reward_coins_24h, reward_revenue_24h;
            if (minerData.hashrate) {
                if (coinData.currency === 'btc' && coinData.difficulty && minerData.hashrate) {
                    coins_24h = Big(minerData.hashrate).div(coinData.difficulty).times(6.25 * 86400 / Math.pow(2, 32));
                } else if (coinData.currency !== 'btc' && coinData.unitProfit && minerData.hashrate) {
                    coins_24h = Big(coinData.unitProfit).times(minerData.hashrate);
                }
            }
            if (coinData.rate > 0) coins_24h = coins_24h.times((100 - coinData.rate) / 100);
            if (coins_24h && coinData.price) revenue_24h = coins_24h.times(coinData.price);
            if (minerData.power) elec_24h = Big(minerData.power).times(elecFee || 0).times(0.024);
            if (revenue_24h && elec_24h) profit_24h = revenue_24h.minus(elec_24h);
            if (profit_24h && minerData.price) {
                recoupDays = profit_24h <= 0 ? -1 : Big(minerData.price).div(profit_24h);
            }
            if (coinData.reward_currency) {
                reward_coins_24h = Big(coinData.reward_unitProfit).times(minerData.hashrate);
                if (coinData.rate > 0) reward_coins_24h = reward_coins_24h.times((100 - coinData.rate) / 100);
                if (reward_coins_24h && coinData.reward_price) reward_revenue_24h = reward_coins_24h.times(coinData.reward_price);
                revenue_24h = revenue_24h.add(reward_revenue_24h);
                if (revenue_24h && elec_24h) profit_24h = revenue_24h.minus(elec_24h);
                if (profit_24h && minerData.price) {
                    recoupDays = profit_24h <= 0 ? -1 : Big(minerData.price).div(profit_24h);
                }
            }
            return {
                currency: coinData.currency,
                coins_24h: coins_24h && coins_24h.toFixed(8),
                revenue_24h: revenue_24h && revenue_24h.toFixed(8),
                elec_24h: elec_24h && elec_24h.toFixed(8),
                profit_24h: profit_24h && profit_24h.toFixed(8),
                recoupDays: recoupDays && Math.ceil(recoupDays.toString()),
            };
        }
        function bindScrollToTop() {
            var $window = $(window);
            var $doc = $(document);
            var $btn = $('.btn-global-to-top');
            if ($doc.scrollTop() > 800) {
                $btn.addClass('animate');
            }
            $btn.on('click', function() {
                window.scroll({ top: 0, left: 0, behavior: 'smooth' });
            });
            $window.on('scroll', function() {
                var scrollTop = $doc.scrollTop();
                if (!$btn.hasClass('animate') && scrollTop > 800) {
                    $btn.addClass('animate');
                } else if ($btn.hasClass('animate') && scrollTop < 800) {
                    $btn.removeClass('animate');
                }
                var maxScroll = $doc.height() - $window.height() - 150
                if(scrollTop > 800 || ($window.width() < 800 &&scrollTop > maxScroll)){
                    $('#ada-entry').hide();
                } else {
                    $('#ada-entry').show();
                }
            });
        }
        function getMiningUserHashrate() {
            var $dropdown = $('.dropdown-global-user-menu');
            var $item, data, content, userName, hashData;
            $dropdown.on('show.bs.dropdown', function() {
                $.post({
                    url: '/multi-user-hashrate',
                    data: {
                        currency_code: 'btc',
                    }
                }, function(res) {
                    data = res.data && res.data.users;
                    if (!data) return;
                    $dropdown.find('.dropdown-menu .dropdown-user').each(function() {
                        var $item = $(this);
                        var itemData = data[$item.data('name')];
                        if (!itemData) {
                            $item.remove();
                            return;
                        }
                        hashData = (itemData.hashrate || '0.00') + ' ' + $item.data('suffix');
                        $item.find('.mining-user-hashrate').text(hashData);
                        $item.toggleClass('zero-hash', !Number(itemData.hashrate));

                    });
                });
            });
        }
        function bindUserSearch() {
            var $searchIpt= $('.search-account-input');
            var searchKey;
            $('.mining-user-section .item-common').each(function(idx) {
                $(this).data('index', idx);
            });
            $searchIpt.on('input', function() {
                searchKey = $(this).val();
                updateUserMenu(searchKey);
            });
        }
        function updateUserMenu(searchKey) {
            var $section = $('.mining-user-section');
            var arr = [];
            searchKey = searchKey.toLowerCase();
            $section.find('.item-search').each(function() {
                $(this).removeClass('item-search');
            });
            $section.find('.dropdown-item-user').sort(function(a, b) {
                var $a = $(a);
                var $b = $(b);
                var idxA = $a.data('index');
                var idxB = $b.data('index');
                return idxA === idxB ? ($a.hasClass('item-common') ? -1 : 1) : (idxA - idxB);
            }).appendTo($section);
            if (searchKey !== '') {
                $section.find('.item-common').each(function(idx, el) {
                    var $this = $(this);
                    if ($this.data('name').toLowerCase().match(searchKey) || ($this.data('desc') && $this.data('desc').toString().toLowerCase().match(searchKey))) {
                        arr.push($(this).addClass('item-search'));
                    }
                });
                $section.prepend(arr);
            }
        }
        function bindInputGroupEffect() {
// focus effect
            $('body').on('focus', '.input-group input[type="text"].form-control', function() {
                $(this).parents('.input-group').addClass('active');
            }).on('blur', '.input-group input[type="text"].form-control', function() {
                $(this).parents('.input-group').removeClass('active');
            });
        }
        function bindAutoProtocol() {
            var $modalAutoProtocol = $('#modalAutoProtocol');
            $modalAutoProtocol.on('click', '.btn-submit', function() {
                $.ajax({
                    type: 'POST',
                    url: '/user/account/enable-auto-switch',
                }).done(function(response, status, xhr) {
                    if (response.status == "fail") {
                        $('.status-toast').remove();
                        $('body').append('<div class="status-toast fail">提交失败</div>');
                        $('.status-toast').delay(5000).hide(0);
                    } else {

                        location.href = "/jump?next=%2Feth%2F0x4602526044e69a6da5fd7baa25db4e05db8a7230&currency=auto-equihash";

                    }
                }).fail(function() {
                    $('.status-toast').remove();
                    $('body').append('<div class="status-toast fail">提交失败</div>');
                    $('.status-toast').delay(5000).hide(0);
                });
            });
            $('.dropdown-global-currency .dropdown-item').on('click', function(e) {
                if ($(this).hasClass('has-multi-currency')) {
                    e.preventDefault();
                } else {
                    return;
                }
                $modalAutoProtocol.modal('show');
            });

        }
        function bindLoginFree() {
            $('.dropdown-global-currency .dropdown-item.special').on('click', function(e) {
                e.preventDefault();
                $('#global-search-modal').modal('show');
            });
        }
        function bindAppDownload() {
            if ($(window).width() > 991) {
                $('.btn-app-download-ios').each(function() {
                    $(this).popover({
                        html: true,
                        trigger: 'click',
                        placement: 'top',
                        container: $(this).parents('.download-btns').length > 0 ? $(this).parents('.download-btns') : 'body',
                        template: '<div class="popover app-download-popover"><div class="popover-body"></div></div>',
                        content: '<img src="https://static.f2pool.cf/static/images/apple-store-qrcode.png?v=55afc38eaf2b16a87a3b0c0d4d21c263">', //如果app被下架，使用download-guide-qrcode.png二维码
                    });
                });
            } else {
                $('.btn-app-download-ios').on('click', function() {
                    location.href = "https://itunes.apple.com/app/f2pool/id1403702113";
                });
            }
        }
        function bindAndroidDownload() {
            if ($(window).width() > 991) {
                $('.btn-app-download-android').each(function() {
                    $(this).popover({
                        html: true,
                        trigger: 'click',
                        placement: 'top',
                        container: $(this).parents('.download-btns').length > 0 ? $(this).parents('.download-btns') : 'body',
                        template: '<div class="popover app-download-popover"><div class="popover-body"></div></div>',
                        content: '<img src="https://static.f2pool.cf/static/images/download-qrcode-up.png?v=1f711b9cdbb2c43eb2da464b4bbec389">',
                    });
                });
            } else {
                $('.btn-app-download-android').on('click', function() {
                    location.href = "https://static.f2pool.cf/assets/native-app/package/f2pool-244.apk?t=c682af74b26afbf0611905357dbba374";
                });
            }
        }
        function setWidget() {
            var adaLan = ("zh-CN").toLowerCase();
            window.adaEmbed.start({
                handle: "f2pool",
                language: (adaLan.startsWith('en') || adaLan == 'uk-uk') ? 'en' : adaLan == 'zh-cn' ? 'zh' : adaLan,
                adaReadyCallback: ({ isRolledOut }) => {
                    var $doc = $(document);
                    var $win = $(window);
                    var maxScroll = $doc.height() - $win.height() - 150
                    if ($doc.scrollTop() > 800 || ($win.width() < 800 && $doc.scrollTop() > maxScroll)) {
                        $('#ada-entry').hide();
                    }
                },
            });
            window.adaEmbed.setMetaFields({
                username: null,
            });
        }
        function bindVerRemindModal() {
            $('#verRemindModal').on('show.bs.modal', function(){
                var $btn = $('#verRemindModal').find('.btn-submit');
                if( $(window).width() < 992 ){
                    $btn.text('请在电脑端登录进行认证').attr('disabled', true).css('color', '#2889fc');
                } else {
                    $btn.text('去认证').attr('disabled', false).css('color', '#ffffff');
                }
                postCloseKycPopup();
            })
            $('#verRemindModal').on('click', '.btn-submit', function(){
                var $btn = $(this);
                var isAccountPage = $('body').has('.page-user-account').length > 0 ? true : false;
                if(!isAccountPage && !$btn.attr('disabled')) {
                    location.href = '/user/account#tab-verification';
                } else if (isAccountPage && !$btn.attr('disabled')) {
                    $('#verRemindModal').modal('hide');
                    $('a[href="#tab-verification"]').tab('show');
                }
            })
        }
        function postCloseKycPopup() {
            $.ajax({
                type: 'GET',
                url: 'home',
                data: {
                    action: 'close_kyc_popup'
                }
            }).done(function(response, status, xhr){
                console.log('response:', response)
            })
        }
    });
</script>
<script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/datatables.min.js?v=7b455c620d4e87ce4a9c6c711ece72f6"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/dataTables.fixedHeader.min.js?v=d72b4499c4a99778b7a5dd2faffd696c"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/echarts-v4-line.min.js?v=556a7bb993d05337657eddc8f9859719"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/moment.min.js?v=34b7a44e9393458758b871a52e027261"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/stickybits.min.js?v=7e647783ad0b7b66d8acdc91e8c35d88"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/clipboard.min.js?v=f06c52bfddb458ad87349acf9fac06c5"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/pickadate/picker.js?v=25187785b9f915c516cc81311b01a95f"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/pickadate/picker.date.js?v=b046146a986eab6066b91f61d060af42"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/pickadate/picker.time.js?v=4fbcaa3615a914ae52c7fcc4e5b98534"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/modernizer.min.js?v=65f1d21d5fcc9d21da758adababd0c3c"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/jquery.touchSwipe.min.js?v=d864745bcad4427ce7cc5cb90b9fd68e"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/bootstrap-select.min.js?v=31f6496946518457356de0c27beb02bd"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/pickadate/translations/zh_CN.js?v=0da41b41ca18e4eb49fa3d431bc773b6"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/jspdf.min.js?v=5b53ac1950a6c05a68e3b17aed59b044"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/html2canvas.min.js?v=9505aa8089e59f1102362e8efb64d869"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/canvas-toBlob.js?v=fb7509bacc1d88f11becbc9946ca0f1c"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/shim.min.js?v=cdec74efafc50e134f8d0107acc109b0"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/xlsx.full.min.js?v=87ae012d05ce455b921f34085723cd8b"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/blob.js?v=071776c755b37811aa88a434dff8ed81"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/filesaver.min.js?v=20c9d2096d461cddee3631b2b4419555"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/currency.js?v=b80f73f9f4a98863c32e2b61ff73696c"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript" src="https://static.f2pool.cf/static/js/big.min.js?v=2fe037677bd86cdc19c4c92546609184"></script>
    <script type="0b9f0d70b1d5891d63923dd3-text/javascript">
//authority: 1: 矿工管理； 2: 支付记录 3: 支付记录（隐藏支付信息）
//authority可能的值: '1'； '2'； '3'； '1,2'; '1,3'
$.fn.DataTable.ext.pager.numbers_length = $(window).width() < 400 ? ($(window).width() < 350 ? 5 : 6) : 7;
var oLanguage = {
    zeroRecords: "没有找到数据",
    info: "*当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录。",
    infoEmpty: "",
    processing: "<img src='../resources/user_share/row_details/select2-spinner.gif'/> 正在处理...",
    paginate: {
        first: '<i class="far fa-angle-double-left"></i>',
        previous: '<i class="far fa-angle-left"></i>',
        next: '<i class="far fa-angle-right"></i>',
        last: '<i class="far fa-angle-double-right"></i>'
    }
};
$(function() {
    var IS_MOBILE = $(window).width() < 768;
    var IS_ZOOM_MODE = $('body').hasClass('zoom-out-mode');
    var CHART_AXIS_FONT_SIZE = IS_MOBILE ? 10 : 12;
    var currency_code = 'eth-address';
    var current_user = '0x4602526044e69a6da5fd7baa25db4e05db8a7230';
    var language = 'zh_CN';
    var CURRENCY_CONFIG = {"btc": {"name_en_US": "Bitcoin", "name_zh_CN": "\u6bd4\u7279\u5e01", "name_zh_TW": "\u6bd4\u7279\u5e63", "display_name": "Bitcoin", "display_code": "BTC", "unit": "hash", "scale": "T", "scale/rig": "T", "algo": "SHA256d", "miner": "SHA256d ASICs", "addr_regx": "[13][a-zA-Z0-9]{27,34}", "rate": 2.5, "rate_real": 2.5, "rate_type": "PPS+", "payout_threshold": 0.005, "pool_addr": ["stratum+tcp://btc.f2pool.cf:1314", "stratum+tcp://btc.f2pool.cf:3333", "stratum+tcp://btc.f2pool.cf:25"], "pool_addr_usa": ["stratum+tcp://btc-na.f2pool.cf:3333", "stratum+tcp://btc-na.f2pool.cf:1314", "stratum+tcp://btc-na.f2pool.cf:25"], "pool_addr_eu": ["stratum+tcp://btc-eu.f2pool.cf:3333", "stratum+tcp://btc-eu.f2pool.cf:1314", "stratum+tcp://btc-eu.f2pool.cf:25"], "pool_addr_port": [], "pool_addr_backup": [], "address_url": ["bitcoin", "btc"], "hashrate_url_name": "bitcoin", "api_url_name": "bitcoin", "versions": [], "is_wallet_currency": true, "is_anonymous_currency": false, "tx_explorer": "https://blockchair.com/bitcoin/transaction/{}", "addr_explorer": "https://blockchair.com/bitcoin/address/{}", "is_lab_currency": false, "qq": 955289916, "discord": "https://discord.gg/tY45MKt7vm", "support_paging": true, "support_manual_withdraw": true}, "bch": {"name_en_US": "Bitcoin Cash", "name_zh_CN": "\u6bd4\u7279\u5e01 \u73b0\u91d1", "name_zh_TW": "\u6bd4\u7279\u5e63 \u73fe\u91d1", "display_name": "Bitcoin Cash", "display_code": "BCH", "unit": "hash", "scale": "T", "algo": "SHA256d", "miner": "SHA256d ASICs", "addr_regx": "(q[a-zA-Z0-9]{27,60}|[13][a-zA-Z0-9]{27,34})", "rate": 3, "rate_type": "PPS", "payout_threshold": 0.01, "pool_addr": ["stratum+tcp://b4c.f2pool.cf:1228"], "address_url": ["bch"], "hashrate_url_name": "bitcoin-cash", "api_url_name": "bitcoin-cash", "versions": [], "is_wallet_currency": true, "is_anonymous_currency": true, "tx_explorer": "https://blockchair.com/bitcoin-cash/transaction/{}", "addr_explorer": "https://blockchair.com/bitcoin-cash/address/{}", "is_lab_currency": false, "support_manual_withdraw": true, "launch_date": 1542340800, "qq": 955289916, "discord": "https://discord.gg/tY45MKt7vm"}, "ltc": {"name_en_US": "Litecoin", "name_zh_CN": "\u83b1\u7279\u5e01", "name_zh_TW": "\u840a\u7279\u5e63", "display_name": "Litecoin", "display_code": "LTC", "unit": "hash", "scale": "G", "algo": "Scrypt", "miner": "Scrypt ASICs", "addr_regx": "L[a-zA-Z0-9]{27,34}", "rate": 4, "rate_type": "PPS", "payout_threshold": 0.02, "pool_addr": ["stratum+tcp://ltc.f2pool.cf:8888", "stratum+tcp://ltc.f2pool.cf:5200", "stratum+tcp://ltc.f2pool.cf:3335"], "pool_addr_usa": ["stratum+tcp://ltc-na.f2pool.cf:8888", "stratum+tcp://ltc-na.f2pool.cf:5200", "stratum+tcp://ltc-na.f2pool.cf:3335"], "pool_addr_eu": ["stratum+tcp://ltc-eu.f2pool.cf:8888", "stratum+tcp://ltc-eu.f2pool.cf:5200", "stratum+tcp://ltc-eu.f2pool.cf:3335"], "address_url": ["litecoin", "ltc"], "hashrate_url_name": "litecoin", "api_url_name": "litecoin", "versions": [], "is_wallet_currency": true, "is_anonymous_currency": false, "tx_explorer": "https://blockchair.com/litecoin/transaction/{}", "addr_explorer": "https://blockchair.com/litecoin/address/{}", "is_lab_currency": false, "support_manual_withdraw": true, "support_paging": true, "qq": 714226574, "discord": "https://discord.gg/pKHnaHj3Py", "merge_mining_pplns": {"dogecoin": ["po:mm:rate:ltc:doge", "po:mm:rate:ltc:doge:list", 7]}}, "eth": {"name_en_US": "Ethereum", "name_zh_CN": "\u4ee5\u592a\u574a", "name_zh_TW": "\u4ee5\u592a\u574a", "display_name": "Ethereum", "display_code": "ETH", "unit": "hash", "scale": "M", "algo": "Ethash", "miner": "GPU Rigs", "addr_regx": "(0[xX])?[0-9A-Fa-f]{40}", "rate": 2, "rate_type": "PPS+", "payout_threshold": 0.1, "pool_addr": ["stratum+tcp://eth.f2pool.cf:6688", "stratum+ssl://ethssl-asia.f2pool.cf:6698", "stratum+ssl://ethssl-euro.f2pool.cf:6698", "stratum+ssl://ethssl-na.f2pool.cf:6698"], "pool_addr_usa": ["stratum+tcp://eth-na.f2pool.cf:6688"], "pool_addr_eu": ["stratum+tcp://eth-eu.f2pool.cf:6688"], "pool_addr_backup": ["stratum+tcp://eth-backup.f2pool.cf:6688", "stratum+ssl://ethssl-asia.f2pool.cf:6699", "stratum+ssl://ethssl-euro.f2pool.cf:6699", "stratum+ssl://ethssl-na.f2pool.cf:6699"], "pool_addr_port": [{"addr": "stratum+tcp://eth.f2pool.cf", "port": [6688]}, {"addr": "stratum+tcp://eth-backup.f2pool.cf", "port": [6688]}, {"addr": "stratum+ssl://ethssl-asia.f2pool.cf", "port": [6698, 6699]}, {"addr": "stratum+ssl://ethssl-euro.f2pool.cf", "port": [6698, 6699]}, {"addr": "stratum+ssl://ethssl-na.f2pool.cf", "port": [6698, 6699]}], "address_url": ["eth", "ethereum"], "hashrate_url_name": "ethereum", "api_url_name": "ethereum", "versions": [], "tutorial_url_key": "eth", "transfer_fee": 0.001, "is_wallet_currency": true, "is_anonymous_currency": false, "tx_explorer": "https://etherscan.io/tx/{}", "addr_explorer": "https://etherscan.io/address/{}", "is_lab_currency": false, "support_manual_withdraw": true, "support_paging": true, "qq": 343148122, "discord": "https://discord.gg/8NPFZMsumF"}, "etc": {"name_en_US": "Ethereum Classic", "name_zh_CN": "\u4ee5\u592a\u574a\u7ecf\u5178", "name_zh_TW": "\u4ee5\u592a\u574a\u7d93\u5178", "display_name": "Ethereum Classic", "display_code": "ETC", "unit": "hash", "scale": "M", "algo": "Etchash", "miner": "GPU Rigs", "addr_regx": "(?:0[Xx])?[0-9A-Fa-f]{40}", "rate": 3, "rate_type": "PPS", "payout_threshold": 0.1, "pool_addr": ["stratum+tcp://etc.f2pool.cf:8118", "stratum+ssl://etcssl-asia.f2pool.cf:8180"], "pool_addr_backup": ["stratum+ssl://etcssl-asia.f2pool.cf:8181"], "pool_addr_port": [{"addr": "stratum+tcp://etc.f2pool.cf", "port": [8118]}, {"addr": "stratum+ssl://etcssl-asia.f2pool.cf", "port": [8180, 8181]}], "address_url": ["etc", "ethereum-classic"], "hashrate_url_name": "ethereum-classic", "api_url_name": "ethereum-classic", "versions": [], "is_wallet_currency": true, "is_anonymous_currency": true, "tx_explorer": "https://etcblockexplorer.com/tx/{}", "is_lab_currency": false, "qq": 343148122, "discord": "https://discord.gg/8NPFZMsumF"}, "eth-address": {"name_en_US": "Ethereum", "name_zh_CN": "\u4ee5\u592a\u574a", "name_zh_TW": "\u4ee5\u592a\u574a", "display_name": "Ethereum", "display_code": "ETH", "code": "ETH", "unit": "hash", "scale": "M", "algo": "Ethash", "miner": "GPU Rigs", "addr_regx": "(0[xX])?[0-9A-Fa-f]{40}", "rate": 2, "rate_type": "PPS+", "payout_threshold": 0.1, "pool_addr": ["stratum+tcp://eth.f2pool.cf:6688", "stratum+ssl://ethssl-asia.f2pool.cf:6698", "stratum+ssl://ethssl-euro.f2pool.cf:6698", "stratum+ssl://ethssl-na.f2pool.cf:6698"], "pool_addr_usa": ["stratum+tcp://eth-na.f2pool.cf:6688"], "pool_addr_eu": ["stratum+tcp://eth-eu.f2pool.cf:6688"], "pool_addr_backup": ["stratum+tcp://eth-backup.f2pool.cf:6688", "stratum+ssl://ethssl-asia.f2pool.cf:6699", "stratum+ssl://ethssl-euro.f2pool.cf:6699", "stratum+ssl://ethssl-na.f2pool.cf:6699"], "pool_addr_port": [{"addr": "stratum+tcp://eth.f2pool.cf", "port": [6688]}, {"addr": "stratum+tcp://eth-backup.f2pool.cf", "port": [6688]}, {"addr": "stratum+ssl://ethssl-asia.f2pool.cf", "port": [6698, 6699]}, {"addr": "stratum+ssl://ethssl-euro.f2pool.cf", "port": [6698, 6699]}, {"addr": "stratum+ssl://ethssl-na.f2pool.cf", "port": [6698, 6699]}], "address_url": ["eth", "ethereum"], "hashrate_url_name": "ethereum", "api_url_name": "eth", "versions": [], "tutorial_url_key": "eth", "transfer_fee": 0.001, "is_wallet_currency": false, "is_anonymous_currency": true, "tx_explorer": "https://etherscan.io/tx/{}", "addr_explorer": "https://etherscan.io/address/{}", "is_lab_currency": false, "is_show_index": false, "support_manual_withdraw": true, "support_paging": true, "qq": 343148122, "discord": "https://discord.gg/8NPFZMsumF"}, "zec": {"name_en_US": "Zcash", "name_zh_CN": "\u96f6\u5e01", "name_zh_TW": "\u96f6\u5e63", "display_name": "Zcash", "display_code": "ZEC", "unit": "sol", "scale": "K", "algo": "Equihash", "miner": "Equihash ASICs", "addr_regx": "t[13][1-9A-HJ-NP-Za-km-z]{33}|zc[1-9A-HJ-NP-Za-km-z]{93}", "rate": 3, "rate_type": "PPS", "payout_threshold": 0.1, "pool_addr": ["stratum+tcp://zec.f2pool.cf:3357"], "address_url": ["zec", "zcash"], "hashrate_url_name": "zcash", "api_url_name": "zec", "versions": [], "is_wallet_currency": true, "is_anonymous_currency": true, "tx_explorer": "https://blockchair.com/zcash/transaction/{}", "addr_explorer": "https://blockchair.com/zcash/address/{}", "is_lab_currency": true, "qq": 861594112, "payout_history_key": "zcash", "workers_key": "zcash", "support_manual_withdraw": true, "currency_info": {"id": 3, "code": "zec", "name": "Zcash", "algorithm": "Equihash", "prooftype": "PoW", "total_supply": 21000000, "blocktime": 75.0, "diff_adj": 1, "reduction_reward": 840000, "profit_per_hash": "K", "miners": "217,304", "extra": {"icon64": "zec-64x64.png", "icon128": "zec-128x128.png"}, "icon64_origin": "zec-64x64.png", "icon64": "/assets/currencies/logo/zec-64x64.png", "icon128_origin": "zec-128x128.png", "icon128": "/assets/currencies/logo/zec-128x128.png", "display_code": "ZEC", "display_name": "Zcash", "marketcap": 2104939709.4878476, "price": 147.50784468926136, "volume24h": 196816526.7485185, "circulating_supply": 14270018, "rank": 51, "percent_change_24h": -0.74533559, "blocknumber": 1649607, "blockreward": 5, "network_hashrate_double_last24h": 11018427977.142857, "network_hashrate_double_last72h": 10693149394.87736, "network_hashrate_double_last168h": 10654876299.512932, "timestamp": "2022-04-29T08:25:07.424262", "network_hashrate_split": 1000000000, "network_hashrate_double": 11.093742263, "difficulty_double": 113538778.4617926, "difficulty24_double": 113538778.4617926, "blockreward_reward": 0, "blocktime_real": 0, "remain_minable": 6729982, "remain_minable_pro": 0.32047533333333333, "output24h_coin": 5760.0, "output24h": 849645.1854101454, "network_hashrate": 11093742263.0, "difficulty": 113538778.4617926, "profit_per_t": 241383.47320956655, "profit24h": 35605955.87675122, "profit_by_day": 2.4138347320956655e-07, "estimated_profit": 0.00024138347320956655, "estimated_profit_usd": 0.03560595587675122, "estimated_profit_scales": 1000, "currency_scales": 1000, "diff_adj_estimated_next": 0, "diff_adj_estimated_next_tips": "", "diff_adj_remain_minutes_value": "", "diff_adj_remain_time_str": "", "hashrate": "970.95", "pool_hashrate_unit": "Msol/s"}}, "zen": {"name_en_US": "Horizen (Zencash)", "name_zh_CN": "Horizen (Zencash)", "name_zh_TW": "Horizen (Zencash)", "display_name": "Horizen", "display_code": "ZEN", "unit": "sol", "scale": "K", "algo": "Equihash", "miner": "Equihash ASICs", "addr_regx": "z[nst][1-9A-HJ-NP-Za-km-z]{33}|zc[1-9A-HJ-NP-Za-km-z]{93}", "rate": 4, "rate_real": 6, "rate_type": "PPS", "payout_threshold": 0.1, "pool_addr": ["stratum+tcp://zencash.f2pool.cf:3377"], "address_url": ["zen"], "hashrate_url_name": "zen", "api_url_name": "zen", "mining_center_name": "horizen", "versions": [], "is_wallet_currency": true, "is_anonymous_currency": true, "support_manual_withdraw": true, "tx_explorer": "https://explorer.zensystem.io/tx/{}", "addr_explorer": "https://explorer.zensystem.io/address/{}", "is_lab_currency": true, "qq": 861594112, "currency_info": {"id": 123, "code": "zen", "name": "Horizen", "algorithm": "Equihash", "prooftype": "PoW", "total_supply": 21000000, "blocktime": 150.0, "diff_adj": 1, "reduction_reward": 0, "profit_per_hash": "K", "miners": "217,304", "extra": {"icon64": "zen-64x64.png", "icon128": "zen-128x128.png"}, "icon64_origin": "zen-64x64.png", "icon64": "/assets/currencies/logo/zen-64x64.png", "icon128_origin": "zen-128x128.png", "icon128": "/assets/currencies/logo/zen-128x128.png", "display_code": "ZEN", "display_name": "Horizen", "marketcap": 411985099.9436653, "price": 33.42156295618456, "volume24h": 26486462.62455083, "circulating_supply": 12326925, "rank": 135, "percent_change_24h": 0.46620212, "blocknumber": 1132311, "blockreward": 3.75, "network_hashrate_double_last24h": 1680833333.3333333, "network_hashrate_double_last72h": 1708018867.9245284, "network_hashrate_double_last168h": 1747586206.8965516, "timestamp": "2022-04-29T08:25:07.425026", "network_hashrate_split": 1000000000, "network_hashrate_double": 1.7, "difficulty_double": 30235066.47804402, "difficulty24_double": 30235066.47804402, "blockreward_reward": 0, "blocktime_real": 0, "remain_minable": 8673075, "remain_minable_pro": 0.4130035714285714, "output24h_coin": 2160.0, "output24h": 72190.57598535865, "network_hashrate": 1700000000.0, "difficulty": 30235066.47804402, "profit_per_t": 1405131.0515128535, "profit24h": 46961675.89982664, "profit_by_day": 1.4051310515128534e-06, "estimated_profit": 0.0014051310515128534, "estimated_profit_usd": 0.04696167589982664, "estimated_profit_scales": 1000, "currency_scales": 1000, "diff_adj_estimated_next": 0, "diff_adj_estimated_next_tips": "", "diff_adj_remain_minutes_value": "", "diff_adj_remain_time_str": "", "hashrate": "88.96", "pool_hashrate_unit": "Msol/s"}}, "sc": {"name_en_US": "Siacoin", "name_zh_CN": "Siacoin", "name_zh_TW": "Siacoin", "display_name": "Siacoin", "display_code": "SC", "unit": "hash", "scale": "T", "algo": "Blake2B", "miner": "Obelisk ASICs", "addr_regx": "[0-9A-Fa-f]{76}", "rate": 3, "rate_real": 5, "rate_type": "PPS", "payout_threshold": 100, "pool_addr": ["stratum+tcp://sc.f2pool.cf:7788"], "address_url": ["sia"], "hashrate_url_name": "siacoin-new", "api_url_name": "siacoin-new", "versions": [], "is_wallet_currency": false, "is_anonymous_currency": true, "tx_explorer": "https://siastats.info/navigator?search={}", "is_lab_currency": true, "launch_date": 1540915200, "qq": 869202852}, "dash": {"name_en_US": "Dash", "name_zh_CN": "\u8fbe\u4e16\u5e01", "name_zh_TW": "\u9054\u4e16\u5e63", "display_name": "Dash", "display_code": "DASH", "unit": "hash", "scale": "G", "algo": "X11", "miner": "X11 ASICs", "addr_regx": "[7X][1-9A-HJ-NP-Za-km-z]{27,35}", "rate": 2, "rate_real": 3, "rate_type": "PPS", "payout_threshold": 0.1, "pool_addr": ["stratum+tcp://dash.f2pool.cf:5588"], "address_url": ["dash"], "hashrate_url_name": "dash", "api_url_name": "dash", "versions": [], "is_wallet_currency": false, "is_anonymous_currency": true, "tx_explorer": "https://explorer.dash.org/insight/tx/{}", "is_lab_currency": false, "support_manual_withdraw": true, "qq": 955285258}, "dcr": {"name_en_US": "Decred", "name_zh_CN": "Decred", "name_zh_TW": "Decred", "display_name": "Decred", "display_code": "DCR", "unit": "hash", "scale": "T", "algo": "Blake256r14", "miner": "Blake256r14 ASICs", "addr_regx": "D[1-9A-HJ-NP-Za-km-z]{27,35}", "rate": 3, "rate_real": 5.5, "rate_type": "PPS", "payout_threshold": 0.1, "pool_addr": ["stratum+tcp://dcr.f2pool.cf:5730"], "address_url": ["decred", "dcr"], "hashrate_url_name": "decred", "api_url_name": "decred", "versions": [], "is_wallet_currency": false, "is_anonymous_currency": true, "tx_explorer": "https://dcrdata.decred.org/tx/{}", "is_lab_currency": false, "qq": 782463451}, "xzc": {"name_en_US": "Zcoin", "name_zh_CN": "\u5c0f\u96f6\u5e01", "name_zh_TW": "\u5c0f\u96f6\u5e63", "display_name": "Firo", "display_code": "FIRO", "unit": "hash", "scale": "M", "algo": "FiroPoW", "miner": "CPU/GPU Rigs", "addr_regx": "[Za][1-9A-HJ-NP-Za-km-z]{27,35}", "rate": 3, "rate_real": 5, "rate_type": "PPS", "payout_threshold": 0.1, "pool_addr": ["stratum+tcp://firo.f2pool.cf:5780"], "address_url": ["zcoin", "xzc"], "hashrate_url_name": "zcoin", "api_url_name": "zcoin", "mining_center_name": "firo", "versions": [], "is_wallet_currency": false, "is_anonymous_currency": true, "tx_explorer": "https://explorer.zcoin.io/tx/{}", "is_lab_currency": false, "qq": 955232999}, "hns": {"name_en_US": "Handshake", "name_zh_CN": "Handshake", "name_zh_TW": "Handshake", "display_name": "Handshake", "display_code": "HNS", "unit": "hash", "scale": "G", "algo": "Blake2B + SHA3", "miner": "HNS ASICs", "addr_regx": "hs1[qpzry9x8gf2tvdw0s3jn54khce6mua7l]{39,59}", "rate": 3, "rate_real": 5, "rate_type": "PPS", "payout_threshold": "10", "pool_addr": ["stratum+tcp://hns.f2pool.cf:6000"], "address_url": ["hns", "handshake"], "hashrate_url_name": "handshake", "api_url_name": "handshake", "versions": [], "is_wallet_currency": true, "is_anonymous_currency": true, "tx_explorer": "https://hnsnetwork.com/txs/{}", "addr_explorer": "https://hnscan.com/address/{}", "is_lab_currency": true, "launch_date": 1581955200, "qq": 1053795859}, "kda": {"name_en_US": "Kadena", "name_zh_CN": "Kadena", "name_zh_TW": "Kadena", "display_name": "Kadena", "display_code": "KDA", "unit": "hash", "scale": "G", "algo": "Blake2S", "miner": "GPU Rigs/FPGA", "addr_regx": "(k:)?[0-9a-z]{64}", "rate": 3, "rate_real": 16, "rate_type": "PPS", "payout_threshold": "2", "pool_addr": ["stratum+tcp://kda.f2pool.cf:5400"], "address_url": ["kda", "kadena"], "hashrate_url_name": "kadena", "api_url_name": "kadena", "versions": [], "is_wallet_currency": false, "is_anonymous_currency": true, "tx_explorer": "/kadena-kernel/{}", "addr_explorer": "", "is_lab_currency": true, "launch_date": 1578412800, "qq": 970764525}, "chi": {"name_en_US": "CHI-Xaya", "name_zh_CN": "CHI-Xaya", "name_zh_TW": "CHI-Xaya", "display_name": "CHI-Xaya", "display_code": "CHI", "unit": "hash", "scale": "M", "algo": "NeoScrypt", "miner": "GPU Rigs", "addr_regx": "C[a-zA-Z0-9]{27,35}", "rate": 3, "rate_real": 5, "rate_type": "PPS", "payout_threshold": "100", "pool_addr": ["stratum+tcp://chi.f2pool.cf:5300"], "address_url": ["chi", "xaya"], "hashrate_url_name": "xaya", "api_url_name": "xaya", "mining_center_name": "xaya", "versions": [], "is_wallet_currency": false, "is_anonymous_currency": true, "tx_explorer": "https://explorer.xaya.io/tx/{}", "addr_explorer": "https://explorer.xaya.io/address/{}", "is_lab_currency": true, "support_manual_withdraw": true, "launch_date": 1577325600, "qq": 967083876}, "ckb": {"name_en_US": "Nervos CKB", "name_zh_CN": "Nervos CKB", "name_zh_TW": "Nervos CKB", "display_name": "Nervos CKB", "display_code": "CKB", "unit": "hash", "scale": "G", "algo": "Eaglesong", "miner": "Eaglesong ASICs", "addr_regx": "ck[0-9a-zA-Z]+", "rate": 1, "rate_real": 4, "rate_type": "PPS", "payout_threshold": "100", "pool_addr": ["stratum+tcp://ckb.f2pool.cf:4300"], "address_url": ["nervos", "nervos-ckb", "ckb"], "hashrate_url_name": "nervos", "api_url_name": "nervos", "mining_center_name": "nervos", "versions": [], "tutorial_url_key_en": "nervos", "is_wallet_currency": true, "is_anonymous_currency": true, "tx_explorer": "https://explorer.nervos.org/transaction/{}", "addr_explorer": "https://explorer.nervos.org/address/{}", "is_lab_currency": true, "launch_date": 1569513600, "support_manual_withdraw": true, "qq": 756116672}, "dgb-sha256d": {"name_en_US": "DigiByte-SHA256d", "name_zh_CN": "\u6781\u7279\u5e01-SHA256d", "name_zh_TW": "\u6975\u7279\u5e63-SHA256d", "display_name": "DigiByte", "display_code": "DGB-SHA256D", "unit": "hash", "scale": "T", "algo": "SHA256d", "miner": "SHA256d ASICs", "addr_regx": "[DS][0-9A-Za-z]{27,35}", "rate": 5, "rate_real": 17, "rate_type": "PPS", "payout_threshold": 500, "pool_addr": ["stratum+tcp://dgb-sha256d.f2pool.cf:11110"], "address_url": ["digibyte-sha256d", "dgb-sha256d"], "tutorial_url_key": "dgb", "hashrate_url_name": "digibyte-sha256d", "api_url_name": "digibyte-sha256d", "versions": [], "is_anonymous_currency": true, "tx_explorer": "https://digiexplorer.info/tx/{}", "is_lab_currency": true, "support_manual_withdraw": true, "qq": 674791710}, "dgb-scrypt": {"name_en_US": "DigiByte-Scrypt", "name_zh_CN": "\u6781\u7279\u5e01-Scrypt", "name_zh_TW": "\u6975\u7279\u5e63-Scrypt", "display_name": "DigiByte", "display_code": "DGB-SCRYPT", "unit": "hash", "scale": "G", "algo": "Scrypt", "miner": "Scrypt ASICs", "addr_regx": "[DS][0-9A-Za-z]{27,35}", "rate": 5, "rate_real": 17, "rate_type": "PPS", "payout_threshold": 500, "pool_addr": ["stratum+tcp://dgb-scrypt.f2pool.cf:11111"], "address_url": ["digibyte-scrypt", "dgb-scrypt"], "tutorial_url_key": "dgb", "hashrate_url_name": "digibyte-scrypt", "api_url_name": "digibyte-scrypt", "versions": [], "is_anonymous_currency": true, "tx_explorer": "https://digiexplorer.info/tx/{}", "is_lab_currency": true, "support_manual_withdraw": true, "qq": 674791710}, "dgb-skein": {"name_en_US": "DigiByte-Skein", "name_zh_CN": "\u6781\u7279\u5e01-Skein", "name_zh_TW": "\u6975\u7279\u5e63-Skein", "display_name": "DigiByte", "display_code": "DGB-SKEIN", "unit": "hash", "scale": "G", "algo": "Skein", "miner": "Skein ASICs", "addr_regx": "[DS][0-9A-Za-z]{27,35}", "rate": 5, "rate_real": 17, "rate_type": "PPS", "payout_threshold": 500, "pool_addr": ["stratum+tcp://dgb-skein.f2pool.cf:11113"], "address_url": ["digibyte-skein", "dgb-skein"], "tutorial_url_key": "dgb", "hashrate_url_name": "digibyte-skein", "api_url_name": "digibyte-skein", "versions": [], "is_anonymous_currency": true, "tx_explorer": "https://digiexplorer.info/tx/{}", "is_lab_currency": true, "support_manual_withdraw": true, "qq": 674791710}, "dgb-qubit": {"name_en_US": "DigiByte-Qubit", "name_zh_CN": "\u6781\u7279\u5e01-Qubit", "name_zh_TW": "\u6975\u7279\u5e63-Qubit", "display_name": "DigiByte", "display_code": "DGB-QUBIT", "unit": "hash", "scale": "G", "algo": "Qubit", "miner": "Qubit ASICs", "addr_regx": "[DS][0-9A-Za-z]{27,35}", "rate": 5, "rate_real": 17, "rate_type": "PPS", "payout_threshold": 500, "pool_addr": ["stratum+tcp://dgb-qubit.f2pool.cf:11114"], "address_url": ["digibyte-qubit", "dgb-qubit"], "tutorial_url_key": "dgb", "hashrate_url_name": "digibyte-qubit", "api_url_name": "digibyte-qubit", "versions": [], "is_anonymous_currency": true, "tx_explorer": "https://digiexplorer.info/tx/{}", "is_lab_currency": true, "support_manual_withdraw": true, "qq": 674791710}, "dgb-odocrypt": {"name_en_US": "DigiByte-Odocrypt", "name_zh_CN": "\u6781\u7279\u5e01-Odocrypt", "name_zh_TW": "\u6975\u7279\u5e63-Odocrypt", "display_name": "DigiByte", "display_code": "DGB-ODOCRYPT", "unit": "hash", "scale": "G", "algo": "Odocrypt", "miner": "FPGA Miner", "addr_regx": "[DS][0-9A-Za-z]{27,35}", "rate": 5, "rate_real": 17, "rate_type": "PPS", "payout_threshold": 500, "pool_addr": ["stratum+tcp://dgb-odocrypt.f2pool.cf:11115"], "address_url": ["digibyte-odocrypt", "dgb-odocrypt"], "tutorial_url_key": "dgb", "hashrate_url_name": "digibyte-odo", "api_url_name": "digibyte-odo", "versions": [], "is_anonymous_currency": true, "tx_explorer": "https://digiexplorer.info/tx/{}", "is_lab_currency": true, "support_manual_withdraw": true, "qq": 674791710}, "xvg-blake2s": {"name_en_US": "Verge-black2s", "name_zh_CN": "Verge-black2s", "name_zh_TW": "Verge-black2s", "display_name": "Verge", "display_code": "XVG-BLACK2S", "unit": "hash", "scale": "G", "algo": "Blake2s", "miner": "GPU Rigs", "addr_regx": "[DE][1-9A-HJ-NP-Za-km-z]{27,35}", "rate": 5, "rate_real": 30, "rate_type": "PPS", "payout_threshold": 200, "pool_addr": ["stratum+tcp://xvg-blake2s.f2pool.cf:9008"], "address_url": ["verge", "xvg", "verge-blake2s", "xvg-blake2s"], "tutorial_url_key": "xvg", "hashrate_url_name": "verge-blake2s", "api_url_name": "verge-blake2s", "mining_center_name": "xvg-blake2s", "versions": [], "is_anonymous_currency": true, "tx_explorer": " https://vergechain.org/tx/{}", "is_lab_currency": true, "support_manual_withdraw": true, "qq": 674791710}, "xvg-scrypt": {"name_en_US": "Verge-scrypt", "name_zh_CN": "Verge-scrypt", "name_zh_TW": "Verge-scrypt", "display_name": "Verge", "display_code": "XVG-SCRYPT", "unit": "hash", "scale": "G", "algo": "Scrypt", "miner": "Scrypt ASICs", "addr_regx": "[DE][1-9A-HJ-NP-Za-km-z]{27,35}", "rate": 5, "rate_real": 30, "rate_type": "PPS", "payout_threshold": 200, "pool_addr": ["stratum+tcp://xvg-scrypt.f2pool.cf:9009"], "address_url": ["verge-scrypt", "xvg-scrypt"], "tutorial_url_key": "xvg", "hashrate_url_name": "verge-scrypt", "api_url_name": "verge-scrypt", "mining_center_name": "xvg-scrypt", "versions": [], "is_anonymous_currency": true, "tx_explorer": " https://vergechain.org/tx/{}", "is_lab_currency": true, "support_manual_withdraw": true, "qq": 674791710}, "xvg-x17": {"name_en_US": "Verge-x17", "name_zh_CN": "Verge-x17", "name_zh_TW": "Verge-x17", "display_name": "Verge", "display_code": "XVG-X17", "unit": "hash", "scale": "G", "algo": "X17", "miner": "GPU Rigs", "addr_regx": "[DE][1-9A-HJ-NP-Za-km-z]{27,35}", "rate": 5, "rate_real": 30, "rate_type": "PPS", "payout_threshold": 200, "pool_addr": ["stratum+tcp://xvg-x17.f2pool.cf:9010"], "address_url": ["verge-x17", "xvg-x17"], "tutorial_url_key": "xvg", "hashrate_url_name": "verge-x17", "api_url_name": "verge-x17", "mining_center_name": "xvg-x17", "versions": [], "is_anonymous_currency": true, "tx_explorer": " https://vergechain.org/tx/{}", "is_lab_currency": true, "support_manual_withdraw": true, "qq": 674791710}, "xvg-lyra": {"name_en_US": "Verge-Lyra2REv2", "name_zh_CN": "Verge-Lyra2REv2", "name_zh_TW": "Verge-Lyra2REv2", "display_name": "Verge", "display_code": "XVG-LYRA2REV2", "unit": "hash", "scale": "G", "algo": "Lyra2REv2", "miner": "Lyra2REv2 ASICs", "addr_regx": "[DE][1-9A-HJ-NP-Za-km-z]{27,35}", "rate": 5, "rate_real": 30, "rate_type": "PPS", "payout_threshold": 200, "pool_addr": ["stratum+tcp://xvg-lyra.f2pool.cf:9012"], "address_url": ["verge-lyra", "xvg-lyra"], "tutorial_url_key": "xvg", "hashrate_url_name": "verge-lyra", "api_url_name": "verge-lyra", "mining_center_name": "xvg-lyra", "versions": [], "is_anonymous_currency": true, "tx_explorer": " https://vergechain.org/tx/{}", "is_lab_currency": true, "support_manual_withdraw": true, "qq": 674791710}, "xvg-groestl": {"name_en_US": "Verge-Myriad-Groestl", "name_zh_CN": "Verge-Myriad-Groestl", "name_zh_TW": "Verge-Myriad-Groestl", "display_name": "Verge", "display_code": "XVG-GROESTL", "unit": "hash", "scale": "G", "algo": "Myriad-Groestl", "miner": "Baikal Miner", "addr_regx": "[DE][1-9A-HJ-NP-Za-km-z]{27,35}", "rate": 5, "rate_real": 30, "rate_type": "PPS", "payout_threshold": 200, "pool_addr": ["stratum+tcp://xvg-groestl.f2pool.cf:9011"], "address_url": ["verge-groestl", "xvg-groestl"], "tutorial_url_key": "xvg", "hashrate_url_name": "verge-groestl", "api_url_name": "verge-groestl", "mining_center_name": "xvg-groestl", "versions": [], "is_anonymous_currency": true, "tx_explorer": " https://vergechain.org/tx/{}", "is_lab_currency": true, "support_manual_withdraw": true, "qq": 674791710}, "rvn": {"name_en_US": "Ravencoin", "name_zh_CN": "\u6e21\u9e26\u5e01", "name_zh_TW": "\u6e21\u9d09\u5e63", "display_name": "Ravencoin", "display_code": "RVN", "unit": "hash", "scale": "M", "algo": "KawPow", "miner": "GPU Rigs", "addr_regx": "[Rr][1-9A-HJ-NP-Za-km-z]{33}", "rate": 3, "rate_real": 7, "rate_type": "PPS", "payout_threshold": 100, "pool_addr": ["stratum+tcp://raven.f2pool.cf:3636", "stratum+ssl://rvnssl-euro.f2pool.cf:3640", "stratum+ssl://rvnssl-na.f2pool.cf:3640"], "pool_addr_backup": ["stratum+ssl://rvnssl-euro.f2pool.cf:3641", "stratum+ssl://rvnssl-na.f2pool.cf:3641"], "pool_addr_port": [{"addr": "stratum+tcp://raven.f2pool.cf", "port": [3636]}, {"addr": "stratum+ssl://rvnssl-euro.f2pool.cf", "port": [3640, 3641]}, {"addr": "stratum+ssl://rvnssl-na.f2pool.cf", "port": [3640, 3641]}], "address_url": ["raven", "ravencoin", "rvn"], "hashrate_url_name": "raven", "api_url_name": "raven", "versions": [], "is_wallet_currency": true, "is_anonymous_currency": true, "is_lab_currency": true, "support_manual_withdraw": true, "qq": 993080319}, "rvn-pri": {"name_en_US": "Ravencoin", "name_zh_CN": "\u6e21\u9e26\u5e01", "name_zh_TW": "\u6e21\u9d09\u5e63", "display_name": "Ravencoin", "display_code": "RVN", "unit": "hash", "scale": "M", "algo": "X16Rv2", "miner": "GPU Rigs", "addr_regx": "[Rr][1-9A-HJ-NP-Za-km-z]{33}", "rate": 3, "rate_type": "PPS", "payout_threshold": 100, "pool_addr": ["stratum+tcp://raven-pri.f2pool.cf"], "address_url": ["ravenp"], "hashrate_url_name": "ravenp", "api_url_name": "ravenp", "versions": [], "is_wallet_currency": false, "is_anonymous_currency": true, "is_private_pool": true, "is_lab_currency": true, "is_show_index": false}, "cfx": {"name_en_US": "Conflux", "name_zh_CN": "Conflux", "name_zh_TW": "Conflux", "display_name": "Conflux", "display_code": "CFX", "unit": "hash", "scale": "M", "algo": "Octopus", "miner": "GPU Rigs", "addr_regx": "(0[xX])?[0-9A-Fa-f]{40}|cfx:[abcdefghjkmnprstuvwxyz0123456789]{42}", "rate": 3, "rate_real": 3, "rate_type": "PPS", "payout_threshold": 10, "pool_addr": ["stratum+tcp://cfx.f2pool.cf:6800"], "address_url": ["conflux"], "hashrate_url_name": "conflux", "api_url_name": "conflux", "is_wallet_currency": true, "is_anonymous_currency": false, "tx_explorer": "https://www.confluxscan.io/transaction/{}", "addr_explorer": "https://www.confluxscan.io/address/{}", "is_lab_currency": true, "support_manual_withdraw": true, "launch_date": 1604448001, "qq": 1126974705}, "auto-equihash": {"name_en_US": "", "name_zh_CN": "", "name_zh_TW": "", "display_name": "auto-equihash", "display_code": "AUTO-EQUIHASH", "show_code": "code_ZEC Profit-Switching", "show_title": "title_ZEC Profit-Switching", "unit": "sol", "scale": "K", "algo": "Equihash", "miner": "Equihash ASICs", "addr_regx": "", "rate": 4, "rate_type": "PPS", "payout_threshold": 1, "pool_addr": ["stratum+tcp://equihash.f2pool.cf:5100"], "address_url": ["auto-equihash"], "hashrate_url_name": "auto-equihash", "multi_currency_key": ["zec", "zen"], "api_url_name": "auto-equihash", "tutorial_url_key": "equihash", "tutorial_url_key_en": "zcash", "versions": [], "is_wallet_currency": true, "is_anonymous_currency": false, "is_lab_currency": false, "is_show_index": false, "qq": 861594112}, "erg": {"name_en_US": "Ergo", "name_zh_CN": "\u5c14\u683c\u5e01", "name_zh_TW": "\u723e\u683c\u5e63", "display_name": "Ergo", "display_code": "ERG", "unit": "hash", "scale": "M", "algo": "Autolykos 2", "miner": "", "addr_regx": "9[a-zA-Z0-9]{45,55}", "rate": 3, "rate_type": "PPS", "payout_threshold": 0.5, "pool_addr": ["stratum+tcp://erg.f2pool.cf:7200"], "address_url": ["ergo"], "hashrate_url_name": "ergo", "api_url_name": "ergo", "versions": [], "is_wallet_currency": true, "is_anonymous_currency": false, "tx_explorer": "https://explorer.ergoplatform.com/addresses/{}", "addr_explorer": "https://explorer.ergoplatform.com/transactions/{}", "is_lab_currency": true, "support_manual_withdraw": false, "launch_date": 1632268800, "qq": 894097548}, "meer": {"name_en_US": "MEER", "name_zh_CN": "MEER", "name_zh_TW": "MEER", "display_name": "Meer", "display_code": "MEER", "unit": "hash", "scale": "G", "algo": "MeerKeccakV1", "miner": "FPGA", "addr_regx": "[M][a-zA-Z0-9]{27,34}", "rate": 3, "rate_real": 40, "rate_type": "PPS", "payout_threshold": 10, "pool_addr": ["stratum+tcp://meer.f2pool.cf:7300"], "address_url": ["qitmeer-meer"], "hashrate_url_name": "qitmeer-meer", "api_url_name": "qitmeer-meer", "mining_center_name": "qitmeer", "tutorial_url_key_en": "qitmeer", "versions": [], "is_wallet_currency": true, "is_anonymous_currency": false, "tx_explorer": "https://meerscan.io/tx/{}", "addr_explorer": "https://meerscan.io/address/{}", "is_lab_currency": true, "is_show_index": true, "support_manual_withdraw": false, "launch_date": 1642348800, "qq": 894097548}};
    var CHART_INTERVAL = '30min';
    var HASHRATE_UNIT = 'MH/s';
    var WIN_WIDTH = $(window).width();
    var MAIN_CHART, WORKER_TABLE, PAYOUT_TABLE;
    var STICKY_LIST_TAB_CONTAINER, STICKY_WORKER_STATUS_FILTER;
    var is_anonymous;

    is_anonymous = true;

    var REWARDS = [];
    if( currency_code === 'btc'){
        REWARDS = ['hathor', 'nmccoin', 'elacoin'];
    }
    var CHART_OPTION = {
        grid: [{ top: 40, bottom: 20, left: 10, right: 10, containLabel: true }],
        tooltip: {
            show: true,
            trigger: 'axis',
            backgroundColor: 'rgba(52, 73, 91, 0.8)',
            borderWidth: 0,
            padding: 0,
            textStyle: { color: '#fff', fontSize: 12, lineHeight: 24 },
            extraCssText: 'border-radius: 10px;',
        },
        axisPointer: {
            lineStyle: {
                color: '#2149c8',
            }
        },
        xAxis: {
            type: 'time',
            nameLocation: 'start',
            nameTextStyle: { color: '#adadad', fontSize: CHART_AXIS_FONT_SIZE },
            nameGap: 20,
            axisLabel: {
                color: '#8d9ea7',
                fontSize: CHART_AXIS_FONT_SIZE,
                showMaxLabel: false,
                formatter: function(val) {
                    return moment(new Date(parseInt(val, 10))).format(CHART_INTERVAL === '30min' ? 'MM-DD HH:mm': 'MM-DD');
                },
                rotate: $('#chart-miner-rate').width() < 1100 ? 40 : 0
            },
            axisLine: { show: true, lineStyle: { color: '#e7e7e7', width: 1 } },
            splitLine: { show: true, lineStyle: { opacity: 0.4 } },
        },
        yAxis: [{
            type: 'value',
            nameTextStyle: { color: '#8d9ea7', fontSize: CHART_AXIS_FONT_SIZE},
            nameGap: 16,
            axisLabel: { color: '#999', fontSize: CHART_AXIS_FONT_SIZE, },
            axisTick: { show: false },
            axisLine: { show: true, lineStyle: { color: '#e7e7e7', width: 1 } },
            splitNumber: 8,
            splitLine: { show: true, lineStyle: { opacity: 0.4 } },
            max: 'dataMax'
        },{
            type: 'value',
            nameTextStyle: { color: '#8d9ea7', fontSize: CHART_AXIS_FONT_SIZE},
            nameGap: 16,
            axisLabel: { color: '#999', fontSize: CHART_AXIS_FONT_SIZE, },
            axisTick: { show: false },
            axisLine: { show: true, lineStyle: { color: '#e7e7e7', width: 1 } },
            splitLine: { show: false },
        }],
        series: [{
            type: 'line',
            showSymbol: false,
            smooth: true,
            lineStyle: {
                normal: {
                    color: '#2053e9',
                    width: 2
                }
            },
            itemStyle: {
                borderColor: '#2053e9',
                borderWidth: 2,
                color: '#2053e9',
            },
            areaStyle: {
                color: {
                    type: 'linear', x: 0, y: 0, x2: 0, y2: 1,
                    colorStops: [{
                        offset: 0, color: 'rgba(44, 120, 249, 0.3)'
                    }, {
                        offset: 1, color: 'rgba(45, 123, 250, 0.03)'
                    }],
                },
            }
        },{
            type: 'line',
            showSymbol: false,
            yAxisIndex: 1,
            smooth: false,
            lineStyle: {
                normal: {
                    color: '#DF8787',
                    width: 2
                }
            },
            itemStyle: {
                borderColor: '#DF8787',
                borderWidth: 2,
                color: '#DF8787',
            },
        }]
    };
    $('.mining-user-info-container, .address-table-container thead').find('[data-toggle="tooltip"]').tooltip();
    $('.btn-global-help').addClass('animate');
    var CURRENCY_UNIT = 'hash';
    var CURRENCY_UNIT_SHORT = CURRENCY_UNIT === 'hash' ? 'H' : CURRENCY_UNIT;
    initHelpModal();
    initMainChart();
    formatTimestamp();

//<script>
    var WORKERS_TAG = [];
    var WORKERS_DATA = [];
    var PAGE_LENGTH = localStorage.getItem('workerPageTableLength') || 50;
    var STATUS_MAP_REVERSE = {
        'all': 'all',
        0: 'online',
        1: 'offline',
        2: 'expire'
    };
    var CURRENT_STATUS = 'all';
    var CURRENT_TAG = 'all';
    var WORKER_TABLE_CONFIG = {
        language: {
            zeroRecords: "没有找到数据",
            info: "*当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录。",
            infoEmpty: "",
            processing: "<img src='../resources/user_share/row_details/select2-spinner.gif'/> 正在处理...",
            paginate: {
                first: '<i class="far fa-angle-double-left"></i>',
                previous: '<i class="far fa-angle-left"></i>',
                next: '<i class="far fa-angle-right"></i>',
                last: '<i class="far fa-angle-double-right"></i>'
            },
            lengthMenu: '<select>'+
                '<option value="10">10 条/页</option>'+
                '<option value="50">50 条/页</option>'+
                '<option value="100">100 条/页</option>'+
                '<option value="200">200 条/页</option>'+
                '<option value="500">500 条/页</option>'+
                '</select>'
        },
        dom: "t" + "<'#worker-table-footer.row'pl>" ,
        info: false,
        autoWidth: false,
        searching: true,
        sortCellsTop: true,
        paging: true,
        pageLength: PAGE_LENGTH,
        pagingType: 'full_numbers',
        lengthMenu: [10, 50, 100, 200, 500],
        serverSide: true,
        order: [], //默认不排序
        ajax: {
            type: "GET",
            url: '/eth/0x4602526044e69a6da5fd7baa25db4e05db8a7230',
            data: function(d) {
                return $.extend({}, d, {
                    account: '0x4602526044e69a6da5fd7baa25db4e05db8a7230',
                    currency: currency_code.toUpperCase(),
                    tagOnly: CURRENT_TAG === 'all' ? 0 : CURRENT_TAG,
                    tagview: true,
                    tab: STATUS_MAP_REVERSE[CURRENT_STATUS],
                    action: is_anonymous ? 'anonymous_get_pagination_workers' : 'get_pagination_workers',
                    filter: ($(window).width() > 991 ? $('.list-head .search-worker-name') : $('.worker-filter-container .search-worker-name')).val(),
                });
            },
            beforeSend: function(status, xhr) {
                $(".list-group-item.disabled, .J-tag-item").remove();
                $(".table-loading, .loadingIndicator").show();
            },
            error: function() {
                $(".table-loading, .loadingIndicator").hide();
            },
        },
        columns: [{ // 0
            data: "name",
            className: 'worker-name',
            searchable: true,
            render: function(data, type, row) {
                return '<span class="status-dot ' + (row.status === 0 ? 'online' : (row.status === 1 ? 'offline' : 'expire')) + '"></span>' +
                    '<span>' + data + '</span>';
            }
        }, { // 1
            data: "local_hash",
            searchable: false,
            type: 'formatted-num',
            className: 'd-none d-lg-table-cell hash-local',
            render: function(data, type, row) {
                if (data) {
                    return renderHashrate(data);
                } else {
                    return '-';
                }
            },
        }, { // 2
            data: "hashrate",
            searchable: false,
            className: 'hash-15m',
            type: 'formatted-num',
            render: function(data, type, row) {
                return renderHashrate(data);
            },
        }, { // 3
            data: "hashrate_last_day",
            searchable: false,
            type: 'formatted-num',
            className: 'hash-24h',
            render: function(data, type, row) {
                return renderHashrate(data);
            },
        }, { // 4 延迟率
            data: "delayrate_last_day",
            searchable: false,
            type: 'formatted-num',
            visible: currency_code.startsWith('eth') ? WIN_WIDTH > 991:false,
            className: 'delayed',
            render: function(data, type, row) {
                return data + ' %';
            },
        }, { // 5 拒绝率
            data: "stalerate_last_day",
            searchable: false,
            type: 'formatted-num',
            className: 'rejected',
            render: function(data, type, row) {
                return data + ' %';
            },
        }, { // 6
            data: "last_share",
            searchable: false,
            visible: IS_ZOOM_MODE || WIN_WIDTH > 991,
            className: 'last-share',
            visible: $(window).width() > 991 || IS_ZOOM_MODE,
            render: function(data, type, row) {
                var ret = renderLastShare(data, row.status);
                var comment = row.last_share_comment;
                if (comment) {
                    ret += '<br><span style="white-space: nowrap; font-weight: normal; color: ' +
                        (status === 2 ? '#34495e' : '#eb5648') + ';">(' + comment + ')</span>';
                }
                return ret || '-';
            },
        }, { // 7
            data: 'tag_name',
            searchable: false,
            orderable: false,
            visible: false,
            className: 'group',
            render: function(data, type, row){
                return data || '-';
            }
        }, { // 8
            data: 'name',
            orderable: false,
            className: 'd-none d-lg-table-cell',
            render: function(data, type, row) {
                return '<a class="btn-collapse collapsed d-none d-lg-block" href="#" data-worker="' + row.name
                    + '"><i class="far"></i></a>';
            },
        }],
        rowCallback: function(row, data) {
            $(row).data('name', data.origin_name);
        },
        drawCallback: function() {
            $('.worker-filter').removeClass('hide');
        },
    };
    jQuery.extend(jQuery.fn.dataTableExt.oSort, {
        "formatted-num-pre": function(a) {
            a = (a === "-" || a === "") ? 0 : a.replace("sol/s", "");
            var ret = parseFloat(a);
            return isNaN(ret) ? 0 : ret;
        },
        "formatted-num-asc": function(a, b) {
            return a - b;
        },
        "formatted-num-desc": function(a, b) {
            return b - a;
        }
    });
// url: '/eth/0x4602526044e69a6da5fd7baa25db4e05db8a7230',
// #未分组分页的tagonly
// tagOnly = self.get_argument("tagOnly", 0)
// 参数
// worker标签 "tab" : 'all' | 'online' | 'offline' | 'expire' -------- 全部 ｜ 在线 | 离线 | 失效 默认 'all'
// 排序方式 "sort": 'name' | 'hashrate' | 'hash_rate_daily' | 'reject_rate' | 'last_share' ------- '名字' | '实时算力' | '日算力' | '拒绝旅' | '提交时间' 默认不排序
// 顺序 "order": 'asc' | 'desc' 默认 'asc'
// 偏移 "offset": 0 默认 0
// 单页num "limit": 40 默认 40
// "filter": 没有默认
// 组id "tagOnly": 0 默认 0 -1 代表未分组， 0 代表全部，其他代表组id
// tagOnly=0 时会返回 tagsOverview(各分组数据)
    function initWorkerTable() {
//'xhr.dt'：Ajax event - fired when an Ajax request is completed.
        WORKER_TABLE = $('#worker-table').on('xhr.dt', function(e, settings, json) {
            if (!json) return;
            updateWorkerTable(json);
        }).DataTable(WORKER_TABLE_CONFIG);
        WORKER_TABLE.on('length.dt', function(e, settings, len){
            localStorage.setItem('workerPageTableLength', len);
        })
        initSingleWorkerChart();
        bindWorkerSearch();
    }
    function updateWorkerTable(json) {
        var data = json.originData;
        WORKERS_TAG = data.tagsOverview;
        WORKERS_DATA = data.workers;
        updateTotalRow(data.summary);
        setTotalStatus(data);
        if (WORKERS_TAG && WORKERS_TAG.length > 0) {
            $('.worker-main-content').addClass('has-tags');
            fillTags(WORKERS_TAG);
            chooseTag();
        }
        setStatus({
            all: data.worker_length_all,
            online: data.worker_length_online,
            offline: data.worker_length_offline,
            dead: data.worker_length_dead,
        });
    }
    function renderLastShare(data, status) {
        if (data == 0) {
            return '';
        }
        var ts = Math.floor(Date.now() / 1000);
        var ago = '';
        var diff = ts - data;
        var minute = (Math.floor(diff / 60) % 60).toFixed(0);
        var hour = (diff / 3600).toFixed(0);
        var day = (diff / 86400).toFixed(0);
        if (diff < 3600) {
            ago = "{minutes}分前".replace("{minutes}", minute);
        } else if (diff < 86400){
            ago = "{hours}时{minutes}分前".replace("{hours}", hour).replace("{minutes}", minute);
        } else {
            ago = "{days}天前".replace("{days}", day);
        }
        if (status == 1) {
            return '<div style="color: #eb5648;">' + moment(new Date(data * 1000)).format((IS_ZOOM_MODE ? '' : 'YYYY-') + 'MM-DD HH:mm') +
                '<br> <span style="font-size: 12px;">(' + ago + ')</span></div>';
        } else if (status == 2) {
            return moment(new Date(data * 1000)).format((IS_ZOOM_MODE ? '' : 'YYYY-') + 'MM-DD HH:mm') +
                '<br> <span style="font-size: 12px;">(' + ago + ')</span>';
        } else {
            return moment(new Date(data * 1000)).format((IS_ZOOM_MODE ? '' : 'YYYY-') + 'MM-DD HH:mm');
        }
    }
    function bindWorkerSearch() {
        $('.worker-filter').on('input', 'input', function() {
            WORKER_TABLE.ajax.reload();
            $(this).parent().find('.icon-clear-search').toggle($(this).val().length > 0);
        }).on('click', '.btn-normal', function() {
            WORKER_TABLE.ajax.reload();
        }).on('click', '.icon-clear-search', function() {
            var $filter = $(this).parents('.worker-filter');
            $(this).hide();
            $filter.find('input').val('');
            $filter.find('.btn-normal').click();
        });
    }
    function bindMobileWorkerDetail() {
        var $table = $('.worker-table .table');
        var $modal = $('.modal-worker-detail');
//var $containerInfo = $modal.find('.container-info');
        $table.on('click', 'tbody td:not(.dataTables_empty)', function() {
            if (WIN_WIDTH > 991) return;
            var $tr = $(this).parents('tr');
            var row = $table.DataTable().row($tr);
            var rowData = row.data();
            var originName = $tr.data('name');
            location.hash = originName;
            $modal.data('workerData', rowData).modal('show');
        });
        $modal.on('shown.bs.modal', function() {
            var data = $modal.data('workerData');
            var temp = [{
                title: '15分钟算力',
                value: renderHashrate(data.hashrate),
            }, {
                title: '24小时算力',
                value: renderHashrate(data.hashrate_last_day),
            },

                {
                    title: '本地算力',
                    value: renderHashrate(data.local_hash),
                },{
                    title: '延迟率',
                    value: data.delayrate_last_day + ' %',
                },

                {
                    title: '拒绝率',
                    value: data.stalerate_last_day + ' %',
                }, {
                    title: '最近提交时间',
                    value: renderLastShare(data.last_share, data.status),
                },

            ];
            initWorkerChart($modal.find('.container-worker-chart'), data.origin_name);
            $modal.find('.modal-page-header span').text(data.origin_name);
            var html = '';
            $.each(temp, function() {
                html += '<div class="item"><span class="title">' + this.title + '</span>' +
                    '<span class="value">' + this.value + '</span></div>';
            });
            $('.modal-worker-detail .container-info').html(html);
        }).on('click touchstart', '.btn-back', function() {
            location.hash = '';
            $modal.modal('hide');
        });
        $(window).on('hashchange', function() {
            if (!location.hash.split('#')[1]) {
                $modal.modal('hide');
            }
        });
    }
    function bindMobileSearch() {
        $('#workerFilterContainer').on('show.bs.collapse', function() {
            var headHeight = $('.page-wrapper.has-tips').length > 0 ? 88: 48;
            $('body').addClass('worker-filter-shown');
        }).on('shown.bs.collapse', function() {
            $(this).find('.search-worker-name').focus();
        }).on('hidden.bs.collapse', function() {
            $(this).find('.search-worker-name').blur();
            $('.worker-grid-header').css({
                paddingTop: 0,
                marginTop: 0
            });
            $('body').removeClass('worker-filter-shown');
        });
    }
    function updateTotalRowStatus(){
        if(CURRENT_STATUS === 'all' && CURRENT_TAG==='all'){
            $('#head-row-total').css('display', 'table-row');
        }else{
            $('#head-row-total').css('display', 'none');
        }
    }
    function updateTotalRow(data) {
        if ($('body').has('#head-row-total')) {
            updateTotalRowStatus();
            var $totalRow = $('#head-row-total');
            var unit = IS_ZOOM_MODE ? '' : CURRENCY_UNIT_SHORT
            var tmp = format_hashrate(Big(data.hash_rate).toString(), unit, 2);
            var hash_rate = IS_ZOOM_MODE ? tmp.replace('/s', '') : tmp;
            $totalRow.find('.hash-15m').text(hash_rate);
            tmp = format_hashrate(Big(data.hash_rate_daily).toString(), unit, 2)
            var hash_rate_daily = IS_ZOOM_MODE ? tmp.replace('/s', '') : tmp;
            $totalRow.find('.hash-24h').text(hash_rate_daily);
            if(data.local_hash) {
                tmp = format_hashrate(Big(data.local_hash).toString(), unit, 2)
                var local_hash = IS_ZOOM_MODE ? tmp.replace('/s', '') : tmp;
            }
            $totalRow.find('.hash-local').text(local_hash);
            if ( currency_code.startsWith('eth')){
                $totalRow.find('.delayed').text(data.delay_rate + ' %' || '-');
            }
            $totalRow.find('.rejected').text(data.reject_rate + ' %' || '-');
        }
    }
    function bindMobileSort() {
        var $body = $('body');
        var $sortContainer = $('.list-sort-container');
        $('.list-sort-content').on('show.bs.collapse', function() {
            $body.addClass('modal-open modal-list-sort-open');
            $sortContainer.find('.worker-filter-container').hide().collapse('hide');
            if (!$sortContainer.hasClass('fix-top')) {
                $sortContainer.addClass('fix-top');
                if (!$('header.header').hasClass('header-fix-top')) $(window).scrollTop(0);
            }
            if ($body.find('.list-backdrop').length === 0) {
                $body.append($('<div class="list-backdrop show"></div>'));
            } else {
                $body.find('.list-backdrop').addClass('show');;
            }
        }).on('hidden.bs.collapse', function() {
            if ($('.list-sort-content.show').length > 0 ||
                ($('.list-sort-content.collapsing').length > 0 && !$('.list-sort-content.collapsing').is($(this)))) {
                return false;
            }
            $body.removeClass('modal-open modal-list-sort-open');
            $body.find('.list-backdrop').remove();;
            $sortContainer.find('.worker-filter-container').show();
            $sortContainer.removeClass('fix-top');
        }).on('click', '.item', function() {
            $('.list-sort-content').collapse('hide');
        });
        $('.collapse-table-sort .item').on('click', function() {
            var $item = $(this);
            var sortKey = $item.data('sort');
            var sortType = $item.data('type');
            $item.addClass('active').siblings().removeClass('active');
            $('.col-sort .sortable').removeClass('desc asc');
            $('.list-sort-btn.sort .btn').find('span').text($item.text());
            if (!WORKER_TABLE) return;
            if (sortKey) {
                var config = [{
                    data: 'worker_name',
                    orderData: 0
                }, {
                    data: 'hashrate',
                    orderData: 2
                }, {
                    data: 'hashrate_last_day',
                    orderData: 3
                },{
                    data: 'delayrate',
                    orderData: 4
                }, {
                    data: 'stalerate',
                    orderData: 5
                }, {
                    data: 'last_share',
                    orderData: 6
                }];
                var item = config.find(function(i) {
                    return i.data === sortKey;
                });
                if (item) {
                    WORKER_TABLE.order([item.orderData, sortType]).draw();
                }
            }
        });
        $(document).on('click touchstart', function (e) {
            if ($body.hasClass('modal-list-sort-open')) {
                var $toggle = $('.list-sort-content');
                if (!$toggle.is(e.target) && $toggle.has(e.target).length === 0) {
                    $toggle.collapse('hide');
                }
            }
        });
    }
    function bindListTab() {
        $('.address-table-container .list-tab .nav-link').on('show.bs.tab', function() {
            $('.worker-filter').toggle($(this).data('key') === 'workers');
            $('.export-container').toggle($(this).data('key') === 'payouts');
            if (WORKER_TABLE) {
                $(WORKER_TABLE.table().container()).css('display', $(this).data('key') === 'workers' ? 'block' : 'none');
                WORKER_TABLE.fixedHeader.adjust();
            }
        });
    }
// single worker chart
    function initSingleWorkerChart() {
        $('.worker-table .table').on('click', '.btn-collapse, tbody td:nth-child(n+2)', function(e) {
            e.preventDefault();
            e.stopPropagation();
            if ($(window).width() <= 991) return false;
            var $tr = $(this).parents('tr');
            var row = WORKER_TABLE.row($tr);
            var rowData = row.data();
            var workerName = $tr.find('.btn-collapse').data('worker');
            if (row.child.isShown()) {
// close child
                $('.collapse-container', row.child()).slideUp(function() {
                    row.child.hide();
                    $tr.removeClass('shown');
                });
            } else {
// Open child
                WORKER_TABLE.rows().every(function() {
                    this.child.hide();
                });
                $('.worker-table .table tr').removeClass('shown');
                $tr.addClass('shown');
                row.child(formatCollapseRow(workerName), 'row-collapse').show();
                $('.collapse-container', row.child()).slideDown('normal', function() {
                    initWorkerChart($tr.next().find('.chart-container'), workerName);
                });
            }
        });

        $('.worker-table .table th').on('click', '.switch', function(e) {
            var table = $('.worker-table .table').DataTable();
            var rejected = table.column(5).visible();
            var delayed = table.column(4).visible();
            table.column(5).visible(!rejected, false);
            table.column(4).visible(!delayed);
        });

    }
    function bindTags() {
        $("#tags-list, .list-sort-container").on("click", '.list-group-item', function() {
            var $target = $(this);
            $target.addClass('active').siblings().removeClass("active");
            $('.list-sort-btn.tag .btn').find('span').text($target.find('.tag-title').text());
            CURRENT_TAG = $target.data('tag');
            updateTotalRowStatus();
            $(".worker-table table").DataTable().ajax.reload();
        });
    }
    function renderHashrate(data) {
        var unit = (data == 0 ? 'H' : 'MH') + '/s';
        return data + '<span class="unit"> ' + unit + '</span>';
    }
    function bindStatusFilter() {
        bindNavChange();
        /*if ($('.worker-status-filter .nav-status-expire').length > 0) {
showDeadMinerTip();
}*/
        $('.worker-status-filter .nav-link').on('click', function(e) {
            e.preventDefault();
            var $item = $(this);
            $item.tab('show');
            CURRENT_STATUS = $item.data('status');
            updateTotalRowStatus();
            if (!WORKER_TABLE) return;
            if ($(window).width() < 992) {
                var columnRejected = WORKER_TABLE.column(5);
                var columnLastShare = WORKER_TABLE.column(6);
                if (!IS_ZOOM_MODE) {
                    columnRejected.visible(CURRENT_STATUS !== 1 && CURRENT_STATUS !== 2);
                    columnLastShare.visible(CURRENT_STATUS === 1 || CURRENT_STATUS === 2);
                }
                $('.collapse-table-sort .item[data-sort="stalerate"]').toggle(CURRENT_STATUS !== 1 && CURRENT_STATUS !== 2);
                $('.collapse-table-sort .item[data-sort="last_share"]').toggle(CURRENT_STATUS === 1 || CURRENT_STATUS === 2);
            }
            WORKER_TABLE.ajax.reload();
        });
    }
    function bindNavChange() {
        var $container = $('.worker-grid-header');
        update($container.find('.nav-link.active').parent());
        $container.find('.nav-link').on('click', function() {
            update($(this).parent());
        });
        function update($item) {
            $item.siblings().removeClass('act');
            $item.addClass('act').next().addClass('act');
        }
    }
    function fillTags(tagsData) {
        $('.J-tag-all .tag-info, .J-tag-ungrouped .tag-info').remove();
        $('.J-tag-all').append(getTagInfoTpl(tagsData[0]));
        $('.J-tag-ungrouped').append(getTagInfoTpl(tagsData[1])).show();
        for (var i = 2; i < tagsData.length; i++) {
            $('.J-tag-ungrouped').after(
                $($(window).width() > 991 ? '<li></li>' : '<a></a>', {
                    class: "list-group-item J-tag-item item"
                }).data('tag', tagsData[i].id)
                    .html('<div class="tag-title d-flex justify-content-between">' +
                        '<span>' + html_escape(tagsData[i].tag_name) + '</span>' +
                        '</div>' +
                        getTagInfoTpl(tagsData[i]))
            );
        }
    }
    function chooseTag() {
        var $tagsList = $('#tags-list, .list-sort-container');
        var $target;
        $tagsList.find('.list-group-item').removeClass("active");
        $tagsList.find('.list-group-item').each(function() {
            if ($(this).data('tag') === CURRENT_TAG) {
                $(this).addClass('active');
                $target = $(this);
            }
        });
        if ($target) {
            $('.list-sort-btn.tag .btn span').text($target.eq(0).find('.tag-title').text());
        }
    }
    function setTotalStatus(data) {
        var $statusBar = $('.status-bar');
        $statusBar.find('.status-item.all .item-val').text(data.worker_length_all);
        $statusBar.find('.status-item.online .item-val').text(data.worker_length_online);
        $statusBar.find('.status-item.offline .item-val').text(data.worker_length_offline);
        $statusBar.find('.status-item.dead .item-val').text(data.worker_length_dead);
    }
    function setStatus(data) {
        $('.nav-status-all .status-count').text(data.all);
        $('.nav-status-online .status-count').text(data.online);
        $('.nav-status-offline .status-count').text(data.offline);
        $('.nav-status-expire .status-count').text(data.dead);
    }
    function getTagInfoTpl(data) {
        if (!data) data = {};
        return '<div class="tag-info">' +
            '<div class="hashrate">' + _format_hashrate(data.hash_rate || 0) +
            '</span></div>' +
            '<div class="status"><span class="text-all">' + (data.total || 0) + '</span> / ' +
            '<span class="text-online">' + (data.online || 0) + '</span> / ' +
            '<span class="text-offline">' + (data.offline || 0) + '</span> / ' +
            '<span class="text-expire">' + (data.expire || 0) + '</span>' +
            '</div></div>';
    }
    function formatCollapseRow(workerName) {
        return '<div class="collapse-container">' +
            '<h2>' + workerName + ' - 过去24小时算力</h2>' +
            '<div class="chart-container" style="width: 100%; height: 320px;"></div>';
    }
    function initWorkerChart($el, workerName) {
        var singleWorkerChart = echarts.init($el.get(0));
        singleWorkerChart.setOption(CHART_OPTION);
        singleWorkerChart.setOption({xAxis: {axisLabel: {formatter: function(val) {
                        return moment(new Date(parseInt(val, 10))).format('MM-DD HH:mm');
                    }}}});
        bindChartResize(singleWorkerChart);
        singleWorkerChart.showLoading({
            text: 'loading...',
            color: '#2889fc',
            maskColor: 'rgba(255, 255, 255, 0.1)'
        });
        singleWorkerChart.resize();
        $.ajax({
            type: 'GET',
            url: '/eth/0x4602526044e69a6da5fd7baa25db4e05db8a7230',
            data: {
                action: 'load',
                worker_name: workerName
            }
        }).done(function(response, status, xhr) {
            singleWorkerChart.hideLoading();
            if (response.status && response.status == 'ok') {
                var data = response.data || {};
                renderChart(singleWorkerChart, data.tick_values, data.hashrate_history);
            } else {
                singleWorkerChart.clear();
            }
        }).fail(function(xhr, status, errorThrown) {
            singleWorkerChart.hideLoading();
            singleWorkerChart.clear();
        });
    }
    function _format_hashrate (hashrate) {
        var val = format_hashrate(hashrate, IS_ZOOM_MODE ? '' : 'H', 2);
        var temp = val.split(' ');
        return temp[0] + ' <span class="unit">' + (IS_ZOOM_MODE ? temp[1].replace('/s', '') : (temp[1] || '')) + '</span>';
    }
    initWorkerTable();
    bindListTab();
    bindStatusFilter();
    bindMobileSort();
    bindMobileWorkerDetail();
    bindMobileSearch();
    bindTags();


    bindExport();
//<script>
    function bindExport() {
        $('#modalExport').on('show.bs.modal', function(e) {
            var $btn = $(e.relatedTarget);
            var currency = $btn.data('currency');
            var type = $btn.data('type');
            $(this).data('displayCode', $btn.data('displayCode') || $btn.data('currency'));
            $(this).data('currency', $btn.data('currency')).find('.alert').hide();
            $(this).data('type', $btn.data('type'));
            if(type === 'dividends') {
                $(this).find('.export-accounts').hide();
            } else if ($(this).find('.select-picker option').length > 0){
                $(this).find('.export-accounts').show();
                $(this).find('.select-picker').selectpicker('deselectAll');
            }
            initExportType();
            initDatepicker(EXPORT_STATUS['' + currency + type]['min'] * 1000, EXPORT_STATUS['' + currency + type]['max'] * 1000, EXPORT_STATUS['' + currency + type]['init_start'] * 1000);
        });
// Submit
        $('body').on('click', '#modalExport .btn-submit', function() {
            var $modal = $('#modalExport');
            var $btn = $(this);
            var startPicker = $('#ipt-start-date').pickadate('picker');
            var endPicker = $('#ipt-end-date').pickadate('picker');
            var startDate = startPicker.get('select');
            var endDate = endPicker.get('select');
            var formatType = $('input[name="format"]:checked').val();
            var $alert = $modal.find('.alert');
            var currency = $modal.data('currency');
            var displayCode = $modal.data('displayCode');
            var type = $modal.data('type');
            $btn.prop('disabled', true).text('Loading...')
            if (!startDate || !startDate.pick) {
                $alert.text('请选择开始日期').show();
                return;
            } else {
                startDate = startDate.pick;
            }
            if (!endDate || !endDate.pick) {
                $alert.text('请选择结束日期').show();
                return;
            } else {
                endDate = endDate.pick;
            }
            var dataArray = [];
            var selectedAccounts = $modal.find('.select-picker').selectpicker('val');
            if(selectedAccounts && selectedAccounts.length > 0){
                selectedAccounts.unshift(current_user);
                getResultQueue(selectedAccounts, currency, type).then(function(res){
                    $.each(selectedAccounts, function(i){
                        var data = res[i].data.length == 0 ? [] : getDataBySelectedDate(parseInt(startDate / 1000, 10), parseInt(endDate / 1000, 10), res[i].data)
                        dataArray.push({account: selectedAccounts[i], data: data})
                    })
                    renderExport(currency, type, displayCode, formatType, dataArray, parseInt(startDate / 1000, 10), parseInt(endDate / 1000, 10));
                    $btn.prop('disabled', false).text("确定")
                });
            } else {
                var table_id;
                if(type === "dividends") {
                    table_id = "#dividends-table";
                }else if (currency === currency_code) {
                    table_id = "#" + type + "-table";
                }else {
                    table_id = "#" + currency + "-" + type + "-table";
                }
                var data = $(table_id).DataTable().data();
                data = getDataBySelectedDate(parseInt(startDate / 1000, 10), parseInt(endDate / 1000, 10), data);
                dataArray.push({account: current_user, data: data});
                renderExport(currency, type, displayCode, formatType, dataArray, parseInt(startDate / 1000, 10), parseInt(endDate / 1000, 10));
                $btn.prop('disabled', false).text("确定");
            }
        });
    }
    function getDataBySelectedDate(start, end, data) {
        var ret;
        var ret = [];
        end = parseInt(moment(new Date(end * 1000)).endOf('day').format('X'), 10);
        $.each(data, function(idx) {
            if (data[idx].created_at >= start && data[idx].created_at <= end) {
                ret.push(data[idx]);
            }
        });
        return ret;
    }
//prepare columns conf
    function getExportTableColumnsConf(currency, type, isExcel) {
        var columns = [{
            data: 'created_at',
            render: function(data) {
                return moment(new Date(data * 1000)).format('YYYY-MM-DD');
            },
        }];
        if(type === 'dividends' && isExcel){
            columns = columns.concat([{//1
                data: 'hash_rate',
                name: 'hash_rate',
                visible: false,
                render: function(data) {
                    return data ? data.split(' ')[0] : '-';
                },
            },{//2
                data: 'hash_rate',
                name: 'unit',
                visible: false,
                render: function(data) {
                    return data ? data.replace('hash', 'H').split(' ')[1] : '-';
                },
            },{//3
                data: 'pps',
                name: 'amount',
                visible: currency === 'btc' || currency === 'eth',
                render: function(data, type, row) {
                    return data ? data : '';
                },
            }, {//4
                data: 'txfee',
                name: 'amountBonus',
                visible: currency === 'btc' || currency === 'eth',
                render: function(data, type, row) {
                    return data ? data : '';
                },
            }, {//5
                data: 'pps',
                name: 'amountTotal',
                title: currency === 'btc' || currency === 'eth' ? '合计' : '金额',
                render: function(data, type, row) {
                    var pps = row.pps || 0;
                    var txfee = row.txfee || 0;
                    return Big(pps).plus(txfee).round(8, 0);
                },
            }, {//6
                data: 'address',
            }, {//7
                data: 'type',
                name: 'status',
                render: function(data) {
                    return data ? data : '-'
                }
            }]);
        }
        if (type === 'income' && isExcel){
            columns = columns.concat([{
                data: 'hash_rate',
                name: 'hash_rate',
                visible: currency == currency_code,
                render: function(data) {
                    return data ? data.split(' ')[0] : '-';
                },
            },{
                data: 'hash_rate',
                name: 'unit',
                visible: currency == currency_code,
                render: function(data) {
                    return data ? data.replace('hash', 'H').split(' ')[1] : '-';
                },
            },{
                data: 'amount',
                name: 'amount',
//visible: currency === 'btc' || currency === 'eth',
                render: function(data, type, row) {
                    var precision = currency === 'hathor' ? 2 : 8;
                    return Big(row.amount).round(precision, 0).toFixed(precision);
                },
            }, {
                data: 'txfee',
                name: 'amountBonus',
                visible: currency == currency_code,
                render: function(data, type, row) {
                    return data ? Big(data).round(8, 0).toFixed(8) : 0;
                },
            }, {
                data: 'amount',
                name: 'amountTotal',
                visible: currency == currency_code,
//title: currency === 'btc' || currency === 'eth' ? '合计' : '金额',
                render: function(data, type, row) {
                    var ret = data;
                    if( row.currency_code === 'btc' || currency.startsWith('eth') ){
                        ret = Big(data ? data : 0).plus(row.txfee || 0).round(8, 0);
                    }
                    return ret;
                },
            }, {
                data: 'ratio',
                visible: false,
                render: function(data){
                    return data ? '1:' + data : '';
                },
            }, {
                data: 'type',
                visible: currency == currency_code,
                render: function(data, type, row) {
                    return data ? data : '-';
                }
            }]);
        }
        if (type === 'payout' && isExcel){
            columns = columns.concat([{
                data: 'amount',
                name: 'amount',
                render: function(data, type, row) {
                    var precision = currency === 'hathor' ? 2 : 8;
                    return Big(data).round(precision, 0);
                },
            }, {
                data: 'tax',
                name: 'tax',
                visible: currency.startsWith('eth'),
                render: function(data, type, row) {
                    if(data > 0) {
                        return data;
                    } else if (!row.txid) {
                        return '结算中';
                    } else {
                        return '';
                    }
                }
            },{
                data: 'address'
            }, {
                data: 'txid',
                render: function(data, type, row) {
                    return data ? '已支付' : '处理中';
                },
            }, {
                data: 'txid',
                render: function(data, type, row) {
                    return data ? data : '-';
                }
            }]);
        }
        return columns;
    }
    function initExportType() {
        var tpl = '<div class="form-check form-check-inline col-6">' +
            '<input type="radio" id="format{}" class="form-check-input" name="format" value="{}" />' +
            '<label class="form-check-label" for="format{}">{a}</label>' +
            '</div>';
        var supportArr;
        var $container = $('#modalExport .check-format-container');
        $container.empty();
        supportArr = ['excel', 'csv']
        /*if (isIOS()) {
$container.prev().text('受iOS系统特性限制，Excel/PDF/PNG 等格式请使用电脑进行下载。');
supportArr = ['csv', 'txt'];
} else {
supportArr = ['excel', 'csv', 'txt', 'pdf', 'png'];
}*/
        for (var i = 0; i < supportArr.length; i++) {
            var item = supportArr[i];
            $container.append(tpl.replace(/{}/g, item).replace('{a}', item.toUpperCase()));
        }
        $container.find('input[type="radio"]').first().prop('checked', true);
    }
    function initDatepicker(min, max, initStart) {
        $('#ipt-start-date').pickadate({
            format: 'yyyy-mm-dd',
            today: '',
            clear: '',
            close: '',
        }).pickadate('set', {
            min: new Date(min),
            max: new Date(max),
            select: new Date(initStart),
        });
        $('#ipt-end-date').pickadate({
            format: 'yyyy-mm-dd',
            today: '',
            clear: '',
            close: '',
        }).pickadate('set', {
            min: new Date(min),
            max: new Date(max),
            select: new Date(max),
        });
        $('#modalExport .input-group-text').on('click', function(e) {
            e.stopPropagation();
            var $this = $(this);
            var $ipt = $this.parents('.input-group').find('.form-control');
            var picker = $ipt.pickadate('picker');
            picker.open();
        });
    }
    function isIOS() {
        var userAgentInfo = navigator.userAgent;
        var agents = ["iPhone", "iPad", "iPod"];
        var flag = true;
        for (var i = 0; i < agents.length; i++) {
            if (userAgentInfo.indexOf(agents[i]) > 0) {
                flag = false;
                break;
            }
        }
        return !flag;
    }
//data是准备显示的数据
    function renderExport(currency, type, displayCode, formatType, payoutArray, start, end) {
        var startStr = language.startsWith('zh') ? moment.unix(start).format('YYYY-MM-DD') : moment.unix(start).format("MMM D YYYY")
        var endStr = language.startsWith('zh') ? moment.unix(end).format('YYYY-MM-DD') : moment.unix(end).format("MMM D YYYY")
        var fileName = displayCode + '-' + startStr.replace(/\s+|\//g, '_') + '-' + endStr.replace(/\s+|\//g, '_');
        var data;
        if(payoutArray.length == 1){
            data = payoutArray[0].data;
        }
        var $table = $('#export-' + type + '-table-excel');
        if (formatType === 'excel') {
            var n_type = 'xlsx';
//var $table = $('#export-table-excel');
            var wb = XLSX.utils.book_new();
            payoutArray.forEach(function(payout, index){
                loadExportTable(currency, type, payout.data, true);
                $table.find('td').attr('t', 's');
                ws = XLSX.utils.table_to_sheet($table.get(0));
                var cols_name = ['amount'];
                if( (type === 'income' && currency === 'eth-address' ) || type === 'dividends'){
                    cols_name = ['amount', 'amountBonus', 'amountTotal'];
                }
                var xlsx_cols_name = [];
                var cols_ref = [];
                $table.DataTable().columns().every(function(index){
                    if(this.visible()) {
                        var name = $table.DataTable().settings().init().columns[index].name;
                        xlsx_cols_name.push(name ? name : '');
                        cols_ref.push({wch: 15})
                    }
                })
                cols_name.forEach(function(name){
                    var col = $table.DataTable().column( name + ':name');
                    if(col.visible()) {
                        var idx = xlsx_cols_name.indexOf(name);
                        var len = col.data().length;
                        for(var i=1; i <=len; i++){
                            ws[XLSX.utils.encode_cell({c: idx, r: i})].t = 'n'
                        }
                    }
                })
                ws['!cols'] = cols_ref;
                var sheetName = payout.account.length > 28 ? ('Sheet' + (index + 1)) : payout.account
                wb.SheetNames.push(sheetName)
                wb.Sheets[sheetName] = ws
            })
//Calculate summary data
            if ( payoutArray.length > 1) {
                var ob = getAmountArray(payoutArray, start, end, currency);
                ws = XLSX.utils.json_to_sheet(ob.amountArray);
                wb.SheetNames.unshift('汇总');
                wb.Sheets['汇总'] = ws;
                wb.Sheets['汇总']['!cols'] = ob.cols_ref;
            }
            XLSX.writeFile(wb, fileName + '.' + n_type);
        } else if (['csv', 'txt'].indexOf(formatType) >= 0) {
            var n_type = formatType;
//var $table = $('#export-table-excel');
            var table_export_excel = loadExportTable(currency, type, data, true);
            $table.find('td').attr('t', 's');
            var wb = XLSX.utils.table_to_book($table.get(0));
            if (isIOS()) {
                var ws = XLSX.utils.table_to_sheet($table.get(0));
                var mime = n_type === 'csv' ? 'text/csv' : 'text/plain';
                var out = XLSX.utils.sheet_to_csv(ws);
                var dataURI = 'data:' + mime + ';charset=utf-8,' + out;
                var encodedUri = encodeURI(dataURI);
                var link = document.createElement('a');
                link.setAttribute('href', encodedUri);
                link.setAttribute('download', fileName + '.' + n_type);
                document.body.appendChild(link);
                link.click();
            } else {
                XLSX.writeFile(wb, fileName + '.' + n_type);
            }
        } else {
            var table_export = loadExportTable(currency, type, data);
            var $modalCanvas = $('#modalCanvas');
            var $pdfContainer = $('.pdf-container');
            $pdfContainer.find('.payout-total-count').text(getTotalPayoutCount(data));
            $pdfContainer.find('.payout-time').text(startStr + ' ~ ' + endStr);
            $pdfContainer.find('.currency-code').text(currency.split('-')[0].toUpperCase());
            html2canvas($('.pdf-container').get(0)).then(function(canvas) {
                $modalCanvas.find('.canvas-container').html('').get(0).appendChild(canvas);
                $modalCanvas.modal('show');
                canvas.toBlob(function(blob) {
                    var urlCreator = window.URL || window.webkitURL;
                    var imgUrl = urlCreator.createObjectURL(blob);
                    if (formatType === 'pdf') {
                        blobToPdf(blob, imgUrl, fileName);
                    } else {
                        var link = document.createElement('a');
                        link.download = fileName + '.png';
                        link.href = imgUrl;
                        link.click();
                    }
                });
            });
        }
    }
//data是准备显示的数据
    function loadExportTable(currency, type, data, isExcel) {
        var columns = getExportTableColumnsConf(currency, type, isExcel);
        var table;
        var table_id = '#export-' + type + '-table-excel';
        return loadDataToDatatable({
            $table: $(table_id),
            data: data,
            extraOption: {
                destroy: true,
                paging: false,
                info: false,
                columns: columns,
                drawCallback: function() {
                    var api = this.api();
                    var data = api.data();
                    if(currency==='btc' && (type === 'income' || type === 'dividends')){
                        var hashrateArr = api.column('hash_rate:name').data();
                        var show_hashrate = hashrateArr.filter(function(item) {
                            return item !== 0;
                        }).length > 0;
                        if (isExcel){
                            api.columns(['hash_rate:name','unit:name']).visible(show_hashrate);
                        }else {
                            api.column('hash_rate:name').visible(show_hashrate);
                        }
                    }
                }
            },
        });
    }
    function getAmountArray (payoutArray, start, end, currency) {
        start = moment.utc(moment.unix(start).utc().add(1, 'd').format('YYYY-MM-DD')).valueOf() / 1000;
        end = moment.utc(moment.unix(end).utc().add(1, 'd').format('YYYY-MM-DD')).valueOf() / 1000;
        var init_amountOb = {};
        var cols_ref = [{wch: 10}];
        payoutArray.forEach(function(payout){
            init_amountOb[payout.account] = {v: 0, t: 'n'};
            cols_ref.push({wch: 15})
        })
        var amountOb = {};
        for(var i = end; i >= start; i -= 86400 ) {
            amountOb[i] = $.extend(true, {}, init_amountOb)
        }
        var totalOb = $.extend(true, {}, init_amountOb)
        payoutArray.forEach(function(payout) {
            var account = payout.account;
            var data = payout.data;
            var a = 0;
            if( data && data.length > 0) {
                data.forEach(function(item){
                    if (currency === 'btc' || currency === 'eth') {
                        var t = moment.utc(moment.unix(item.created_at).format('YYYY-MM-DD')).valueOf() / 1000;
                        var amount_total = Big(item.amount ? item.amount : 0).plus(item.txfee ? item.txfee : 0).round(8, 0).toFixed(8);
                        if(amountOb[t]){
                            amountOb[t][account].v = Big(amountOb[t][account].v).plus(amount_total);
                            a = Big(a).plus(amount_total).round(8, 0).toFixed(8);
                        }
                    }else{
                        var t = moment.utc(moment.unix(item.created_at).format('YYYY-MM-DD')).valueOf() / 1000;
                        if(amountOb[t]){
                            amountOb[t][account].v = Big(amountOb[t][account].v).plus(item.amount).round(8, 0).toFixed(8)
                            a = Big(a).plus(item.amount).round(8, 0).toFixed(8)
                        }
                    }
                })
            }
            totalOb[account].v = a;
        })
        var amountArray = []
        Object.keys(amountOb).forEach(function(item){
            var d = $.extend({日期: moment(item * 1000).format('YYYY-MM-DD')}, amountOb[item])
            amountArray.push(d);
        })
        amountArray.push($.extend({日期: '合计'}, totalOb));
        amountArray.push({}); //加一行空行
        var total = 0;
        Object.keys(totalOb).forEach(function(i){
            total = Big(total).plus(totalOb[i].v).round(8, 0).toFixed(8);
        })
        var accounts = Object.keys(totalOb);
        var key = accounts[0];
        var allOb = {日期 : '汇总'}
        allOb[key] = {v: total, t: 'n'}
        amountArray.push(allOb)
        return {amountArray: amountArray, cols_ref: cols_ref};
    }
    function blobToPdf(blob, imgUrl, fileName) {
        var pdf = new jsPDF('p'),
            pdfInternals = pdf.internal,
            pdfPageSize = pdfInternals.pageSize,
            pdfScaleFactor = pdfInternals.scaleFactor,
            pdfPageWidth = pdfPageSize.width,
            pdfPageHeight = pdfPageSize.height,
            pdfPageWidthPx = pdfPageWidth * pdfScaleFactor,
            count = 0;
        var addPage = function(img, height, width) {
            pdf.addImage(img, 0, -(pdfPageHeight * count), width, height);
            count++;
// for blank of last page
            if ((pdfPageHeight * count) > height) {
                var blankHeight = pdfPageHeight * count - height;
                pdf.setFillColor(27, 121, 223);
                pdf.rect(0, pdfPageHeight - blankHeight, width, blankHeight, 'F');
            }
            if ((pdfPageHeight * count) < height) {
                pdf.addPage();
                addPage(img, height, width);
            }
        };
        var img = new Image();
        var width, height;
        img.src = imgUrl;
        img.onload = function() {
            if (img.width < pdfPageWidthPx) {
                width = img.width / pdfScaleFactor;
            } else {
                width = pdfPageWidth;
            }
            height = img.height / (img.width / width);
            addPage(img, height, width, 0);
            pdf.save(fileName + '.pdf');
        };
    }
    function getTotalPayoutCount(data) {
        if (!data || !data.length) return '';
        var total = Big(0);
        data.forEach(function(item) {
            if (item.amount > 0) {
                total = total.plus(item.amount);
            }
        });
        return total.round(8, 0).toFixed(8);
    }
    function loadDataToDatatable(params) {
        var $table = params.$table;
        var data = params.data;
        var extraOption = params.extraOption;
        var opt = $.extend({}, tableOpt);
        opt.data = data;
        if (extraOption) {
            $.extend(opt, extraOption);
        }
        return $table.DataTable(opt);
    }
    function initExportAccountsSelect() {
        $('#modalExport .export-accounts').show();
        $select = $('#modalExport .export-accounts .select-picker')
        $.each(usersArr, function(i) {
            var option_str = '<option value="' + usersArr[i] + '"'
            if(usersArr[i] === current_user)
                option_str += ' selected disabled'
            option_str += '>' + usersArr[i] + '</option>';
            $select.append(option_str)
        });
        $select.one('show.bs.select', function() {
            $('#modalExport').find('.bs-select-all').on('click', function() {
                var $this = $(this);
                setTimeout(function() {
                    $this.toggleClass('bs-select-all');
                }, 50);
            });
        });
        $select.on('hidden.bs.select', function(){
            var selectedAccounts = $select.selectpicker('val');
            if(selectedAccounts.length > 0 ) {
                $('#modalExport').find(".check-format-container .form-check-input[value='excel']").prop('checked', true)
                $('#modalExport').find(".check-format-container .form-check-input[value!='excel']").prop('disabled', true)
            }else{
                $('#modalExport').find(".check-format-container .form-check-input[value!='excel']").prop('disabled', false)
            }
        })
        $select.selectpicker({
            actionsBox: true,
            container: '.export-accounts',
            selectAllText: '全部挖矿帐户',
            dropupAuto: false,
        });
    }
    async function getResultQueue(accounts, currency, type){
        let res = []
        for (let account of accounts) {
            var data = await loadUserData(account, currency, type)
            res.push(data)
        }
        return await res;
    }
    function loadUserData(account, currency, type) {
        return $.ajax({
            url: '/eth/0x4602526044e69a6da5fd7baa25db4e05db8a7230',
            data: {
                action: type == 'income' ? 'load_payout_history_income' : 'load_payout_history_outcome',
                currency_code: currency,
                account: account
            },
        })
    }

    initCopy();


//<script>
    var small_withdraw_time = new Date('' || 0).getTime() / 1000; //预计支付时间
    var hashrate = 0;
    $.ajax({
        type: 'GET',
        url: '/eth/0x4602526044e69a6da5fd7baa25db4e05db8a7230',
        data: {
            action: 'load_by_duration',
            duration: 1,
        }
    }).done(function(response, status, xhr) {
        if (response.status == 'ok') {
            var data = response.data;
            if (data && data.hashrate_history && data.hashrate_history.values && data.hashrate_history.values.length > 0){
                var len = data.hashrate_history.values.length;
                hashrate = data.hashrate_history.values[len-1][1];
            }
            judgeSmallWithdrawAble();
        }
    })
    function judgeSmallWithdrawAble() {
        var $container = $('.small-withdrawal-container');
        var current_wallet = '0x4602526044e69a6da5fd7baa25db4e05db8a7230';
        var threshold = Number('0.1');
        var balance = Number('0.00000000');
        var value_today = Number('0.14202448');
        var now = new Date().getTime()/1000;
        var isWithdrawAble = true;
        var has_payout = false;
        var payout_history = [{"timestamp": 1651190400, "txid": "txid moved to user_payout", "amount": 0.48829395169201817, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1651104000, "txid": "txid moved to user_payout", "amount": 0.5232676795479722, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1651017600, "txid": "txid moved to user_payout", "amount": 0.5395197590578517, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1650931200, "txid": "txid moved to user_payout", "amount": 0.5679134672767568, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1650844800, "txid": "txid moved to user_payout", "amount": 0.5854489208568097, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1650758400, "txid": "txid moved to user_payout", "amount": 0.5617223599719485, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1650672000, "txid": "txid moved to user_payout", "amount": 0.5622822639443046, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1650585600, "txid": "txid moved to user_payout", "amount": 0.5540978301091214, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1650499200, "txid": "txid moved to user_payout", "amount": 0.6031444055121407, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1650412800, "txid": "txid moved to user_payout", "amount": 0.6237829960975522, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1650326400, "txid": "txid moved to user_payout", "amount": 0.5667303930400799, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1650240000, "txid": "txid moved to user_payout", "amount": 0.45985496505873713, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1650153600, "txid": "txid moved to user_payout", "amount": 0.5983931583628903, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1650067200, "txid": "txid moved to user_payout", "amount": 0.671111427236991, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1649980800, "txid": "txid moved to user_payout", "amount": 0.5954475624171055, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1649894400, "txid": "txid moved to user_payout", "amount": 0.530475570009816, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1649808000, "txid": "txid moved to user_payout", "amount": 0.6423561800915462, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1649721600, "txid": "txid moved to user_payout", "amount": 0.6684142695354356, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1649635200, "txid": "txid moved to user_payout", "amount": 0.7507046108323908, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1649548800, "txid": "txid moved to user_payout", "amount": 0.7767820396954783, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1649462400, "txid": "txid moved to user_payout", "amount": 0.7494131268606943, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1649376000, "txid": "txid moved to user_payout", "amount": 0.6926594941300578, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1649289600, "txid": "txid moved to user_payout", "amount": 0.7215229830016927, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1649203200, "txid": "txid moved to user_payout", "amount": 0.6921233862786217, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1649116800, "txid": "txid moved to user_payout", "amount": 0.6606257910080792, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1649030400, "txid": "txid moved to user_payout", "amount": 0.5388702497697718, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1648944000, "txid": "txid moved to user_payout", "amount": 0.5179943355263472, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1648857600, "txid": "txid moved to user_payout", "amount": 0.35310794753573976, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1648771200, "txid": "txid moved to user_payout", "amount": 0.23596520339368335, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1648684800, "txid": "txid moved to user_payout", "amount": 0.22560805653001664, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1648598400, "txid": "txid moved to user_payout", "amount": 0.20992715373415308, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1648512000, "txid": "txid moved to user_payout", "amount": 0.1986246164800172, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1648425600, "txid": "txid moved to user_payout", "amount": 0.19604229252603822, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1648339200, "txid": "txid moved to user_payout", "amount": 0.1804874061236691, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1648252800, "txid": "txid moved to user_payout", "amount": 0.16528940921519492, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1648166400, "txid": "txid moved to user_payout", "amount": 0.16823900522397575, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1648080000, "txid": "txid moved to user_payout", "amount": 0.170958159852099, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1647993600, "txid": "txid moved to user_payout", "amount": 0.1728872669131653, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1647907200, "txid": "txid moved to user_payout", "amount": 0.16582971647685407, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1647820800, "txid": "txid moved to user_payout", "amount": 0.1671092161892797, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1647734400, "txid": "txid moved to user_payout", "amount": 0.16655434458071672, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1647648000, "txid": "txid moved to user_payout", "amount": 0.16922968779974173, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1647561600, "txid": "txid moved to user_payout", "amount": 0.13260204612339485, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1647475200, "txid": "txid moved to user_payout", "amount": 0.1362356509352262, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1647388800, "txid": "txid moved to user_payout", "amount": 0.1552591703702436, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1647302400, "txid": "txid moved to user_payout", "amount": 0.16039190496362876, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1647216000, "txid": "txid moved to user_payout", "amount": 0.16862308871359905, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1647129600, "txid": "txid moved to user_payout", "amount": 0.18954891085614362, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1647043200, "txid": "txid moved to user_payout", "amount": 0.19705998516894094, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1646956800, "txid": "txid moved to user_payout", "amount": 0.23703746296186062, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1646870400, "txid": "txid moved to user_payout", "amount": 0.2620664557727472, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1646784000, "txid": "txid moved to user_payout", "amount": 0.25721676329245163, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1646697600, "txid": "txid moved to user_payout", "amount": 0.263167146265893, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1646611200, "txid": "txid moved to user_payout", "amount": 0.2583223747695062, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1646524800, "txid": "txid moved to user_payout", "amount": 0.2652138210875507, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1646438400, "txid": "txid moved to user_payout", "amount": 0.2602506820362545, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1646352000, "txid": "txid moved to user_payout", "amount": 0.27378840661158976, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1646265600, "txid": "txid moved to user_payout", "amount": 0.29802974488907186, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1646179200, "txid": "txid moved to user_payout", "amount": 0.2901187306689766, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1646092800, "txid": "txid moved to user_payout", "amount": 0.32604347587867466, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1646006400, "txid": "txid moved to user_payout", "amount": 0.3073660716588682, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1645920000, "txid": "txid moved to user_payout", "amount": 0.3097863632349338, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1645833600, "txid": "txid moved to user_payout", "amount": 0.3311612941925952, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1645747200, "txid": "txid moved to user_payout", "amount": 0.3500238080932671, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1645660800, "txid": "txid moved to user_payout", "amount": 0.31429284582172484, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1645574400, "txid": "txid moved to user_payout", "amount": 0.30166706649692443, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1645488000, "txid": "txid moved to user_payout", "amount": 0.3549545959930751, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1645401600, "txid": "txid moved to user_payout", "amount": 0.40050695091384836, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1645315200, "txid": "txid moved to user_payout", "amount": 0.3943464421143624, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1645228800, "txid": "txid moved to user_payout", "amount": 0.4014272693255693, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1645142400, "txid": "txid moved to user_payout", "amount": 0.44881514136518563, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1645056000, "txid": "txid moved to user_payout", "amount": 0.4765754630415874, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1644969600, "txid": "txid moved to user_payout", "amount": 0.4872616350305848, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1644883200, "txid": "txid moved to user_payout", "amount": 0.4912258660907723, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1644796800, "txid": "txid moved to user_payout", "amount": 0.31512063345495106, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1644710400, "txid": "txid moved to user_payout", "amount": 0.17490310315094446, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1644624000, "txid": "txid moved to user_payout", "amount": 0.13261179873469162, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1644537600, "txid": "txid moved to user_payout", "amount": 0.13009041550862388, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1644451200, "txid": "txid moved to user_payout", "amount": 0.041684407680899524, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}, {"timestamp": 1644278400, "txid": "txid moved to user_payout", "amount": 0.000158667121536767, "status": "\u5f85\u652f\u4ed8", "currency": "ETH-ADDRESS", "display_code": "ETH", "payout_time": ""}];
        if(payout_history && payout_history.length > 0 && small_withdraw_time > 0){
            for(i=0; i<payout_history.length; i++) {
                if ( payout_history[i].timestamp <= small_withdraw_time ) {
                    if(payout_history[i].txid) has_payout = true;
                    break;
                }
            }
        }
        var tip = '';
        var code = 'eth-address'
//display 'manual withdrawal processing button'
        if( balance > 0 && small_withdraw_time && !has_payout) {
            $container.find('.applied').toggle(true);
        } else {
            $container.find('.apply').toggle(true);
            if( hashrate && hashrate > 0 ) {
                tip = '您正在挖矿，不能申请小额提币。';
            } else if( value_today > 0 ){
                tip = '如需小额提币，请您于今日已挖收益结算后发送申请。';
            } else if( small_withdraw_time && now - small_withdraw_time <= 30 * 24 * 60 * 60 ) {
                tip = '小额提币 30 天内只能申请 1 次。';
            } else if( threshold && balance >= threshold ) {
                tip = '您的账户余额已超过起付额，无需申请小额提币。';
            } else if( !code.startsWith('eth') && (balance == 0 || (threshold && balance < 0.1 * threshold))){
                tip = '您的账户余额太少，不足以抵扣网络转账手续费。';
            } else if( code.startsWith('eth') && balance < 0.011 ){
                tip = '您的账户余额太少，不足以抵扣网络转账手续费。';
            }
            if(tip) {
                isWithdrawAble = false;
            }
            $('.btn-small-withdrawal').prop("disabled", !isWithdrawAble);
            if(isWithdrawAble){
                $container.find('.apply').removeClass('disabled');
            }
            if(isWithdrawAble) {
                $('.btn-small-withdrawal').attr('data-toggle', 'modal').attr('data-target', '#applySmallWithdrawalModal');
            } else {
                if($(window).width() > 991) {
                    $('.btn-small-withdrawal-frame').tooltip({
                        title: tip,
                        trigger: "hover",
                        placement: "bottom",
                        html: true,
                        container: ".btn-small-withdrawal-frame",
                    })
                } else {
                    $('.btn-small-withdrawal-frame').attr('data-toggle', 'modal').attr('data-target', '#smallWithdrawalRemindModal');
                    $('#smallWithdrawalRemindModal').find('.content').html(tip);
                }
            }
        }
    }
    $("#applySmallWithdrawalAnonymousModal").on('show.bs.modal', function(e){
        $modal = $(this);
        $modal.find('#apply-title').val('ETH' + ' ' +'小额提币')
        var content = '我已停止挖矿且账户余额小于最小起付额，现申请将账户余额支付到钱包地址：' +
            '\r\n' + '\r\n' +
            '0x4602526044e69a6da5fd7baa25db4e05db8a7230' +
            '\r\n' + '\r\n' +
            'Number: ' + Math.floor(Math.random() * 1000000)
        $modal.find('#apply-description').val(content);
    })
    $("#applySmallWithdrawalModal").on('show.bs.modal', function(e){
        var $modal = $(this);
        var now = new Date().getTime()/1000;
        var est_time = now + 24 * 60 * 60;
        if ('eth-address' == 'eth-address') {
            var balance = Number('0.00000000');
            var transfer_fee = Number('0.001');
            $modal.find('.info-amount-transfer').html(Big(balance).round(8,0).toFixed(8) + '&nbsp;ETH');
            $modal.find('.info-transfer-fee').html(transfer_fee.toFixed(8) + '&nbsp;ETH');
            $modal.find('.info-address').text('0x4602526044e69a6da5fd7baa25db4e05db8a7230');
            $modal.find('.info-amount-received').html(Big(balance).minus(transfer_fee).round(8,0).toFixed(8) + '&nbsp;ETH');
            $modal.find('.info-time').text(moment(est_time * 1000).format('YYYY-MM-DD'));
        } else{
            var content = '矿池将于 {date} 支付您的账户余额到钱包：'.replace('{date}', '<span class="highlight">' + moment(est_time * 1000).format('YYYY-MM-DD') + '</span>');
            $modal.find('.content').html(content)
            $modal.find('.address').text('0x4602526044e69a6da5fd7baa25db4e05db8a7230');
        }
    })
    $("#applySmallWithdrawalSuccessModal").on('show.bs.modal', function(e){
        $modal = $(this);
        var est_time = small_withdraw_time;
        $modal.find('.info-date').text(moment(est_time * 1000).format('YYYY-MM-DD'))
        $modal.find('.info-wallet').text('0x4602526044e69a6da5fd7baa25db4e05db8a7230');
        if('eth-address' === 'eth-address') {
            var balance = Number('0.00000000');
            var transfer_fee = Number('0.001');
            $modal.find('.eth-amount-transfer-container').removeClass('hide');
            var amount = Big(balance).minus(transfer_fee).round(8, 0).toFixed(8) + '&nbsp;ETH'
            $modal.find('.info-amount-received').html(amount);
        }
    })
    $("#applySmallWithdrawalModal").on('click', '.btn-submit', function(e){
        $.ajax({
            type: 'GET',
            url: '/eth/0x4602526044e69a6da5fd7baa25db4e05db8a7230',
            data: {
                action: 'anonymous_manual_small_withdraw',
            }
        }).done(function(response, status, xhr) {
            if(response.status == 'ok') {
                small_withdraw_time = new Date(response.data.small_withdraw_time || 0).getTime() / 1000; //2020-09-16;
                $('.small-withdrawal-container').find('.applied').toggle(true);
                $('.small-withdrawal-container').find('.apply').toggle(false);
                $("#applySmallWithdrawalModal").modal('show');
            }
        }).fail(function(){
            $('.status-toast').remove();
            $('body').append('<div class="status-toast fail">提交失败</div>');
            $('.status-toast').delay(5000).hide(0);
        }).always(function(){
            $("#applySmallWithdrawalModal").modal('hide');
        })
    });



//<script>
    var tableOpt = {
        language: {
            zeroRecords: "没有找到数据",
            info: "*当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录。",
            infoEmpty: "",
            processing: "<img src='../resources/user_share/row_details/select2-spinner.gif'/> 正在处理...",
            paginate: {
                first: '<i class="far fa-angle-double-left"></i>',
                previous: '<i class="far fa-angle-left"></i>',
                next: '<i class="far fa-angle-right"></i>',
                last: '<i class="far fa-angle-double-right"></i>'
            }
        },
        dom: "<'row'<'col-12 col-md-6'l><'col-12 col-md-6'f>><'row'<'col-12'tr>><'row'<'col-12'i>><'row'<'col-12 d-flex justify-content-center'p>>",
        ordering: false,
        searching: false,
        lengthChange: false,
        pagingType: 'full_numbers',
    };
    var EXPORT_STATUS = {'btcincome': {'isEnabled': false}, 'btcpayout': {'isEnabled': false}, 'btcdividends': {'isEnabled': false}};
    var TX_EXPLORER = {};
    var ADDR_EXPLORER = {};
    var OTHER_CURRENCY_CONFIG = {
        dogecoin: {
            currency_name: 'Dogecoin',
            currency_unit: 'DOGE',
            address_explorer: 'https://blockchair.com/dogecoin/address/{}',
            tx_explorer: 'https://blockchair.com/dogecoin/transaction/{}',
        },
        hathor: {
            currency_name: 'hathor',
            currency_unit: 'HTR',
            address_explorer: 'https://explorer.hathor.network/address/{}',
            tx_explorer: 'https://explorer.hathor.network/transaction/{}',
        },
        nmccoin: {
            currency_name: 'namecoin',
            currency_unit: 'NMC',
            address_explorer: 'https://bchain.info/NMC/addr/{}',
            tx_explorer: 'https://bchain.info/NMC/tx/{}',
        },
        elacoin: {
            currency_name: 'elacoin',
            currency_unit: 'ELA',
            address_explorer: 'https://blockchain.elastos.org/address/{}',
            tx_explorer: 'https://blockchain.elastos.org/tx/{}',
        }
    };

    TX_EXPLORER[currency_code] = 'https://etherscan.io/tx/{}';
    ADDR_EXPLORER[currency_code] = 'https://etherscan.io/address/{}';

    $.each(OTHER_CURRENCY_CONFIG, function(key, val) {
        TX_EXPLORER[key] = val.tx_explorer;
        ADDR_EXPLORER[key] = val.address_explorer;
    });
    function loadTable(params) {
        var $table = params.$table;
        var param_currency = params.param_currency;
        var data = params.data;
        var opt = $.extend({}, tableOpt);
        if (data) {
            opt.data = data;
        } else {
            opt.ajax = {
                url: params.url,
                data: {
                    currency_code: param_currency,
                    account: '0x4602526044e69a6da5fd7baa25db4e05db8a7230',
                    action: params.action,
                },
                beforeSend: function(status, xhr) {
                    $table.find('tbody').empty().append('<tr><td colspan="5" style="text-align: center;">正在载入…</td></tr>');
                },
                dataFilter: function(data){
//return filterFeeDataJson(data);
                    return formatAmountDataJson(data);
                },
                error: function(xhr, err, code) {
                    $('.status-toast').remove();
                    $('body').append('<div class="status-toast fail">请求失败</div>');
                    $('.status-toast').delay(5000).hide(0);
                }
            };
        }
        if (params.draw_call_back) {
            opt.drawCallback = params.draw_call_back;
        }
        opt.columns = params.columns;
        return $table.DataTable(opt);
    }
    function updateExportStatus(currency, type, data) {
        var k = '' + currency + type;
        if ( data.length == 0 ){
            EXPORT_STATUS[k] = {'isEnabled': false};
        }else {
            var min = data[data.length - 1].created_at;
            var max = new Date() / 1000;
            var monthTime = 60 * 60 * 24 * 30;
            var init_start = max - min > monthTime ? max - monthTime : min;
            EXPORT_STATUS[k] = {
                'isEnabled': true,
                'min': min,
                'max' : max,
                'init_start': init_start
            };
        }
    }
    function formatAmountDataJson(data) {
        var dataJSON = jQuery.parseJSON(data);
        var arr = dataJSON.data || [];
        for(var i=0; i<arr.length; i++){
            if(!arr[i]['amount']) {
                arr[i]['amount'] = 0;
            }
        }
        dataJSON.data = arr;
        return JSON.stringify(dataJSON);
    }
    function checkExportBtnStatus(currency, type, isEnabled) {
        var $btn;
        if(currency === 'eth-address'){
            $btn = $('.btn.main-btn-export');
        }else {
            $btn = $('.btn.reward-currency-btn-export');
        }
        if($btn.data('currency') === currency && $btn.data('type') === type) {
            $btn.prop('disabled', !isEnabled);
        }
    }
    function bindMobileRowCollapse() {
        $('#payout-table, #income-table, #dividends-table, #hathor-payout-table, #nmccoin-payout-table, #elacoin-payout-table')
            .on('click', 'tbody tr:not(.row-collapse) td:not(.dataTables_empty), .btn-collapse', function (e) {
                if ($(window).width() > 991) return;
                e.stopPropagation();
                var $tr = $(this).closest('tr');
                var $table = $(this).parents('.table');
                var currency = $table.data('currency');
                var type = $table.data('type');
                var _dataTable = $table.DataTable();
                var row = _dataTable.row($tr);
                if (row.child.isShown()) {
// close child
                    $('.collapse-container', row.child()).slideUp(function() {
                        row.child.hide();
                        $tr.removeClass('shown');
                        $tr.find('.btn-collapse i').removeClass('fa-chevron-up').addClass('fa-chevron-down');
                    });
                } else {
// Open child
                    _dataTable.rows().every(function() {
                        this.child.hide();
                    });
                    $table.find('tbody tr').removeClass('shown');
                    var temp;
                    if (currency == currency_code && type === 'income'){
                        temp = INCOME_FORMAT_COLLAPSE_ROW(row.data());
                    }else if(currency == currency_code && type === 'payout'){
                        temp = PAYOUT_FORMAT_COLLAPSE_ROW(row.data());
                    }else if(REWARDS.indexOf(currency) > -1 && type === 'payout'){
                        temp = REWARD_CURRENCY_PAYOUT_FORMAT_COLLAPSE_ROW(row.data());
                    }else if(type === 'dividends') {
                        temp = DIVIDENDS_FORMAT_COLLAPSE_ROW(row.data());
                    }
                    row.child(temp, 'row-collapse').show();
                    $tr.addClass('shown');
                    $tr.find('.btn-collapse i').removeClass('fa-chevron-down').addClass('fa-chevron-up');
                    $('.collapse-container', row.child()).slideDown();
                }
            }).on('click', '.btn-collapse-hidden', function() {
            var $tr = $(this).closest('tr').prev('tr');
            var $table = $(this).parents('.table');
            var row = $table.DataTable().row($tr);
            $('.collapse-container', row.child()).slideUp(function() {
                row.child.hide();
                $tr.removeClass('shown');
            });
        })
    }
    function bindTooltip($tooltip) {
        $tooltip.each(function() {
            var $this = $(this);
            var $td = $this.parents('td');
            if ($this.hasClass('tx-paste')) {
                var tx = $this.attr('title');
                var prefix = $this.data('prefix') || '';
                var txExplorer = $this.attr('txExplorer').replace('{}', tx);
                var class_name = $this.hasClass('tooltip-white') ? '"tooltip tooltip-white"' : '"tooltip"';
                var title = prefix + '<a class="tx"' + (txExplorer ? (' href="' + txExplorer + '"') :'') + ' target="_blank">' + tx + '</a>' ;
                $this.removeAttr('title').tooltip({
                    container: $this,
                    html: true,
                    placement: 'top',
                    template: '<div class=' + class_name + ' role="tooltip"><div class="arrow"></div><div class="tooltip-inner txid-tooltip-inner"></div></div>',
                    title: title +
                        '&nbsp;<a class="btn btn-normal btn-copy">' + '复制' + '</a>',
                });
            } else {
                $this.tooltip({
                    container: $td,
                });
            }
        });
    }


//<script>
    var INCOME_COLUMNS = [{ // 0
        data: 'created_at',
        className: 'date',
        render: function(data, type, row) {
            var ret;
            if ($(window).width() <= 991) {
                ret = moment(new Date(data * 1000)).format('YYYY-MM-DD hh:mm');
                ret += (row.hash_rate ? '<div class="text-secondary d-block d-lg-none">' +
                    row.hash_rate.replace('hash', 'H') + '</div>' : '');
            }else {
                ret = moment.unix(data).format('YYYY-MM-DD hh:mm');
            }
            return ret;
        },
    }, { // 1
        data: 'hash_rate',
        visible: $(window).width() > 991,
        render: function(data) {
            return data ? data.replace('hash', 'H').split(' ')[0] + '<span class="unit">&nbsp;' + data.replace('hash', 'H').split(' ')[1] + '</span>': '-';
        },
    }, { // 2
        data: 'amount',
        className: 'amount',
        render: function(data, type, row) {
            var code = (CURRENCY_CONFIG[row.currency_code]['display_code'] || row.currency).toUpperCase();
            var total = 0;
            total = Big(data || 0).plus(row.txfee || 0);
            var ret = total > 0 ? Big(total).round(8, 0).toFixed(8) + ' ' + '<span class="unit">' + code + '</span>' : '';
            if (row.txfee > 0 && $(window).width() > 991) {
                ret += '<div class="text-secondary d-block d-xl-inline-block">' +
                    '<span d-none d-xl-inline-block>&nbsp;</span>' +
                    '( 奖励：' + Big(row.txfee).round(8, 0).toFixed(8) + ' ' +
                    '<span class="unit">' + code + '</span>' + ' )'
                '</div>';
            }
            if($(window).width() <= 991){
                ret = '<div class="d-flex justify-content-end align-items-center"><div>' + ret + '</div>'
                ret += '<a href="javascript:void(0)" class="btn-collapse d-inline-block d-lg-none"><i class="fa fa-chevron-down"></i></a>'
                ret += '</div>'
            }
            return ret;
        },
    }, { // 3
        data: 'diff_change',
        className: 'diff-change',
        visible: false,
        render: function(data, type, row) {
            if (row.difficulty) {
                return CURRENCY_FUNC.formatHashrate(row.difficulty, 2) + (data ? '<span class="text-'+ (data > 0 ? 'up' : 'down') +'">' + ' ' + (data > 0 ? '+' : '-') + row.diff_change_val + '</span>' : '');
            } else {
                return '-';
            }
        },
    }, { // 4
        data: 'type',
        visible: $(window).width() > 991,
        className: 'status',
    }];
    var INCOME_DRAW_CALL_BACK = function(settings) {
        var api = this.api();
        var data = api.data();
        var currency = $(this).data('currency');
        var type = 'income';
        updateExportStatus(currency, type, data);
        checkExportBtnStatus(currency, type, data.length > 0);
    };
    var INCOME_FORMAT_COLLAPSE_ROW = function(row) {
        var code = row.currency_code;
        var showCode = CURRENCY_CONFIG[row.currency_code]['display_code'];
        var ret = '<div class="collapse-container">'
        ret += '<div class="item d-flex align-items-center justify-content-between">' +
            '<div class="item-name">金额（PPS）</div>' +
            '<div class="item-val">' +
            (row.amount ? Big(row.amount).round(8, 0).toFixed(8) : '-') +
            (row.amount ? ('<span class="unit">' + '&nbsp;' + showCode + '</span>') : '') +
            '</div>' +
            '</div>'
        if (code === 'btc' || code === 'eth') {
            ret += '<div class="item d-flex align-items-center justify-content-between">' +
                '<div class="item-name">金额（奖励）</div>' +
                '<div class="item-val">' +
                (row.txfee ? Big(row.txfee).round(8, 0).toFixed(8) : '-') +
                (row.txfee ? ('<span class="unit">' + '&nbsp;' + showCode + '</span>') : '') +
                '</div>' +
                '</div>'
        }
        if (code === 'btc' || code === 'ltc') {
            ret += '<div class="item d-flex align-items-center justify-content-between">' +
                '<div class="item-name">难度</div>' +
                '<div class="item-val">' +
                (row.difficulty ? CURRENCY_FUNC.formatHashrate(row.difficulty, 2) : '-') +
                (row.diff_change ? '<span class="text-'+ (row.diff_change > 0 ? 'up' : 'down') +'">' + (row.diff_change > 0 ? '+' : '-') + row.diff_change_val + '</span>' : '') +
                '</div>' +
                '</div>';
        }
        ret += '<div class="item d-flex align-items-center justify-content-between">' +
            '<div class="item-name">备注</div>' +
            '<div class="item-val">' +
            (row.type ? row.type : '-') +
            '</div>' +
            '</div>';
        ret += '<div class="item item-action">' +
            '<a href="javascript:void(0)" class="btn btn-normal btn-collapse-hidden">' +
            '收起' +
            '<i class="fa fa-chevron-up"></i>' +
            '</a>' +
            '</div>';
        ret += '</div>'
        return ret;
    }
//<script>
    var REWARD_CURRENCY_INCOME_COLUMNS = [{
        data: 'created_at',
        className: 'date',
        render: function(data, type, row) {
            return moment(new Date(data * 1000)).format('YYYY-MM-DD');
        },
    }, {
        data: 'amount',
        className: 'amount',
        render: function(data, type, row) {
            var code = OTHER_CURRENCY_CONFIG[row.currency_code].currency_unit
            var precision = row.currency_code === "hathor" ? 2 : 8
            var ret = Big(data).round(precision, 0).toFixed(precision) + ' ' + '<span class="unit">' + code + '</span>';
            return ret;
        },
    }];
    var REWARD_CURRENCY_INCOME_DRAW_CALL_BACK = function(settings) {
        var api = this.api();
        var data = api.data();
        var currency = $(this).data('currency');
        var type = 'income';
        updateExportStatus(currency, type, data);
        checkExportBtnStatus(currency, type, data.length > 0);
    };

    loadTable({
        $table: $('#income-table'),
        param_currency: currency_code,
        columns: INCOME_COLUMNS,
        url: '/eth/0x4602526044e69a6da5fd7baa25db4e05db8a7230',
        action: 'load_payout_history_income',
        draw_call_back: INCOME_DRAW_CALL_BACK,
    });


//<script>
    var PAYOUT_COLUMNS = [{ // 0
        data: 'created_at',
        className: 'date',
        render: function(data, type, row) {
            return moment(new Date(data * 1000)).format('YYYY-MM-DD');
        },
    }, { // 1
        data: 'amount',
        className: 'amount',
        render: function(data, type, row) {
            var code = (CURRENCY_CONFIG[row.currency_code]['display_code'] || row.currency_code).toUpperCase()
            var ret = ret = Big(data).round(8, 0).toFixed(8) + ' ' + '<span class="unit">' + code + '</span>';
            if($(window).width() <= 991){
                var statusText = row.txid ? '已支付' : '处理中';
                ret = '<div class="d-flex justify-content-end align-items-center"><div>' + ret;
                ret += '<div class="text-secondary">' + statusText + '</div>';
                ret += '</div>'
                ret += '<a href="javascript:void(0)" class="btn-collapse d-inline-block d-lg-none"><i class="fa fa-chevron-down"></i></a>'
                ret += '</div>'
            }else {
                if(row.currency_code.startsWith('eth')){
                    if(row.tax > 0) {
                        ret += '<div class="text-secondary">' +
                            '(转帐费：&nbsp;-&nbsp;' + row.tax +
                            '<span class="unit">' +
                            '&nbsp;' + code +
                            '</span>' + ')' +
                            '</div>';
                    }else if(!row.txid){
                        ret += '<div class="text-secondary">' +
                            '(转帐费：' + '结算中' + ')' +
                            '</div>';
                    }
                }
            }
            return ret;
        },
    }, { // 2
        data: 'address',
        visible: $(window).width() > 991,
        render: function(data, type, row) {
            return getCurrencyAddress(data, row) || '-';
        },
    }, { // 3
        data: 'txid',
        visible: $(window).width() > 991,
        className: 'txid',
        render: function(data, type, row) {
            var statusText = row.txid ? '已支付' : '处理中';
            var ret = '<span class="status-text">' + statusText + '</span>';
            var code = row.currency_code;
            if (row.txid) {
                var txExplorer = row.crypto_wallet_explorer ? row.crypto_wallet_explorer.replace('{}', row.txid) : (TX_EXPLORER[code] || '').replace('{}', row.txid);
                ret += '<a class="tx-name tooltip-white tx-paste" href="javascript:void(0)" data-currency="' + code + '" data-toggle="tooltip" data-trigger="hover focus" title="' +
                    row.txid + '" txExplorer="'+ txExplorer +'">' +
                    '交易ID' + '</a>';
            }
            if (row.comment) {
                ret += '<a class="tx-des" href="javascript:void(0)" data-currency="' + (row.currency_code) + '" data-toggle="tooltip" data-trigger="hover focus" title="' +
                    row.comment + '">备注</a>';
            }
            return ret;
        }
    }];
    var PAYOUT_DRAW_CALL_BACK = function(settings) {
        var api = this.api();
        var data = api.data();
        var currency = $(this).data('currency');
        var type = 'payout';
        updateExportStatus(currency, type, data);
        checkExportBtnStatus(currency, type, data.length > 0);
// tooltip
        bindTooltip($('#payout-table .txid a[data-toggle="tooltip"]'));
    };
    function getCurrencyAddress(data, row) {
        var currencyCode = row.currency_code;
        var showData = data ? '<span class="text-break">' + data + '</span>' : '';
        var addr = row.addr_explorer || ADDR_EXPLORER[currencyCode];
        if (addr) {
            addr = addr.replace('{}', data);
        }
        return data ? (addr ? '<a href="' + addr + '" target="_blank">' + showData + '</a>' : showData) : '';
    }
    var PAYOUT_FORMAT_COLLAPSE_ROW = function(row) {
        var code = row.currency_code;
        var display_code = (CURRENCY_CONFIG[row.currency_code]['display_code'] || row.currency_code).toUpperCase()
        var ret = '<div class="collapse-container payout-collapse-container">'
        ret += '<div class="item">' +
            '<div class="item-name">地址</div>' +
            '<div class="item-val">' +
            getCurrencyAddress(row.address, row) +
            '</div>' +
            '</div>';
        var tx_ret = '-';
        if(row.txid){
            var explorer = row.crypto_wallet_explorer ? row.crypto_wallet_explorer : (TX_EXPLORER[code] || '');
            var txExplorer = explorer.replace('{}', row.txid);
            tx_ret ='<div class="text-break">' +
                '<a class="tx-explorer" href="' + txExplorer + '" >' +
                row.txid +
                '</a>'+
                '&nbsp;<button class="btn btn-normal btn-copy" type="button">复制</button>' +
                '</div>'
        }
        ret += '<div class="item">' +
            '<div class="item-name">交易ID</div>' +
            '<div class="item-val text-blue">' +
            tx_ret +
            '</div>' +
            '</div>'
        if(code.startsWith('eth')) {
            if (row.tax > 0) {
                ret += '<div class="item">' +
                    '<div class="item-name">转帐费</div>' +
                    '<div class="item-val text-blue">' +
                    '- ' + row.tax + ' ' + display_code.toUpperCase() +
                    '</div>' +
                    '</div>'
            }else if(!row.txid){
                ret += '<div class="item">' +
                    '<div class="item-name">转帐费</div>' +
                    '<div class="item-val text-blue">' +
                    '结算中' +
                    '</div>' +
                    '</div>'
            }
        }
        if (row.comment) {
            ret += '<div class="item">' +
                '<div class="item-name">备注</div>' +
                '<div class="item-val">' +
                row.comment +
                '</div>' +
                '</div>'
        }
        ret += '<div class="item item-action">' +
            '<a href="javascript:void(0)" class="btn btn-normal btn-collapse-hidden">' +
            '收起' +
            '<i class="fa fa-chevron-up"></i>' +
            '</a>' +
            '</div>';
        ret += '</div>'
        return ret;
    }

//<script>
    var REWARD_CURRENCY_PAYOUT_COLUMNS = [{
        data: 'created_at',
        className: 'date',
        render: function(data, type, row) {
            var ret = moment(new Date(data * 1000)).format('YYYY-MM-DD');
            return ret;
        },
    }, {
        data: 'amount',
        className: 'amount',
        render: function(data, type, row) {
            var amount = parseFloat(data, 2);
            var code = OTHER_CURRENCY_CONFIG[row.currency_code]['currency_unit']
            var precision = row.currency_code === "hathor" ? 2 : 8
            var ret = isNaN(amount) ? '-' : (Big(amount).round(precision, 0).toFixed(precision) + ' ' + '<span class="unit">' + code + '</span>');
            if($(window).width()<= 991){
                var statusText = row.txid ? '已支付' : '处理中';
                ret = '<div class="d-flex justify-content-end align-items-center"><div>' + ret;
                ret += '<div class="text-secondary">' + statusText + '</div>';
                ret += '</div>'
                ret += '<a href="javascript:void(0)" class="btn-collapse d-inline-block d-lg-none"><i class="fa fa-chevron-down"></i></a>'
                ret += '</div>'
            }
            return ret;
        },
    }, {
        data: 'address',
        visible: $(window).width() > 991,
        render: function(data, type, row) {
            var code = row.currency_code;
            var explorer = data.addr_explorer || ADDR_EXPLORER[row.currency_code];
            if (row.crypto_wallet_explorer) {
                explorer = row.crypto_wallet_explorer;
            }
            var href = explorer.replace('{}', data);
            return data ? ('<a href="' + href +
                '" target="_blank">' + data + '</a>') : '-';
        },
    }, {
        data: 'txid',
        visible: $(window).width() > 991,
        className: 'txid',
        render: function(data, type, row) {
            var ret;
            var code = row.currency_code;
            var statusText = row.txid ? '已支付' : '处理中';
            var ret = '<span class="status-text">' + statusText + '</span>';
            if (row.txid) {
                var txExplorer = row.crypto_wallet_explorer ? row.crypto_wallet_explorer.replace('{}', row.txid) : (TX_EXPLORER[code] || '').replace('{}', row.txid);
                ret += '<a class="tx-name tooltip-white tx-paste" href="javascript:void(0)" data-currency="' + code + '" data-toggle="tooltip" data-trigger="hover focus" title="' +
                    row.txid + '" txExplorer="'+ txExplorer +'">' +
                    '交易ID' + '</a>';
            }
            return ret;
        }
    }];
    var REWARD_CURRENCY_PAYOUT_DRAW_CALL_BACK = function(settings) {
        var api = this.api();
        var data = api.data();
        var currency = $(this).data('currency');
        var type = 'payout';
        updateExportStatus(currency, type, data);
        checkExportBtnStatus(currency, type, data.length > 0);
// tooltip
        bindTooltip($('#' + currency + '-payout-table .txid a[data-toggle="tooltip"]'));
    };
    var REWARD_CURRENCY_PAYOUT_FORMAT_COLLAPSE_ROW = function(row) {
        var code = row.currency_code;
        var ret = '<div class="collapse-container payout-collapse-container">';
        var addr_ret = '-';
        if(row.address){
            var addr_explorer = row.addr_explorer || ADDR_EXPLORER[code];
            if (row.crypto_wallet_explorer) {
                addr_explorer = row.crypto_wallet_explorer;
            }
            var href = addr_explorer.replace('{}', row.address);
            addr_ret = '<a href="' + href + '" target="_blank">' + row.address + '</a>'
        }
        ret += '<div class="item">' +
            '<div class="item-name">地址</div>' +
            '<div class="item-val">' +
            '<div class="text-break">' +
            addr_ret +
            '</div>' +
            '</div>' +
            '</div>';
        var tx_ret = '-';
        if(row.txid){
            var explorer = row.crypto_wallet_explorer ? row.crypto_wallet_explorer : (TX_EXPLORER[code] || '');
            var txExplorer = explorer.replace('{}', row.txid);
            tx_ret ='<div class="text-break">' +
                '<a class="tx-explorer" href="' + txExplorer + '" >' +
                row.txid +
                '</a>'+
                '&nbsp;<button class="btn btn-normal btn-copy" type="button">复制</button>' +
                '</div>'
        }
        ret += '<div class="item">' +
            '<div class="item-name">交易ID</div>' +
            '<div class="item-val">' +
            tx_ret +
            '</div>' +
            '</div>'
        ret += '<div class="item item-action">' +
            '<a href="javascript:void(0)" class="btn btn-normal btn-collapse-hidden">' +
            '收起' +
            '<i class="fa fa-chevron-up"></i>' +
            '</a>' +
            '</div>';
        ret += '</div>'
        return ret;
    }
    loadTable({
        $table: $('#payout-table'),
        param_currency: currency_code,
        columns: PAYOUT_COLUMNS,
        url: '/eth/0x4602526044e69a6da5fd7baa25db4e05db8a7230',
        action: 'load_payout_history_outcome',
        draw_call_back: PAYOUT_DRAW_CALL_BACK,
    });



    bindMobileRowCollapse();
    bindNavTabs();

    function bindNavTabs() {
        $('#historyTab .nav-item:first-child .nav-link').tab('show');
        var type = $('#historyTab .nav-item:first-child .nav-link').data('type');
        var text = $('#m-historyTab .dropdown-menu .dropdown-item:first-child').addClass('active').text();
        $('#m-historyTab').find('.dropdown-toggle').text(text);
        var href = $('#m-historyTab .dropdown-menu .dropdown-item:first-child').attr('href');
        $(href + '-tab').tab('show');
        updateActionStatus(type) ;
        $('#historyTab').on('click', '.nav-link', function(){
            updateActionStatus($(this).data('type')) ;
        })
        $('#m-historyTab').on('click', '.dropdown-item', function(){
            $('#m-historyTab').find('.dropdown-item.active').removeClass('active');
            $(this).addClass('active');
            var text = $(this).text();
            var href = $(this).attr('href')
            $('#m-historyTab').find('.dropdown-toggle').text(text);
            $(href + '-tab').tab('show');
        })
    }
    function bindNavRewardTabs(){
        $('#rewardCurrencyTab .nav-item:first-child .nav-link').tab('show');
        var type = $('#rewardCurrencyTab .nav-item:first-child .nav-link').data('type');
        ACTIVE_REWARD_PANE.type = type;
        $('#reward-currency-' + ACTIVE_REWARD_PANE.currency + '-' + ACTIVE_REWARD_PANE.type).tab('show');
        var text = $('#m-rewardCurrencyTab .dropdown-menu .dropdown-item:first-child').addClass('active').text();
        $('#m-rewardCurrencyTab').find('.dropdown-toggle').text(text);
        $('.nav-reward-currency').on('click', '.nav-item', function(){
            var currency = $(this).data('currency');
            if( currency === ACTIVE_REWARD_PANE.currency ) return;
            ACTIVE_REWARD_PANE.currency = currency;
            var showCode = OTHER_CURRENCY_CONFIG[currency]['currency_unit'] || currency.toUpperCase();
            $('.reward-currency-head .title').text( ("{} 收益").replace('{}', showCode));
            $('.reward-currency-tab-content .tab-pane.show.active').removeClass('show').removeClass('active');
            $('#reward-currency-' + ACTIVE_REWARD_PANE.currency + '-' + ACTIVE_REWARD_PANE.type).tab('show');
            updateRewardBtnExportStatus();
        })
        $('#rewardCurrencyTab').on('click', '.nav-link', function(){
            var type = $(this).data('type');
            if(type === ACTIVE_REWARD_PANE.type) return;
            ACTIVE_REWARD_PANE.type = type;
            $('.reward-currency-tab-content .tab-pane.show.active').removeClass('show').removeClass('active');
            $('#reward-currency-' + ACTIVE_REWARD_PANE.currency + '-' + ACTIVE_REWARD_PANE.type).tab('show');
            updateRewardBtnExportStatus();
        })
        $('#m-rewardCurrencyTab').on('click', '.dropdown-item', function(){
            $('#m-rewardCurrencyTab').find('.dropdown-item.active').removeClass('active');
            $(this).addClass('active');
            var text = $(this).text();
            ACTIVE_REWARD_PANE.type = $(this).data('type');
            $('#m-rewardCurrencyTab').find('.dropdown-toggle').text(text);
            $('.reward-currency-tab-content .tab-pane.show.active').removeClass('show').removeClass('active');
            $('#reward-currency-' + ACTIVE_REWARD_PANE.currency + '-' + ACTIVE_REWARD_PANE.type).tab('show');
            updateRewardBtnExportStatus();
        })
    }
    function updateActionStatus(type, currency = 'eth-address'){
        $('.worker-filter').toggle( type === 'workers')
        $('.export-container').toggle ( type !== 'workers')
        if (type !== 'workers'){
            $('.export-container .main-btn-export').data('type', type).prop('disabled', !EXPORT_STATUS['' + currency + type]['isEnabled']);
        }
    }
    function updateRewardBtnExportStatus() {
        $('.btn.reward-currency-btn-export').data('type', ACTIVE_REWARD_PANE.type).data('currency', ACTIVE_REWARD_PANE.currency);
        $('.btn.reward-currency-btn-export').prop('disabled', !EXPORT_STATUS['' + ACTIVE_REWARD_PANE.currency + ACTIVE_REWARD_PANE.type]['isEnabled']);
    }
    function showDeadMinerTip() {
        var storage = JSON.parse(Cookies.get('feature_tip') || '{}');
        var $modal = $('#modal-feature-dead-miner');
        if (!storage.dead_miner_tip) {
            $modal.modal('show');
        }
        $modal.on('click', '.btn-got-it', function() {
            storage.dead_miner_tip = true;
            Cookies.set('feature_tip', JSON.stringify(storage), { expires: 365 });
        });
    }
    function initHelpModal() {
        $('.modal-help').on('show.bs.modal', function() {
            $('body').css({
                position: 'fixed',
                top: 0,
                left: 0,
                right: 0,
                bottom: 0,
            });
        }).on('hide.bs.modal', function() {
            $('body').css({
                position: '',
                top: '',
                left: '',
                right: '',
                bottom: '',
            });
        });
    }
    function initMainChart() {
        MAIN_CHART = echarts.init(document.getElementById('chart'));
        MAIN_CHART.setOption($.extend({}, CHART_OPTION));
        bindChartResize(MAIN_CHART);
        bindTogglePeriod();
        getHashrateData();
    }
    function getHashrateData() {
        MAIN_CHART.showLoading({
            text: 'loading...',
            color: '#2053e9',
            maskColor: 'rgba(255, 255, 255, 0.6)'
        });
        $.ajax({
            type: 'GET',
            url: '/eth/0x4602526044e69a6da5fd7baa25db4e05db8a7230',
            data: {
                action: 'load_by_duration',
                duration: CHART_INTERVAL === '30min' ? 1 : 30,
            }
        }).done(function(response, status, xhr) {
            MAIN_CHART.hideLoading();
            if (response.status == 'ok') {
                var data = response.data || {};
                renderChart(MAIN_CHART, null, data.hashrate_history, data.hashrate_history_stale_rate);
            } else {
                MAIN_CHART.clear();
            }
        }).fail(function(xhr, status, errorThrown) {
            MAIN_CHART.hideLoading();
            MAIN_CHART.clear();
        });
    }
    function renderChart(chart, tickValues, hashrateHistory, rejectedHistory) {
        var $chartContainer = $(chart.getDom());
        var interval;
        var isMainChart = false;
        if($chartContainer.is('#chart')) isMainChart = true;
        if(isMainChart){
            interval = 3600 * 1000 * (CHART_INTERVAL === '30min' ? 2 : 48);
        }else {
            interval = 3600 * 1000 * 2;
        }
        var min = tickValues ? tickValues[0] : ([hashrateHistory.values[0] ? hashrateHistory.values[0][0] : 0]);
        var series_name = 'ETH';
        var unit = hashrateHistory.key.split(' ')[1];
        var option = {
            tooltip: {
                formatter: function(params) {
                    var ret = params.length > 0 ? '<div class="chart-tooltip-date">' +
                        moment(new Date(parseInt(params[0].value, 10))).format(isMainChart && CHART_INTERVAL === '1d' ? 'MM-DD': 'MM-DD HH:mm') + '</div>' : '';
                    params.forEach(function(item) {
                        ret += '<div class="chart-tooltip-item"><span class="marker">' + item.marker + '</span>' +
                            html_escape(item.seriesName) + ': <strong>' + item.data[1] + '</strong></div>';
                    });
                    return '<div class="chart-tooltip-content">' + ret + '</div>';
                }
            },
            xAxis: {
                min: min,
                interval: IS_MOBILE ? interval * 1.5 : interval,
                axisLabel: {
                    rotate: $chartContainer.width() < 1000 ? 40 : 0,
                }
            },
            yAxis: [{
                name: '算力' + ' ' + unit,
                nameTextStyle: {
                    padding: [0, 0, 0, 20]
                },
            }],
            series: [{
                name: series_name,
                data: hashrateHistory.values.map(formatSeriesData)
            }]
        };
        if(rejectedHistory && $chartContainer.is('#chart')){
            if(rejectedHistory.values.filter(function(item){
                return item[1] > 0;
            }).length > 0 ){
                option.yAxis[1] = {
                    name: '拒绝率' + ' (%)',
                    max: 100,
                };
                option.series[1] = {
                    name: '拒绝率',
                    data: rejectedHistory.values.map(formatRejectedData)
                }
            } else {
                option.yAxis[1] = {name: ''};
                option.series[1] = {name: '', data: []};
            }
        }
//chart.setOption(CHART_OPTION);
        chart.setOption(option);
    }
    function formatSeriesData(i) {
        return [i[0], i[1].toFixed(1)];
    }
    function formatRejectedData(i){
        return [i[0], i[1].toFixed(2)];
    }
// chart size refresh
    function bindChartResize(chart) {
        var $chartContainer = $(chart.getDom());
        $(window).resize(function() {
            chart.resize();
            chart.setOption({
                xAxis: {
                    axisLabel: {
                        rotate: $chartContainer.width() < 1000 ? 40 : 0,
                    }
                }
            });
        });
    }
    function bindTogglePeriod() {
        $('.page-address .period-toggle .btn').on('click', function() {
            var $title = $('.toggle-control-container h4');
            var period = $(this).find('input').data('val');
            if (period === CHART_INTERVAL) return;
            CHART_INTERVAL = period;
            $title.text($title.text().split('-')[0] + ' - ' +
                (period === '1d' ? '过去30天算力' : '过去24小时算力'));
            getHashrateData();
        });
    }
    function bindWinResize() {
        var $win = $(window);
        WIN_WIDTH = $win.width();
        $(window).resize(function() {
            var winWidth = $(window).width();
            var table = WORKER_TABLE;
            if (!WORKER_TABLE) return;
            if (winWidth > 991 && WIN_WIDTH <= 991) {
                $('header.header').removeClass('header-white header-fix-top header-no-banner');
                IS_MOBILE = false;
//WORKER_TABLE.fixedHeader.headerOffset($('.page-wrapper.has-tips').length > 0 ? 232 : 192);
                if (STICKY_LIST_TAB_CONTAINER) {
                    STICKY_LIST_TAB_CONTAINER.update({
                    });
                } else {
                    STICKY_LIST_TAB_CONTAINER = stickybits('.list-tab-container', {
                        stickyBitStickyOffset: $('.page-wrapper.has-tips').length > 0 ? 108 : 68,
                        useStickyClasses: true
                    });
                }

                table.columns([1, 4, 5]).visible(true);

                table.columns([6, 8]).visible(true);
                STICKY_LIST_TAB_CONTAINER.update();
//STICKY_WORKER_STATUS_FILTER.update();
            } else if (winWidth <= 991 && WIN_WIDTH > 991) {
                $('header.header').addClass('header-white header-fix-top header-no-banner');
                IS_MOBILE = true;
                if (STICKY_LIST_TAB_CONTAINER) {
                    STICKY_LIST_TAB_CONTAINER.cleanup();
                }
//WORKER_TABLE.fixedHeader.headerOffset($('.page-wrapper.has-tips').length > 0 ? 190 : 150);
                STICKY_LIST_TAB_CONTAINER.update();
//STICKY_WORKER_STATUS_FILTER.update();

                table.columns([1, 4]).visible(false);

                table.columns([6, 8]).visible(false);
            }
            WIN_WIDTH = winWidth;
        });
    }
    function formatTimestamp(container) {
        var $container = $(container || 'body');
        $container.find('.js-format-timestamp').each(function() {
            var $this = $(this);
            $this.text(formatTimestampUptoMinute($this.data('timestamp')));
        });
    }
    function bindTransferDetail() {
        var $modal = $('#modal-transfer-detail');
        var $noDataTip = $modal.find('.no-data-tip');
        var $table = $modal.find('.table-transfer-detail');
        $modal.on('show.bs.modal', function() {
            var $table = $modal.find('.table-transfer-detail');
            $.ajax({
                type: 'GET',
                url: '/eth/0x4602526044e69a6da5fd7baa25db4e05db8a7230',
                data: {},
                beforeSend: function() {
                    $noDataTip.hide();
                    $table.find('tbody').empty();
                    $table.data('originData', null);
                },
            }).done(function(response, status, xhr) {
                var data = response.data;
                if (response.status == "fail" || (data && data.length === 0)) {
                    $noDataTip.show();
                } else {
                    $table.find('tbody').html(data.map(function(item) {
                        return '<tr><td>' + moment(item.timestamp * 1000).format('YYYY-MM-DD HH:mm') + '<div class="d-block d-lg-none text-secondary">' + item.sell_name + '</div></td>' +
                            '<td class="d-none d-lg-table-cell">' + item.sell_name + '</td>' +
                            '<td>' + item.hashes_order + '<span class="unit"> T</span><div class="d-block d-lg-none text-secondary">' + item.hashes_real + '<span class="unit"> T</span></div></td>' +
                            '<td class="d-none d-lg-table-cell">' + item.hashes_real + '<span class="unit"> T</span></td></tr>';
                    }).join(''));
                    $table.data('originData', data);
                }
            });
        }).on('click', '.btn-export-transfer-detail', function() {
            var data = $table.data('originData');
            if (!data) {
                e.preventDefault();
                return false;
            }
            exportTableToCsv(this, data, '0x4602526044e69a6da5fd7baa25db4e05db8a7230');
        });
    }
    function exportTableToCsv(aLink, data, user) {
        var str = '日期,' + '出租方帐户,' + '出租总算力,' + '实际有效算力,\r\n';
        str += data.map(function(item) {
            return moment(item.timestamp * 1000).format('YYYY-MM-DD HH:mm') + ',' +
                item.sell_name + ',' +
                item.hashes_order + ' T,' +
                item.hashes_real + ' T,' + '\r\n';
        }).join('');
        $(aLink).attr('download', 'transfer_detail_' + user + '.csv');
        aLink.href = 'data:text/csv;charset=utf-8,\ufeff' + encodeURIComponent(str);
    }
    function initCopy() {
        var clip = new ClipboardJS('.btn-copy', {
            target: function(trigger) {
//return $(trigger).parents('.copy-container').find('.copy-content').get(0);
                return $(trigger).prev().get(0);
            }
        });
        clip.on('success', function() {
            $('.status-toast').remove();
            $('body').append('<div class="status-toast">已复制!</div>');
            $('.status-toast').delay(5000).hide(0);
        });
        clip.on('error', function() {
            $('.status-toast').remove();
            $('body').append('<div class="status-toast fail">复制失败!</div>');
            $('.status-toast').delay(5000).hide(0);
        });
    }
});
</script>
</html>
